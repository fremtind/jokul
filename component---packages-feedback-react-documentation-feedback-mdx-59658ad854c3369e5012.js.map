{"version":3,"file":"component---packages-feedback-react-documentation-feedback-mdx-59658ad854c3369e5012.js","mappings":"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","sources":["webpack://@fremtind/portal/../packages/feedback-react/src/FeedbackValues.tsx","webpack://@fremtind/portal/../packages/feedback-react/src/utils.ts","webpack://@fremtind/portal/../packages/feedback-react/src/BaseFeedback.tsx","webpack://@fremtind/portal/../packages/feedback-react/src/Smiley.tsx","webpack://@fremtind/portal/../packages/feedback-react/src/Feedback.tsx","webpack://@fremtind/portal/../packages/feedback-react/src/SimplifiedFeedback.tsx","webpack://@fremtind/portal/../packages/feedback-react/documentation/Example.tsx","webpack://@fremtind/portal/../packages/feedback-react/documentation/Feedback.mdx","webpack://@fremtind/portal/../packages/button-react/build/browser/index.js","webpack://@fremtind/portal/../packages/loader-react/build/browser/index.js"],"sourcesContent":["import { FeedbackOption } from \"./types\";\n\nexport const VERY_UNHAPPY: FeedbackOption = { label: \"Ikke fornøyd i det hele tatt\", value: 1 };\nexport const UNHAPPY: FeedbackOption = { label: \"Ikke fornøyd\", value: 2 };\nexport const NEUTRAL: FeedbackOption = { label: \"Verken fornøyd eller misfornøyd\", value: 3 };\nexport const HAPPY: FeedbackOption = { label: \"Fornøyd\", value: 4 };\nexport const VERY_HAPPY: FeedbackOption = { label: \"Veldig fornøyd\", value: 5 };\n","import { FeedbackOption, FeedbackValue } from \"./types\";\n\nexport function hasPrompt(option: FeedbackValue | FeedbackOption): option is FeedbackOption {\n    return option?.hasOwnProperty(\"prompt\");\n}\n\nexport function hasLabel(option: FeedbackValue | FeedbackOption): option is FeedbackOption {\n    return option?.hasOwnProperty(\"label\");\n}\n\nexport function getLabel(option: FeedbackValue | FeedbackOption) {\n    return hasLabel(option) ? (option as FeedbackOption).label : `${getRawFeedbackValue(option)}`;\n}\n\nexport function getRawFeedbackValue(option: FeedbackValue | FeedbackOption) {\n    return isFeedbackValue(option) ? option : option?.value;\n}\n\nexport function getRawFeedbackValues(options: Array<FeedbackValue | FeedbackOption>) {\n    return options.map(getRawFeedbackValue);\n}\n\nexport function isFeedbackValue(option: FeedbackValue | FeedbackOption): option is FeedbackValue {\n    return typeof option === \"number\";\n}\n\nexport function transformToValuePair(option: FeedbackValue | FeedbackOption) {\n    return {\n        label: getLabel(option),\n        value: getRawFeedbackValue(option),\n    };\n}\n","import React, {\n    createContext,\n    useCallback,\n    useEffect,\n    useState,\n    FC,\n    ReactNode,\n    FormEvent,\n    ChangeEvent,\n    useRef,\n} from \"react\";\nimport cn from \"classnames\";\nimport { TextArea } from \"@fremtind/jkl-text-input-react\";\nimport { SecondaryButton } from \"@fremtind/jkl-button-react\";\nimport { SuccessMessage } from \"@fremtind/jkl-message-box-react\";\nimport { useAnimatedHeight } from \"@fremtind/jkl-react-hooks\";\nimport { VERY_UNHAPPY, UNHAPPY, NEUTRAL, HAPPY, VERY_HAPPY } from \"./FeedbackValues\";\nimport { FeedbackOption, FeedbackValue } from \"./types\";\nimport { hasPrompt } from \"./utils\";\n\nexport type FeedbackPayload = {\n    feedbackValue: FeedbackValue;\n    message?: string;\n};\n\ninterface CustomSuccessProps {\n    value?: FeedbackValue;\n    message: string;\n}\nexport interface BaseFeedbackProps {\n    label: string;\n    onSubmit: (data: FeedbackPayload) => void;\n    description: string;\n    feedbackOptions?: Array<FeedbackValue | FeedbackOption>;\n    renderCustomSuccess?: (props: CustomSuccessProps) => ReactNode;\n    successTitle?: string;\n    successMessage?: string;\n    className?: string;\n    callToActionText?: string;\n    showTextArea?: boolean;\n    textAreaLabel?: string;\n    textAreaHelpLabel?: string;\n    headingLevel?: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"p\";\n}\n\ninterface Props extends BaseFeedbackProps {\n    content: ReactNode;\n}\n\nexport const FeedbackContext = createContext<{\n    description: string;\n    options: Array<FeedbackValue | FeedbackOption>;\n    value?: FeedbackValue;\n    setValue: (next: FeedbackValue) => void;\n}>({ description: \"\", options: [], setValue: () => undefined });\n\nexport const BaseFeedback: FC<Props> = ({\n    label,\n    onSubmit,\n    description,\n    renderCustomSuccess,\n    successMessage = \"Det hjelper oss i arbeidet med å forbedre våre løsninger\",\n    successTitle = \"Takk for tilbakemeldingen!\",\n    callToActionText = \"Send inn tilbakemelding\",\n    showTextArea = true,\n    textAreaLabel = \"Tips oss gjerne om hva vi kan forbedre\",\n    textAreaHelpLabel = \"\",\n    className = \"\",\n    feedbackOptions = [VERY_UNHAPPY, UNHAPPY, NEUTRAL, HAPPY, VERY_HAPPY],\n    headingLevel = \"h3\",\n    content,\n}) => {\n    const [feedbackValue, setFeedbackValue] = useState<FeedbackValue>();\n    const [feedbackPrompt, setFeedbackPrompt] = useState(textAreaLabel);\n    const [message, setMessage] = useState(\"\");\n    const [feedbackSubmitted, setFeedbackSubmitted] = useState(false);\n    const [feedbackSubmittedAnimation, setFeedbackSubmittedAnimation] = useState(false);\n    const [animationRef] = useAnimatedHeight<HTMLDivElement>(feedbackValue !== undefined);\n\n    const feedbackValuesRef = useRef({\n        onSubmit,\n        values: { feedbackValue, message },\n        feedbackSubmitted,\n    });\n\n    useEffect(() => {\n        feedbackValuesRef.current.feedbackSubmitted = feedbackSubmitted;\n    }, [feedbackSubmitted]);\n\n    const handleSubmit = useCallback(() => {\n        if (\n            !feedbackValuesRef.current.feedbackSubmitted &&\n            feedbackValuesRef.current.values.feedbackValue !== undefined\n        ) {\n            feedbackValuesRef.current.onSubmit(feedbackValuesRef.current.values as FeedbackPayload);\n        }\n    }, []);\n\n    useEffect(() => {\n        feedbackValuesRef.current = {\n            ...feedbackValuesRef.current,\n            onSubmit,\n            values: { feedbackValue, message },\n        };\n    }, [feedbackValue, message, onSubmit]);\n\n    useEffect(() => {\n        if (typeof window !== \"undefined\") {\n            window.addEventListener(\"beforeunload\", handleSubmit);\n        }\n        return () => {\n            handleSubmit();\n            window.removeEventListener(\"beforeunload\", handleSubmit);\n        };\n        // No need to depend on handleSubmit, since all values come from a ref\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        const option = feedbackOptions.find((v) => hasPrompt(v) && v.value === feedbackValue) as\n            | FeedbackOption\n            | undefined;\n        setFeedbackPrompt(option?.prompt ?? textAreaLabel);\n    }, [feedbackOptions, feedbackValue, textAreaLabel]);\n\n    const handleActiveSubmit = (e: FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        handleSubmit();\n        setFeedbackSubmittedAnimation(true);\n        setTimeout(() => setFeedbackSubmitted(true), 250);\n    };\n\n    const handleMessageChange = (e: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) =>\n        setMessage(e.currentTarget.value);\n\n    const H = headingLevel;\n\n    return (\n        <div className={cn(\"jkl-feedback\", className)}>\n            <FeedbackContext.Provider\n                value={{\n                    description,\n                    options: feedbackOptions,\n                    setValue: setFeedbackValue,\n                    value: feedbackValue,\n                }}\n            >\n                {feedbackSubmitted && (\n                    <section className=\"jkl-feedback__success\" data-testid=\"feedback-success\">\n                        {renderCustomSuccess && renderCustomSuccess({ value: feedbackValue, message })}\n                        {!renderCustomSuccess && <SuccessMessage title={successTitle}>{successMessage}</SuccessMessage>}\n                    </section>\n                )}\n                {!feedbackSubmitted && (\n                    <form\n                        className={cn(\"jkl-feedback__form\", {\n                            \"jkl-feedback__form--hidden\": feedbackSubmittedAnimation,\n                        })}\n                        onSubmit={handleActiveSubmit}\n                    >\n                        <H className=\"jkl-feedback__heading\">{label}</H>\n                        {content}\n                        <section\n                            ref={animationRef}\n                            className={cn(\"jkl-feedback__submit-wrapper\", {\n                                \"jkl-feedback__submit-wrapper--hidden jkl-layout-spacing--medium-top\":\n                                    feedbackValue === undefined,\n                            })}\n                        >\n                            <div className=\"jkl-feedback__submit-content\">\n                                {showTextArea && (\n                                    <TextArea\n                                        className=\"jkl-feedback__message-input\"\n                                        data-testid=\"feedback-text\"\n                                        name=\"feedback-text\"\n                                        label={feedbackPrompt}\n                                        variant=\"small\"\n                                        rows={3}\n                                        helpLabel={textAreaHelpLabel}\n                                        value={message}\n                                        onChange={handleMessageChange}\n                                    />\n                                )}\n                                <SecondaryButton\n                                    data-testid=\"submit-button\"\n                                    className=\"jkl-layout-spacing--medium-top\"\n                                    type=\"submit\"\n                                >\n                                    {callToActionText}\n                                </SecondaryButton>\n                            </div>\n                        </section>\n                    </form>\n                )}\n            </FeedbackContext.Provider>\n        </div>\n    );\n};\n","import React, { FC } from \"react\";\nimport { FeedbackValue } from \"./types\";\n\nconst smileys = {\n    1: {\n        icon: <path d=\"M40 42C40 36.4772 35.0751 32 29 32C22.9249 32 18 36.4772 18 42\"></path>,\n    },\n    2: {\n        icon: <path d=\"M40 39C37.5556 35.4353 33.8529 33 29 33C24.1471 33 20.4444 35.4353 18 39\"></path>,\n    },\n    3: {\n        icon: <line x1=\"20\" y1=\"37\" x2=\"36\" y2=\"37\"></line>,\n    },\n    4: {\n        icon: <path d=\"M18 35C20.4444 38.5647 24.1471 41 29 41C33.8529 41 37.5556 38.5647 40 35\"></path>,\n    },\n    5: {\n        icon: <path d=\"M29 45C36.5429 45 40.1429 38.3333 41 35L17 35C17.5714 38.3333 21.4571 45 29 45Z\"></path>,\n    },\n};\n\nexport const getSmiley = (element: FeedbackValue) => smileys[element];\n\nexport const Smiley: FC<{ element: FeedbackValue }> = ({ element }) => (\n    <svg\n        aria-hidden\n        className={`jkl-feedback-icon jkl-feedback-icon--${element}`}\n        fill=\"currentColor\"\n        viewBox=\"0 0 57 57\"\n    >\n        <circle cx=\"28.5\" cy=\"28.5\" r=\"27.5\"></circle>\n        <circle cx=\"19\" cy=\"24\" r=\"2\" className=\"jkl-feedback-icon__eyes\"></circle>\n        <circle cx=\"38\" cy=\"24\" r=\"2\" className=\"jkl-feedback-icon__eyes\"></circle>\n        {getSmiley(element).icon}\n    </svg>\n);\n","import React, { FC, Fragment, useContext, useState } from \"react\";\nimport { nanoid } from \"nanoid\";\nimport { ScreenReaderOnly } from \"@fremtind/jkl-core\";\nimport { FieldGroup } from \"@fremtind/jkl-field-group-react\";\nimport { BaseFeedback, BaseFeedbackProps, FeedbackContext } from \"./BaseFeedback\";\nimport { Smiley } from \"./Smiley\";\nimport { transformToValuePair } from \"./utils\";\n\nconst FeedbackContent = () => {\n    const { description, options, value, setValue } = useContext(FeedbackContext);\n    const [id] = useState(nanoid(8));\n\n    return (\n        <FieldGroup legend={description} className=\"jkl-feedback__fieldset\" variant=\"medium\">\n            {options?.map((option) => {\n                const { label, value: optionValue } = transformToValuePair(option);\n                const radioButtonId = `${id}-feedback--${optionValue}`;\n\n                return (\n                    <Fragment key={optionValue}>\n                        <input\n                            className=\"jkl-feedback__answer-input\"\n                            type=\"radio\"\n                            name=\"feedback\"\n                            id={radioButtonId}\n                            value={optionValue}\n                            onChange={() => setValue(optionValue)}\n                            checked={value === optionValue}\n                        />\n                        <label\n                            data-testid={`feedback-${optionValue}`}\n                            className=\"jkl-feedback__answer-label\"\n                            htmlFor={radioButtonId}\n                        >\n                            <Smiley element={optionValue} />\n                            <ScreenReaderOnly>{label}</ScreenReaderOnly>\n                        </label>\n                    </Fragment>\n                );\n            })}\n        </FieldGroup>\n    );\n};\n\nexport const Feedback: FC<BaseFeedbackProps> = (props) => {\n    return <BaseFeedback {...props} content={<FeedbackContent />} />;\n};\n","import React, { FC, useContext } from \"react\";\nimport { RadioButtons } from \"@fremtind/jkl-radio-button-react\";\nimport { BaseFeedback, BaseFeedbackProps, FeedbackContext } from \"./BaseFeedback\";\nimport { FeedbackValue } from \"./types\";\nimport { getRawFeedbackValues } from \"./utils\";\n\nconst FeedbackContent: FC = () => {\n    const { description, options, value, setValue } = useContext(FeedbackContext);\n\n    return (\n        <RadioButtons\n            className=\"jkl-feedback__fieldset\"\n            legend={description}\n            name=\"feedback\"\n            choices={getRawFeedbackValues(options).map((_, idx) => (idx + 1).toString())}\n            inline\n            onChange={(e) => setValue(parseInt(e.target.value, 10) as FeedbackValue)}\n            selectedValue={value?.toString()}\n        />\n    );\n};\n\nexport const SimplifiedFeedback = (props: BaseFeedbackProps) => {\n    return <BaseFeedback {...props} content={<FeedbackContent />} />;\n};\n","import React from \"react\";\nimport { ExampleComponentProps } from \"../../../doc-utils\";\nimport { SuccessMessage } from \"@fremtind/jkl-message-box-react\";\nimport { Feedback, HAPPY, NEUTRAL, SimplifiedFeedback, UNHAPPY, VERY_HAPPY, VERY_UNHAPPY } from \"../src\";\n\nexport const Example = ({ boolValues }: ExampleComponentProps) => {\n    const Component = boolValues?.[\"Uten smilefjes\"] ? SimplifiedFeedback : Feedback;\n\n    return (\n        <>\n            <Component\n                label=\"Gi oss tilbakemelding!\"\n                description=\"Hvor fornøyd er du med denne siden for å følge saken?\"\n                onSubmit={console.info}\n                showTextArea={!boolValues?.[\"Uten tekst\"]}\n                renderCustomSuccess={(props) => (\n                    <div>\n                        <SuccessMessage title=\"Tilbakemelding sendt!\">\n                            {props.value === VERY_UNHAPPY.value && <>Det var trist!</>}\n                            {props.value === UNHAPPY.value && (\n                                <>Vi ser på alle tilbakemeldinger, håper vi kan gjøre deg mer fornøyd en annen gang!</>\n                            )}\n                            {props.value === NEUTRAL.value && (\n                                <>Vi vil gjerne ha fornøyde kunder, så vi skal se på tilbakemeldingen din!</>\n                            )}\n                            {props.value === HAPPY.value && <>Takk skal du ha!</>}\n                            {props.value === VERY_HAPPY.value && (\n                                <>\n                                    Det var stas du var fornøyd, vi prøver hele tiden å bli bedre! Takk for\n                                    tilbakemeldingen!\n                                </>\n                            )}\n                        </SuccessMessage>\n                        {props.message && (\n                            <div className=\"jkl-layout-spacing--small-top\">\n                                <span>Kopi av din melding</span>\n                                <pre>{props.message}</pre>\n                            </div>\n                        )}\n                    </div>\n                )}\n            />\n\n            <Component\n                label=\"Bare to valg\"\n                description=\"Hvor fornøyd er du med denne siden for å følge saken?\"\n                onSubmit={console.info}\n                showTextArea={!boolValues?.[\"Uten tekst\"]}\n                feedbackOptions={[UNHAPPY, HAPPY]}\n                className=\"jkl-layout-spacing--large-top\"\n            />\n        </>\n    );\n};\n\nexport default Example;\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/jokul/jokul/portal/src/components/Layout/DocPageLayout.tsx\";\nimport Example from \"./Example\";\nimport { Feedback } from \"../src\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Ingress = makeShortcode(\"Ingress\");\nconst ComponentExample = makeShortcode(\"ComponentExample\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <Ingress mdxType=\"Ingress\">\n    Feedback-komponenten lar oss få tilbakemelding fra brukerene våre. Det kan gi oss viktig innsikt om\n    brukeropplevelsen, og avdekke ønsker om funksjonalitet.\n    </Ingress>\n    <ComponentExample knobs={{\n      boolProps: [\"Uten smilefjes\", \"Uten tekst\"]\n    }} component={Example} mdxType=\"ComponentExample\" />\n    <p>{`Komponenten kommer i to grunnvarianter: Feedback har smilefjes basert på valgene brukeren kan ta, mens SimplifiedFeedback viser vanlige radioknapper. Du kan bestemme hvilke valg brukeren skal få ved å sende inn noen eller alle tall fra 1 til 5:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`1 - Surt fjes`}</li>\n      <li parentName=\"ul\">{`2 - Litt surt fjes`}</li>\n      <li parentName=\"ul\">{`3 - Nøytralt fjes`}</li>\n      <li parentName=\"ul\">{`4 - Smilefjes`}</li>\n      <li parentName=\"ul\">{`5 - Happy smilefjes`}</li>\n    </ul>\n    <p>{`I tillegg til en score kan man la brukeren legge igjen en skriftlig tilbakemelding. Etiketten på tekstfeltet kan spesifiseres generelt og/eller defineres spesifikt basert på hvilken score brukeren har gitt.`}</p>\n    <h2>{`Innsending av data`}</h2>\n    <p>{`Du må selv sende inn en funksjon for å håndtere innsending av data, men komponenten sørger selv for at den blir kalt på riktig tidspunkt; når brukeren trykker send inn, eller når de forlater siden etter å ha tatt et valg i skjemaet.`}</p>\n    <p>{`Funksjonen du sender inn må ta imot et objekt på formen`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-tsx\"\n      }}>{`{ feedbackValue: 1 | 2 | 3 | 4 | 5, message?: string }\n`}</code></pre>\n    <p>{`og du må selv koble opp mot ditt ønskede feedback-endepunkt med eventuell vasking og/eller transformering av data.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import _extends from '@babel/runtime/helpers/extends';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nimport React, { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport { Loader } from '@fremtind/jkl-loader-react';\n\nvar BaseButton = /*#__PURE__*/forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    ref: ref\n  }));\n});\nBaseButton.displayName = \"BaseButton\";\n\nvar _excluded = [\"children\", \"className\", \"forceCompact\", \"inverted\", \"onClick\", \"onTouchStart\", \"loader\"];\n\nvar makeButtonComponent = function makeButtonComponent(buttonType) {\n  var button = /*#__PURE__*/forwardRef(function (_ref, ref) {\n    var children = _ref.children,\n        _ref$className = _ref.className,\n        className = _ref$className === void 0 ? \"\" : _ref$className,\n        forceCompact = _ref.forceCompact,\n        inverted = _ref.inverted,\n        onClick = _ref.onClick,\n        onTouchStart = _ref.onTouchStart,\n        loader = _ref.loader,\n        rest = _objectWithoutProperties(_ref, _excluded);\n\n    var componentClassName = classNames(\"jkl-button\", \"jkl-button--\" + buttonType, {\n      \"jkl-button--compact\": forceCompact,\n      \"jkl-button--inverted\": inverted\n    });\n\n    var handleTouch = function handleTouch(event) {\n      onTouchStart && onTouchStart(event);\n      var target = event.target;\n\n      if (target && event.targetTouches.length) {\n        var Xcoord = event.targetTouches[0].clientX - target.getBoundingClientRect().x;\n        var Ycoord = event.targetTouches[0].clientY - target.getBoundingClientRect().y;\n        target.style.setProperty(\"--jkl-touch-xcoord\", Xcoord.toPrecision(4) + \"px\");\n        target.style.setProperty(\"--jkl-touch-ycoord\", Ycoord.toPrecision(4) + \"px\");\n        target.classList.add(\"jkl-button--pressed\");\n        setTimeout(function () {\n          return target.classList.remove(\"jkl-button--pressed\");\n        }, 400);\n      }\n    };\n\n    if (!loader) {\n      return /*#__PURE__*/React.createElement(BaseButton, _extends({\n        className: classNames(componentClassName, className),\n        onClick: onClick,\n        onTouchStart: handleTouch\n      }, rest, {\n        ref: ref\n      }), children);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"jkl-button-wrapper\", className, {\n        \"jkl-button-wrapper--compact\": forceCompact\n      })\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"jkl-button-wrapper__slider\", {\n        \"jkl-button-wrapper__slider--show-loader\": !!loader.showLoader\n      })\n    }, /*#__PURE__*/React.createElement(BaseButton, _extends({\n      className: componentClassName,\n      onClick: onClick,\n      onTouchStart: handleTouch,\n      disabled: loader === null || loader === void 0 ? void 0 : loader.showLoader\n    }, rest, {\n      ref: ref\n    }), children), (loader === null || loader === void 0 ? void 0 : loader.showLoader) && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jkl-button-wrapper__loader jkl-layout-spacing--small-top\"\n    }, /*#__PURE__*/React.createElement(Loader, {\n      textDescription: loader.textDescription,\n      negative: inverted,\n      \"aria-hidden\": !!loader.showLoader,\n      inline: true\n    }))));\n  });\n  return button;\n};\n\nvar PrimaryButton = makeButtonComponent(\"primary\");\nvar SecondaryButton = makeButtonComponent(\"secondary\");\nvar TertiaryButton = makeButtonComponent(\"tertiary\");\n\nexport { PrimaryButton, SecondaryButton, TertiaryButton };\n","import React from 'react';\nimport classNames from 'classnames';\n\nvar Loader = function Loader(_ref) {\n  var textDescription = _ref.textDescription,\n      _ref$negative = _ref.negative,\n      negative = _ref$negative === void 0 ? false : _ref$negative,\n      _ref$inline = _ref.inline,\n      inline = _ref$inline === void 0 ? false : _ref$inline,\n      className = _ref.className,\n      _ref$dataTestAutoId = _ref.dataTestAutoId,\n      dataTestAutoId = _ref$dataTestAutoId === void 0 ? \"jkl-loader\" : _ref$dataTestAutoId,\n      _ref$politeness = _ref.politeness,\n      politeness = _ref$politeness === void 0 ? \"polite\" : _ref$politeness;\n  var componentClassName = classNames(\"jkl-loader\", className, {\n    \"jkl-loader--negative\": negative,\n    \"jkl-loader--inline\": inline\n  });\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: componentClassName,\n    \"data-testid\": \"jkl-loader\",\n    \"data-testautoid\": dataTestAutoId,\n    title: textDescription,\n    \"aria-label\": textDescription,\n    role: \"alert\",\n    \"aria-busy\": \"true\",\n    \"aria-live\": politeness\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jkl-loader__dot jkl-loader__dot--left\"\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jkl-loader__dot jkl-loader__dot--middle\"\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"jkl-loader__dot jkl-loader__dot--right\"\n  }));\n};\n\nexport { Loader };\n"],"names":["VERY_UNHAPPY","label","value","UNHAPPY","NEUTRAL","HAPPY","VERY_HAPPY","getLabel","option","hasOwnProperty","hasLabel","getRawFeedbackValue","isFeedbackValue","getRawFeedbackValues","options","map","FeedbackContext","createContext","description","setValue","BaseFeedback","onSubmit","renderCustomSuccess","successMessage","successTitle","callToActionText","showTextArea","textAreaLabel","textAreaHelpLabel","className","feedbackOptions","headingLevel","content","useState","feedbackValue","setFeedbackValue","feedbackPrompt","setFeedbackPrompt","message","setMessage","feedbackSubmitted","setFeedbackSubmitted","feedbackSubmittedAnimation","setFeedbackSubmittedAnimation","animationRef","useAnimatedHeight","undefined","feedbackValuesRef","useRef","values","useEffect","current","handleSubmit","useCallback","window","addEventListener","removeEventListener","find","v","hasPrompt","prompt","H","cn","Provider","title","e","preventDefault","setTimeout","ref","name","variant","rows","helpLabel","onChange","currentTarget","type","smileys","icon","d","x1","y1","x2","y2","Smiley","element","fill","viewBox","cx","cy","r","getSmiley","FeedbackContent","useContext","id","nanoid","legend","transformToValuePair","optionValue","radioButtonId","Fragment","key","checked","htmlFor","Feedback","props","choices","_","idx","toString","inline","parseInt","target","selectedValue","SimplifiedFeedback","boolValues","Component","console","info","_frontmatter","makeShortcode","warn","Ingress","ComponentExample","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","knobs","boolProps","component","Example","parentName","isMDXComponent","BaseButton","forwardRef","React","_extends","displayName","_excluded","makeButtonComponent","buttonType","_ref","children","_ref$className","forceCompact","inverted","onClick","onTouchStart","loader","rest","_objectWithoutProperties","componentClassName","classNames","handleTouch","event","targetTouches","length","Xcoord","clientX","getBoundingClientRect","x","Ycoord","clientY","y","style","setProperty","toPrecision","classList","add","remove","showLoader","disabled","Loader","textDescription","negative","PrimaryButton","SecondaryButton","TertiaryButton","_ref$negative","_ref$inline","_ref$dataTestAutoId","dataTestAutoId","_ref$politeness","politeness","role"],"sourceRoot":""}