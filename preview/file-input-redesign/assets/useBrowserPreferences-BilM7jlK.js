import{r as a}from"./index-C6mWTJJr.js";function c(e){return window.matchMedia?window.matchMedia(e).matches:!1}function i(e,r){typeof e.addEventListener<"u"?e.addEventListener("change",r):e.addListener(r)}function u(e,r){typeof e.removeEventListener<"u"?e.removeEventListener("change",r):e.removeListener(r)}const C="(prefers-reduced-motion: reduce)",E="(prefers-color-scheme: light)",f="(forced-colors: active)",l={prefersReducedMotion:!1,prefersColorScheme:"light",forcedColors:!1},O=(e,r)=>{switch(r.type){case"COLOR_SCHEME_CHANGED":return{...e,prefersColorScheme:r.value};case"REDUCED_MOTION_CHANGED":return{...e,prefersReducedMotion:r.value};case"FORCED_COLORS_CHANGED":return{...e,forcedColors:r.value};default:return e}},m=()=>{const[e,r]=a.useState(!1),[h,t]=a.useReducer(O,l);return a.useEffect(()=>{r(!0);const n=c(C),s=c(E)?"light":"dark",d=c(f);t({type:"REDUCED_MOTION_CHANGED",value:n}),t({type:"COLOR_SCHEME_CHANGED",value:s}),t({type:"FORCED_COLORS_CHANGED",value:d})},[]),a.useEffect(()=>{if(!e||!window.matchMedia)return;const n=o=>{t({type:"REDUCED_MOTION_CHANGED",value:o.matches})},s=o=>{t({type:"COLOR_SCHEME_CHANGED",value:o.matches?"light":"dark"})},d=o=>{t({type:"FORCED_COLORS_CHANGED",value:o.matches})};return i(window.matchMedia(C),n),i(window.matchMedia(E),s),i(window.matchMedia(f),d),()=>{u(window.matchMedia(C),n),u(window.matchMedia(E),s),u(window.matchMedia(f),d)}},[e]),{...h}};export{m as u};
