import{r as d,a as en}from"./index-C6mWTJJr.js";import{r as tn}from"./index-zunobDwC.js";const Pe=Math.min,be=Math.max,Ze=Math.round,qe=Math.floor,le=e=>({x:e,y:e}),Wn={left:"right",right:"left",bottom:"top",top:"bottom"},Vn={start:"end",end:"start"};function yt(e,t,n){return be(e,Pe(t,n))}function Ve(e,t){return typeof e=="function"?e(t):e}function we(e){return e.split("-")[0]}function $e(e){return e.split("-")[1]}function nn(e){return e==="x"?"y":"x"}function Et(e){return e==="y"?"height":"width"}function Ae(e){return["top","bottom"].includes(we(e))?"y":"x"}function Tt(e){return nn(Ae(e))}function $n(e,t,n){n===void 0&&(n=!1);const r=$e(e),o=Tt(e),i=Et(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Qe(s)),[s,Qe(s)]}function Hn(e){const t=Qe(e);return[wt(e),t,wt(t)]}function wt(e){return e.replace(/start|end/g,t=>Vn[t])}function Kn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function _n(e,t,n,r){const o=$e(e);let i=Kn(we(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(wt)))),i}function Qe(e){return e.replace(/left|right|bottom|top/g,t=>Wn[t])}function jn(e){return{top:0,right:0,bottom:0,left:0,...e}}function rn(e){return typeof e!="number"?jn(e):{top:e,right:e,bottom:e,left:e}}function Je(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function kt(e,t,n){let{reference:r,floating:o}=e;const i=Ae(t),s=Tt(t),c=Et(s),u=we(t),a=i==="y",p=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,m=r[c]/2-o[c]/2;let l;switch(u){case"top":l={x:p,y:r.y-o.height};break;case"bottom":l={x:p,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:f};break;case"left":l={x:r.x-o.width,y:f};break;default:l={x:r.x,y:r.y}}switch($e(t)){case"start":l[s]-=m*(n&&a?-1:1);break;case"end":l[s]+=m*(n&&a?-1:1);break}return l}const qn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:f}=kt(a,r,u),m=r,l={},h=0;for(let g=0;g<c.length;g++){const{name:E,fn:w}=c[g],{x:y,y:O,data:x,reset:T}=await w({x:p,y:f,initialPlacement:r,placement:m,strategy:o,middlewareData:l,rects:a,platform:s,elements:{reference:e,floating:t}});p=y??p,f=O??f,l={...l,[E]:{...l[E],...x}},T&&h<=50&&(h++,typeof T=="object"&&(T.placement&&(m=T.placement),T.rects&&(a=T.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:p,y:f}=kt(a,m,u)),g=-1)}return{x:p,y:f,placement:m,strategy:o,middlewareData:l}};async function on(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:u}=e,{boundary:a="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:m=!1,padding:l=0}=Ve(t,e),h=rn(l),E=c[m?f==="floating"?"reference":"floating":f],w=Je(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:p,strategy:u})),y=f==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,O=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),x=await(i.isElement==null?void 0:i.isElement(O))?await(i.getScale==null?void 0:i.getScale(O))||{x:1,y:1}:{x:1,y:1},T=Je(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:O,strategy:u}):y);return{top:(w.top-T.top+h.top)/x.y,bottom:(T.bottom-w.bottom+h.bottom)/x.y,left:(w.left-T.left+h.left)/x.x,right:(T.right-w.right+h.right)/x.x}}const zn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:u}=t,{element:a,padding:p=0}=Ve(e,t)||{};if(a==null)return{};const f=rn(p),m={x:n,y:r},l=Tt(o),h=Et(l),g=await s.getDimensions(a),E=l==="y",w=E?"top":"left",y=E?"bottom":"right",O=E?"clientHeight":"clientWidth",x=i.reference[h]+i.reference[l]-m[l]-i.floating[h],T=m[l]-i.reference[l],I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let M=I?I[O]:0;(!M||!await(s.isElement==null?void 0:s.isElement(I)))&&(M=c.floating[O]||i.floating[h]);const D=x/2-T/2,V=M/2-g[h]/2-1,P=Pe(f[w],V),F=Pe(f[y],V),b=P,R=M-g[h]-F,v=M/2-g[h]/2+D,A=yt(b,v,R),C=!u.arrow&&$e(o)!=null&&v!==A&&i.reference[h]/2-(v<b?P:F)-g[h]/2<0,L=C?v<b?v-b:v-R:0;return{[l]:m[l]+L,data:{[l]:A,centerOffset:v-A-L,...C&&{alignmentOffset:L}},reset:C}}}),Yn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:u,elements:a}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...E}=Ve(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=we(o),y=Ae(c),O=we(c)===c,x=await(u.isRTL==null?void 0:u.isRTL(a.floating)),T=m||(O||!g?[Qe(c)]:Hn(c)),I=h!=="none";!m&&I&&T.push(..._n(c,g,h,x));const M=[c,...T],D=await on(t,E),V=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&V.push(D[w]),f){const v=$n(o,s,x);V.push(D[v[0]],D[v[1]])}if(P=[...P,{placement:o,overflows:V}],!V.every(v=>v<=0)){var F,b;const v=(((F=i.flip)==null?void 0:F.index)||0)+1,A=M[v];if(A)return{data:{index:v,overflows:P},reset:{placement:A}};let C=(b=P.filter(L=>L.overflows[0]<=0).sort((L,S)=>L.overflows[1]-S.overflows[1])[0])==null?void 0:b.placement;if(!C)switch(l){case"bestFit":{var R;const L=(R=P.filter(S=>{if(I){const B=Ae(S.placement);return B===y||B==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(B=>B>0).reduce((B,Y)=>B+Y,0)]).sort((S,B)=>S[1]-B[1])[0])==null?void 0:R[0];L&&(C=L);break}case"initialPlacement":C=c;break}if(o!==C)return{reset:{placement:C}}}return{}}}};async function Xn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=we(n),c=$e(n),u=Ae(n)==="y",a=["left","top"].includes(s)?-1:1,p=i&&u?-1:1,f=Ve(t,e);let{mainAxis:m,crossAxis:l,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof h=="number"&&(l=c==="end"?h*-1:h),u?{x:l*p,y:m*a}:{x:m*a,y:l*p}}const Un=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,u=await Xn(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:s}}}}},Gn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:E=>{let{x:w,y}=E;return{x:w,y}}},...u}=Ve(e,t),a={x:n,y:r},p=await on(t,u),f=Ae(we(o)),m=nn(f);let l=a[m],h=a[f];if(i){const E=m==="y"?"top":"left",w=m==="y"?"bottom":"right",y=l+p[E],O=l-p[w];l=yt(y,l,O)}if(s){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=h+p[E],O=h-p[w];h=yt(y,h,O)}const g=c.fn({...t,[m]:l,[f]:h});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[m]:i,[f]:s}}}}}};function it(){return typeof window<"u"}function De(e){return sn(e)?(e.nodeName||"").toLowerCase():"#document"}function oe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fe(e){var t;return(t=(sn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sn(e){return it()?e instanceof Node||e instanceof oe(e).Node:!1}function ce(e){return it()?e instanceof Element||e instanceof oe(e).Element:!1}function ae(e){return it()?e instanceof HTMLElement||e instanceof oe(e).HTMLElement:!1}function Nt(e){return!it()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oe(e).ShadowRoot}function He(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ue(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Zn(e){return["table","td","th"].includes(De(e))}function st(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function St(e){const t=It(),n=ce(e)?ue(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Qn(e){let t=he(e);for(;ae(t)&&!Oe(t);){if(St(t))return t;if(st(t))return null;t=he(t)}return null}function It(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oe(e){return["html","body","#document"].includes(De(e))}function ue(e){return oe(e).getComputedStyle(e)}function ct(e){return ce(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function he(e){if(De(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Nt(e)&&e.host||fe(e);return Nt(t)?t.host:t}function cn(e){const t=he(e);return Oe(t)?e.ownerDocument?e.ownerDocument.body:e.body:ae(t)&&He(t)?t:cn(t)}function ve(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=cn(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=oe(o);if(i){const c=xt(s);return t.concat(s,s.visualViewport||[],He(o)?o:[],c&&n?ve(c):[])}return t.concat(o,ve(o,[],n))}function xt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function un(e){const t=ue(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ae(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=Ze(n)!==i||Ze(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function Ct(e){return ce(e)?e:e.contextElement}function Se(e){const t=Ct(e);if(!ae(t))return le(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=un(t);let s=(i?Ze(n.width):n.width)/r,c=(i?Ze(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Jn=le(0);function ln(e){const t=oe(e);return!It()||!t.visualViewport?Jn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function er(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==oe(e)?!1:t}function xe(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Ct(e);let s=le(1);t&&(r?ce(r)&&(s=Se(r)):s=Se(e));const c=er(i,n,r)?ln(i):le(0);let u=(o.left+c.x)/s.x,a=(o.top+c.y)/s.y,p=o.width/s.x,f=o.height/s.y;if(i){const m=oe(i),l=r&&ce(r)?oe(r):r;let h=m,g=xt(h);for(;g&&r&&l!==h;){const E=Se(g),w=g.getBoundingClientRect(),y=ue(g),O=w.left+(g.clientLeft+parseFloat(y.paddingLeft))*E.x,x=w.top+(g.clientTop+parseFloat(y.paddingTop))*E.y;u*=E.x,a*=E.y,p*=E.x,f*=E.y,u+=O,a+=x,h=oe(g),g=xt(h)}}return Je({width:p,height:f,x:u,y:a})}function Pt(e,t){const n=ct(e).scrollLeft;return t?t.left+n:xe(fe(e)).left+n}function an(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Pt(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function tr(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=fe(r),c=t?st(t.floating):!1;if(r===s||c&&i)return n;let u={scrollLeft:0,scrollTop:0},a=le(1);const p=le(0),f=ae(r);if((f||!f&&!i)&&((De(r)!=="body"||He(s))&&(u=ct(r)),ae(r))){const l=xe(r);a=Se(r),p.x=l.x+r.clientLeft,p.y=l.y+r.clientTop}const m=s&&!f&&!i?an(s,u,!0):le(0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-u.scrollLeft*a.x+p.x+m.x,y:n.y*a.y-u.scrollTop*a.y+p.y+m.y}}function nr(e){return Array.from(e.getClientRects())}function rr(e){const t=fe(e),n=ct(e),r=e.ownerDocument.body,o=be(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=be(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Pt(e);const c=-n.scrollTop;return ue(r).direction==="rtl"&&(s+=be(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function or(e,t){const n=oe(e),r=fe(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,u=0;if(o){i=o.width,s=o.height;const a=It();(!a||a&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:i,height:s,x:c,y:u}}function ir(e,t){const n=xe(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=ae(e)?Se(e):le(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,u=o*i.x,a=r*i.y;return{width:s,height:c,x:u,y:a}}function Bt(e,t,n){let r;if(t==="viewport")r=or(e,n);else if(t==="document")r=rr(fe(e));else if(ce(t))r=ir(t,n);else{const o=ln(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Je(r)}function fn(e,t){const n=he(e);return n===t||!ce(n)||Oe(n)?!1:ue(n).position==="fixed"||fn(n,t)}function sr(e,t){const n=t.get(e);if(n)return n;let r=ve(e,[],!1).filter(c=>ce(c)&&De(c)!=="body"),o=null;const i=ue(e).position==="fixed";let s=i?he(e):e;for(;ce(s)&&!Oe(s);){const c=ue(s),u=St(s);!u&&c.position==="fixed"&&(o=null),(i?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||He(s)&&!u&&fn(e,s))?r=r.filter(p=>p!==s):o=c,s=he(s)}return t.set(e,r),r}function cr(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?st(t)?[]:sr(t,this._c):[].concat(n),r],c=s[0],u=s.reduce((a,p)=>{const f=Bt(t,p,o);return a.top=be(f.top,a.top),a.right=Pe(f.right,a.right),a.bottom=Pe(f.bottom,a.bottom),a.left=be(f.left,a.left),a},Bt(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function ur(e){const{width:t,height:n}=un(e);return{width:t,height:n}}function lr(e,t,n){const r=ae(t),o=fe(t),i=n==="fixed",s=xe(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const u=le(0);if(r||!r&&!i)if((De(t)!=="body"||He(o))&&(c=ct(t)),r){const m=xe(t,!0,i,t);u.x=m.x+t.clientLeft,u.y=m.y+t.clientTop}else o&&(u.x=Pt(o));const a=o&&!r&&!i?an(o,c):le(0),p=s.left+c.scrollLeft-u.x-a.x,f=s.top+c.scrollTop-u.y-a.y;return{x:p,y:f,width:s.width,height:s.height}}function ft(e){return ue(e).position==="static"}function Wt(e,t){if(!ae(e)||ue(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fe(e)===n&&(n=n.ownerDocument.body),n}function dn(e,t){const n=oe(e);if(st(e))return n;if(!ae(e)){let o=he(e);for(;o&&!Oe(o);){if(ce(o)&&!ft(o))return o;o=he(o)}return n}let r=Wt(e,t);for(;r&&Zn(r)&&ft(r);)r=Wt(r,t);return r&&Oe(r)&&ft(r)&&!St(r)?n:r||Qn(e)||n}const ar=async function(e){const t=this.getOffsetParent||dn,n=this.getDimensions,r=await n(e.floating);return{reference:lr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fr(e){return ue(e).direction==="rtl"}const mn={convertOffsetParentRelativeRectToViewportRelativeRect:tr,getDocumentElement:fe,getClippingRect:cr,getOffsetParent:dn,getElementRects:ar,getClientRects:nr,getDimensions:ur,getScale:Se,isElement:ce,isRTL:fr};function pn(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function dr(e,t){let n=null,r;const o=fe(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const a=e.getBoundingClientRect(),{left:p,top:f,width:m,height:l}=a;if(c||t(),!m||!l)return;const h=qe(f),g=qe(o.clientWidth-(p+m)),E=qe(o.clientHeight-(f+l)),w=qe(p),O={rootMargin:-h+"px "+-g+"px "+-E+"px "+-w+"px",threshold:be(0,Pe(1,u))||1};let x=!0;function T(I){const M=I[0].intersectionRatio;if(M!==u){if(!x)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}M===1&&!pn(a,e.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver(T,{...O,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,O)}n.observe(e)}return s(!0),i}function mo(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,a=Ct(e),p=o||i?[...a?ve(a):[],...ve(t)]:[];p.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=a&&c?dr(a,n):null;let m=-1,l=null;s&&(l=new ResizeObserver(w=>{let[y]=w;y&&y.target===a&&l&&(l.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var O;(O=l)==null||O.observe(t)})),n()}),a&&!u&&l.observe(a),l.observe(t));let h,g=u?xe(e):null;u&&E();function E(){const w=xe(e);g&&!pn(g,w)&&n(),g=w,h=requestAnimationFrame(E)}return n(),()=>{var w;p.forEach(y=>{o&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(w=l)==null||w.disconnect(),l=null,u&&cancelAnimationFrame(h)}}const mr=Un,pr=Gn,gr=Yn,Vt=zn,vr=(e,t,n)=>{const r=new Map,o={platform:mn,...n},i={...o.platform,_c:r};return qn(e,t,{...o,platform:i})};var Ue=typeof document<"u"?d.useLayoutEffect:d.useEffect;function et(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!et(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!et(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function gn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $t(e,t){const n=gn(e);return Math.round(t*n)/n}function dt(e){const t=d.useRef(e);return Ue(()=>{t.current=e}),t}function hr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:u,open:a}=e,[p,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,l]=d.useState(r);et(m,r)||l(r);const[h,g]=d.useState(null),[E,w]=d.useState(null),y=d.useCallback(S=>{S!==I.current&&(I.current=S,g(S))},[]),O=d.useCallback(S=>{S!==M.current&&(M.current=S,w(S))},[]),x=i||h,T=s||E,I=d.useRef(null),M=d.useRef(null),D=d.useRef(p),V=u!=null,P=dt(u),F=dt(o),b=dt(a),R=d.useCallback(()=>{if(!I.current||!M.current)return;const S={placement:t,strategy:n,middleware:m};F.current&&(S.platform=F.current),vr(I.current,M.current,S).then(B=>{const Y={...B,isPositioned:b.current!==!1};v.current&&!et(D.current,Y)&&(D.current=Y,tn.flushSync(()=>{f(Y)}))})},[m,t,n,F,b]);Ue(()=>{a===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[a]);const v=d.useRef(!1);Ue(()=>(v.current=!0,()=>{v.current=!1}),[]),Ue(()=>{if(x&&(I.current=x),T&&(M.current=T),x&&T){if(P.current)return P.current(x,T,R);R()}},[x,T,R,P,V]);const A=d.useMemo(()=>({reference:I,floating:M,setReference:y,setFloating:O}),[y,O]),C=d.useMemo(()=>({reference:x,floating:T}),[x,T]),L=d.useMemo(()=>{const S={position:n,left:0,top:0};if(!C.floating)return S;const B=$t(C.floating,p.x),Y=$t(C.floating,p.y);return c?{...S,transform:"translate("+B+"px, "+Y+"px)",...gn(C.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:Y}},[n,c,C.floating,p.x,p.y]);return d.useMemo(()=>({...p,update:R,refs:A,elements:C,floatingStyles:L}),[p,R,A,C,L])}const br=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Vt({element:r.current,padding:o}).fn(n):{}:r?Vt({element:r,padding:o}).fn(n):{}}}},po=(e,t)=>({...mr(e),options:[e,t]}),go=(e,t)=>({...pr(e),options:[e,t]}),vo=(e,t)=>({...gr(e),options:[e,t]}),ho=(e,t)=>({...br(e),options:[e,t]});var vn=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ee=new WeakMap,ze=new WeakMap,Ye={},mt=0,hn=function(e){return e&&(e.host||hn(e.parentNode))},yr=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hn(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},bn=function(e,t,n,r){var o=yr(t,Array.isArray(e)?e:[e]);Ye[n]||(Ye[n]=new WeakMap);var i=Ye[n],s=[],c=new Set,u=new Set(o),a=function(f){!f||c.has(f)||(c.add(f),a(f.parentNode))};o.forEach(a);var p=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(m){if(c.has(m))p(m);else{var l=m.getAttribute(r),h=l!==null&&l!=="false",g=(Ee.get(m)||0)+1,E=(i.get(m)||0)+1;Ee.set(m,g),i.set(m,E),s.push(m),g===1&&h&&ze.set(m,!0),E===1&&m.setAttribute(n,"true"),h||m.setAttribute(r,"true")}})};return p(t),c.clear(),mt++,function(){s.forEach(function(f){var m=Ee.get(f)-1,l=i.get(f)-1;Ee.set(f,m),i.set(f,l),m||(ze.has(f)||f.removeAttribute(r),ze.delete(f)),l||f.removeAttribute(n)}),mt--,mt||(Ee=new WeakMap,Ee=new WeakMap,ze=new WeakMap,Ye={})}},yn=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||vn(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),bn(r,o,n,"aria-hidden")):function(){return null}},wr=function(e,t,n){n===void 0&&(n="data-inert-ed");var r=t||vn(e);return r?bn(e,r,n,"inert"):function(){return null}},wn=function(){return typeof HTMLElement<"u"&&HTMLElement.prototype.hasOwnProperty("inert")},xr=function(e,t,n){return n===void 0&&(n="data-suppressed"),(wn()?wr:yn)(e,t,n)};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Rr=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Rt=Rr.join(","),xn=typeof Element>"u",Be=xn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,tt=!xn&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},nt=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},Er=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Tr=function(t,n,r){if(nt(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Rt));return n&&Be.call(t,Rt)&&o.unshift(t),o=o.filter(r),o},Sr=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!nt(s,!1))if(s.tagName==="SLOT"){var c=s.assignedElements(),u=c.length?c:s.children,a=e(u,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else{var p=Be.call(s,Rt);p&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),m=!nt(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(f&&m){var l=e(f===!0?s.children:f.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:s,candidates:l})}else i.unshift.apply(i,s.children)}}return o},Rn=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},En=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Er(t))&&!Rn(t)?0:t.tabIndex},Ir=function(t,n){var r=En(t);return r<0&&n&&!Rn(t)?0:r},Cr=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Tn=function(t){return t.tagName==="INPUT"},Pr=function(t){return Tn(t)&&t.type==="hidden"},Ar=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Or=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Mr=function(t){if(!t.name)return!0;var n=t.form||tt(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Or(o,t.form);return!i||i===t},Dr=function(t){return Tn(t)&&t.type==="radio"},Fr=function(t){return Dr(t)&&!Mr(t)},Lr=function(t){var n,r=t&&tt(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,c,u;for(i=!!((s=o)!==null&&s!==void 0&&(c=s.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!i&&o;){var a,p,f;r=tt(o),o=(a=r)===null||a===void 0?void 0:a.host,i=!!((p=o)!==null&&p!==void 0&&(f=p.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return i},Ht=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},kr=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Be.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(Be.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var u=t.parentElement,a=tt(t);if(u&&!u.shadowRoot&&o(u)===!0)return Ht(t);t.assignedSlot?t=t.assignedSlot:!u&&a!==t.ownerDocument?t=a.host:t=u}t=c}if(Lr(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ht(t);return!1},Nr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Be.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Br=function(t,n){return!(n.disabled||nt(n)||Pr(n)||kr(n,t)||Ar(n)||Nr(n))},Kt=function(t,n){return!(Fr(n)||En(n)<0||!Br(t,n))},Wr=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Vr=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,c=s?o.scopeParent:o,u=Ir(c,s),a=s?e(o.candidates):c;u===0?s?n.push.apply(n,a):n.push(c):r.push({documentOrder:i,tabIndex:u,item:o,isScope:s,content:a})}),r.sort(Cr).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},At=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Sr([t],n.includeContainer,{filter:Kt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Wr}):r=Tr(t,n.includeContainer,Kt.bind(null,n)),Vr(r)};function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}var X=typeof document<"u"?d.useLayoutEffect:d.useEffect;let pt=!1,$r=0;const _t=()=>"floating-ui-"+$r++;function Hr(){const[e,t]=d.useState(()=>pt?_t():void 0);return X(()=>{e==null&&t(_t())},[]),d.useEffect(()=>{pt||(pt=!0)},[]),e}const Kr=en.useId,Ke=Kr||Hr,bo=d.forwardRef(function(t,n){let{context:{placement:r,elements:{floating:o},middlewareData:{arrow:i}},width:s=14,height:c=7,tipRadius:u=0,strokeWidth:a=0,staticOffset:p,stroke:f,d:m,style:{transform:l,...h}={},...g}=t;const E=Ke();if(!o)return null;a*=2;const w=a/2,y=s/2*(u/-8+1),O=c/2*u/4,[x,T]=r.split("-"),I=mn.isRTL(o),M=!!m,D=x==="top"||x==="bottom",V=p&&T==="end"?"bottom":"top";let P=p&&T==="end"?"right":"left";p&&I&&(P=T==="end"?"left":"right");const F=(i==null?void 0:i.x)!=null?p||i.x:"",b=(i==null?void 0:i.y)!=null?p||i.y:"",R=m||"M0,0"+(" H"+s)+(" L"+(s-y)+","+(c-O))+(" Q"+s/2+","+c+" "+y+","+(c-O))+" Z",v={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[x];return d.createElement("svg",We({},g,{"aria-hidden":!0,ref:n,width:M?s:s+a,height:s,viewBox:"0 0 "+s+" "+(c>s?c:s),style:{position:"absolute",pointerEvents:"none",[P]:F,[V]:b,[x]:D||M?"100%":"calc(100% - "+a/2+"px)",transform:""+v+(l??""),...h}}),a>0&&d.createElement("path",{clipPath:"url(#"+E+")",fill:"none",stroke:f,strokeWidth:a+(m?0:1),d:R}),d.createElement("path",{stroke:a&&!m?g.fill:"none",d:R}),d.createElement("clipPath",{id:E},d.createElement("rect",{x:-w,y:w*(M?-1:1),width:s+a,height:s})))});function Sn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const In=d.createContext(null),Cn=d.createContext(null),_e=()=>{var e;return((e=d.useContext(In))==null?void 0:e.id)||null},Fe=()=>d.useContext(Cn);function yo(e){const t=Ke(),n=Fe(),o=_e();return X(()=>{const i={id:t,parentId:o};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,o]),t}function wo(e){let{children:t,id:n}=e;const r=_e();return d.createElement(In.Provider,{value:d.useMemo(()=>({id:n,parentId:r}),[n,r])},t)}function xo(e){let{children:t}=e;const n=d.useRef([]),r=d.useCallback(s=>{n.current=[...n.current,s]},[]),o=d.useCallback(s=>{n.current=n.current.filter(c=>c!==s)},[]),i=d.useState(()=>Sn())[0];return d.createElement(Cn.Provider,{value:d.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:i}),[n,r,o,i])},t)}function ne(e){return(e==null?void 0:e.ownerDocument)||document}function Pn(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function _r(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function ut(e){return ne(e).defaultView||window}function ie(e){return e?e instanceof Element||e instanceof ut(e).Element:!1}function Re(e){return e?e instanceof HTMLElement||e instanceof ut(e).HTMLElement:!1}function jr(e){if(typeof ShadowRoot>"u")return!1;const t=ut(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function An(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(Pn())||t.test(_r()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function On(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function Mn(){return/apple/i.test(navigator.vendor)}function qr(){return Pn().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function rt(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function zr(e){return"nativeEvent"in e}function Z(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&jr(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function ye(e){return"data-floating-ui-"+e}function se(e){const t=d.useRef(e);return X(()=>{t.current=e}),t}const jt=ye("safe-polygon");function gt(e,t,n){return n&&!rt(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Ro(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:c},refs:u}=e,{enabled:a=!0,delay:p=0,handleClose:f=null,mouseOnly:m=!1,restMs:l=0,move:h=!0}=t,g=Fe(),E=_e(),w=se(f),y=se(p),O=d.useRef(),x=d.useRef(),T=d.useRef(),I=d.useRef(),M=d.useRef(!0),D=d.useRef(!1),V=d.useRef(()=>{}),P=d.useCallback(()=>{var v;const A=(v=o.current.openEvent)==null?void 0:v.type;return(A==null?void 0:A.includes("mouse"))&&A!=="mousedown"},[o]);d.useEffect(()=>{if(!a)return;function v(){clearTimeout(x.current),clearTimeout(I.current),M.current=!0}return i.on("dismiss",v),()=>{i.off("dismiss",v)}},[a,i]),d.useEffect(()=>{if(!a||!w.current||!n)return;function v(C){P()&&r(!1,C)}const A=ne(c).documentElement;return A.addEventListener("mouseleave",v),()=>{A.removeEventListener("mouseleave",v)}},[c,n,r,a,w,o,P]);const F=d.useCallback(function(v,A){A===void 0&&(A=!0);const C=gt(y.current,"close",O.current);C&&!T.current?(clearTimeout(x.current),x.current=setTimeout(()=>r(!1,v),C)):A&&(clearTimeout(x.current),r(!1,v))},[y,r]),b=d.useCallback(()=>{V.current(),T.current=void 0},[]),R=d.useCallback(()=>{if(D.current){const v=ne(u.floating.current).body;v.style.pointerEvents="",v.removeAttribute(jt),D.current=!1}},[u]);return d.useEffect(()=>{if(!a)return;function v(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function A(S){if(clearTimeout(x.current),M.current=!1,m&&!rt(O.current)||l>0&&gt(y.current,"open")===0)return;const B=gt(y.current,"open",O.current);B?x.current=setTimeout(()=>{r(!0,S)},B):r(!0,S)}function C(S){if(v())return;V.current();const B=ne(c);if(clearTimeout(I.current),w.current){n||clearTimeout(x.current),T.current=w.current({...e,tree:g,x:S.clientX,y:S.clientY,onClose(){R(),b(),F(S)}});const K=T.current;B.addEventListener("mousemove",K),V.current=()=>{B.removeEventListener("mousemove",K)};return}(O.current==="touch"?!Z(c,S.relatedTarget):!0)&&F(S)}function L(S){v()||w.current==null||w.current({...e,tree:g,x:S.clientX,y:S.clientY,onClose(){R(),b(),F(S)}})(S)}if(ie(s)){const S=s;return n&&S.addEventListener("mouseleave",L),c==null||c.addEventListener("mouseleave",L),h&&S.addEventListener("mousemove",A,{once:!0}),S.addEventListener("mouseenter",A),S.addEventListener("mouseleave",C),()=>{n&&S.removeEventListener("mouseleave",L),c==null||c.removeEventListener("mouseleave",L),h&&S.removeEventListener("mousemove",A),S.removeEventListener("mouseenter",A),S.removeEventListener("mouseleave",C)}}},[s,c,a,e,m,l,h,F,b,R,r,n,g,y,w,o]),X(()=>{var v;if(a&&n&&(v=w.current)!=null&&v.__options.blockPointerEvents&&P()){const L=ne(c).body;if(L.setAttribute(jt,""),L.style.pointerEvents="none",D.current=!0,ie(s)&&c){var A,C;const S=s,B=g==null||(A=g.nodesRef.current.find(Y=>Y.id===E))==null||(C=A.context)==null?void 0:C.elements.floating;return B&&(B.style.pointerEvents=""),S.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{S.style.pointerEvents="",c.style.pointerEvents=""}}}},[a,n,E,c,s,g,w,o,P]),X(()=>{n||(O.current=void 0,b(),R())},[n,b,R]),d.useEffect(()=>()=>{b(),clearTimeout(x.current),clearTimeout(I.current),R()},[a,b,R]),d.useMemo(()=>{if(!a)return{};function v(A){O.current=A.pointerType}return{reference:{onPointerDown:v,onPointerEnter:v,onMouseMove(A){n||l===0||(clearTimeout(I.current),I.current=setTimeout(()=>{M.current||r(!0,A.nativeEvent)},l))}},floating:{onMouseEnter(){clearTimeout(x.current)},onMouseLeave(A){i.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),F(A.nativeEvent,!1)}}}},[i,a,l,n,r,F])}function ge(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}let qt=0;function pe(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(qt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():qt=requestAnimationFrame(i)}function Yr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Ie(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function Ot(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Xr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Dn(e){return Re(e)&&e.matches(Xr)}function re(e){e.preventDefault(),e.stopPropagation()}const Mt=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Fn(e,t){const n=At(e,Mt());t==="prev"&&n.reverse();const r=n.indexOf(ge(ne(e)));return n.slice(r+1)[0]}function Ln(){return Fn(document.body,"next")}function kn(){return Fn(document.body,"prev")}function Ne(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Z(n,r)}function Ur(e){At(e,Mt()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Gr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Dt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Zr;function zt(e){e.key==="Tab"&&(e.target,clearTimeout(Zr))}const ot=d.forwardRef(function(t,n){const[r,o]=d.useState();X(()=>(Mn()&&o("button"),document.addEventListener("keydown",zt),()=>{document.removeEventListener("keydown",zt)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[ye("focus-guard")]:"",style:Dt};return d.createElement("span",We({},t,i))}),Nn=d.createContext(null);function Qr(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=d.useState(null),i=Ke(),s=Bn(),c=d.useMemo(()=>({id:t,root:n,portalContext:s,uniqueId:i}),[t,n,s,i]),u=d.useRef();return X(()=>()=>{r==null||r.remove()},[r,c]),X(()=>{if(u.current===c)return;u.current=c;const{id:a,root:p,portalContext:f,uniqueId:m}=c,l=a?document.getElementById(a):null,h=ye("portal");if(l){const g=document.createElement("div");g.id=m,g.setAttribute(h,""),l.appendChild(g),o(g)}else{let g=p||(f==null?void 0:f.portalNode);g&&!ie(g)&&(g=g.current),g=g||document.body;let E=null;a&&(E=document.createElement("div"),E.id=a,g.appendChild(E));const w=document.createElement("div");w.id=m,w.setAttribute(h,""),g=E||g,g.appendChild(w),o(w)}},[c]),r}function Eo(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=Qr({id:n,root:r}),[s,c]=d.useState(null),u=d.useRef(null),a=d.useRef(null),p=d.useRef(null),f=d.useRef(null),m=!!s&&!s.modal&&s.open&&o&&!!(r||i);return d.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function l(h){i&&Ne(h)&&(h.type==="focusin"?Gr:Ur)(i)}return i.addEventListener("focusin",l,!0),i.addEventListener("focusout",l,!0),()=>{i.removeEventListener("focusin",l,!0),i.removeEventListener("focusout",l,!0)}},[i,o,s==null?void 0:s.modal]),d.createElement(Nn.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:u,afterOutsideRef:a,beforeInsideRef:p,afterInsideRef:f,portalNode:i,setFocusManagerState:c}),[o,i])},m&&i&&d.createElement(ot,{"data-type":"outside",ref:u,onFocus:l=>{if(Ne(l,i)){var h;(h=p.current)==null||h.focus()}else{const g=kn()||(s==null?void 0:s.refs.domReference.current);g==null||g.focus()}}}),m&&i&&d.createElement("span",{"aria-owns":i.id,style:Dt}),i&&tn.createPortal(t,i),m&&i&&d.createElement(ot,{"data-type":"outside",ref:a,onFocus:l=>{if(Ne(l,i)){var h;(h=f.current)==null||h.focus()}else{const g=Ln()||(s==null?void 0:s.refs.domReference.current);g==null||g.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,l.nativeEvent))}}}))}const Bn=()=>d.useContext(Nn),Jr=d.forwardRef(function(t,n){return d.createElement("button",We({},t,{type:"button",ref:n,tabIndex:-1,style:Dt}))});function To(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,modal:u=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:p=!0}=e,{open:f,refs:m,nodeId:l,onOpenChange:h,events:g,dataRef:E,elements:{domReference:w,floating:y}}=t,O=wn()?i:!0,x=se(o),T=se(s),I=se(c),M=Fe(),D=Bn(),V=typeof s=="number"&&s<0,P=d.useRef(null),F=d.useRef(null),b=d.useRef(!1),R=d.useRef(null),v=d.useRef(!1),A=D!=null,C=w&&w.getAttribute("role")==="combobox"&&Dn(w),L=d.useCallback(function(K){return K===void 0&&(K=y),K?At(K,Mt()):[]},[y]),S=d.useCallback(K=>{const j=L(K);return x.current.map($=>w&&$==="reference"?w:y&&$==="floating"?y:j).filter(Boolean).flat()},[w,y,x,L]);d.useEffect(()=>{if(r||!u)return;function K($){if($.key==="Tab"){Z(y,ge(ne(y)))&&L().length===0&&!C&&re($);const _=S(),U=Ot($);x.current[0]==="reference"&&U===w&&(re($),$.shiftKey?pe(_[_.length-1]):pe(_[1])),x.current[1]==="floating"&&U===y&&$.shiftKey&&(re($),pe(_[0]))}}const j=ne(y);return j.addEventListener("keydown",K),()=>{j.removeEventListener("keydown",K)}},[r,w,y,u,x,m,C,L,S]),d.useEffect(()=>{if(r||!p)return;function K(){v.current=!0,setTimeout(()=>{v.current=!1})}function j($){const _=$.relatedTarget;queueMicrotask(()=>{const U=!(Z(w,_)||Z(y,_)||Z(_,y)||Z(D==null?void 0:D.portalNode,_)||_!=null&&_.hasAttribute(ye("focus-guard"))||M&&(Ie(M.nodesRef.current,l).find(G=>{var N,W;return Z((N=G.context)==null?void 0:N.elements.floating,_)||Z((W=G.context)==null?void 0:W.elements.domReference,_)})||Yr(M.nodesRef.current,l).find(G=>{var N,W;return((N=G.context)==null?void 0:N.elements.floating)===_||((W=G.context)==null?void 0:W.elements.domReference)===_})));_&&U&&!v.current&&_!==R.current&&(b.current=!0,h(!1,$))})}if(y&&Re(w))return w.addEventListener("focusout",j),w.addEventListener("pointerdown",K),!u&&y.addEventListener("focusout",j),()=>{w.removeEventListener("focusout",j),w.removeEventListener("pointerdown",K),!u&&y.removeEventListener("focusout",j)}},[r,w,y,u,l,M,D,h,p]),d.useEffect(()=>{var K;if(r)return;const j=Array.from((D==null||(K=D.portalNode)==null?void 0:K.querySelectorAll("["+ye("portal")+"]"))||[]);if(y&&u){const $=[y,...j,P.current,F.current].filter(G=>G!=null),U=(O?yn:xr)(x.current.includes("reference")||C?$.concat(w||[]):$,void 0,ye("inert"));return()=>{U()}}},[r,w,y,u,x,D,C,O]),X(()=>{if(r||!y)return;const K=ne(y),j=ge(K);queueMicrotask(()=>{const $=S(y),_=T.current,U=(typeof _=="number"?$[_]:_.current)||y,G=Z(y,j);!V&&!G&&f&&pe(U,{preventScroll:U===y})})},[r,f,y,V,S,T]),X(()=>{if(r||!y)return;let K=!1;const j=ne(y),$=ge(j),_=E.current;R.current=$;function U(G){if(G.type==="escapeKey"&&m.domReference.current&&(R.current=m.domReference.current),["referencePress","escapeKey"].includes(G.type))return;const N=G.data.returnFocus;typeof N=="object"?(b.current=!1,K=N.preventScroll):b.current=!N}return g.on("dismiss",U),()=>{g.off("dismiss",U);const G=ge(j);(Z(y,G)||M&&Ie(M.nodesRef.current,l).some(W=>{var H;return Z((H=W.context)==null?void 0:H.elements.floating,G)})||_.openEvent&&["click","mousedown"].includes(_.openEvent.type))&&m.domReference.current&&(R.current=m.domReference.current),I.current&&Re(R.current)&&!b.current&&pe(R.current,{cancelPrevious:!1,preventScroll:K})}},[r,y,I,E,m,g,M,l]),X(()=>{if(!(r||!D))return D.setFocusManagerState({...t,modal:u,closeOnFocusOut:p,open:f}),()=>{D.setFocusManagerState(null)}},[r,D,u,f,p,t]),X(()=>{if(!r&&y&&typeof MutationObserver=="function"){const K=()=>{const $=y.getAttribute("tabindex");x.current.includes("floating")||ge(ne(y))!==m.domReference.current&&L().length===0?$!=="0"&&y.setAttribute("tabindex","0"):$!=="-1"&&y.setAttribute("tabindex","-1")};K();const j=new MutationObserver(K);return j.observe(y,{childList:!0,subtree:!0,attributes:!0}),()=>{j.disconnect()}}},[r,y,m,x,L]);function B(K){return r||!a||!u?null:d.createElement(Jr,{ref:K==="start"?P:F,onClick:j=>h(!1,j.nativeEvent)},typeof a=="string"?a:"Dismiss")}const Y=!r&&O&&!C&&(A||u);return d.createElement(d.Fragment,null,Y&&d.createElement(ot,{"data-type":"inside",ref:D==null?void 0:D.beforeInsideRef,onFocus:K=>{if(u){const $=S();pe(o[0]==="reference"?$[0]:$[$.length-1])}else if(D!=null&&D.preserveTabOrder&&D.portalNode)if(b.current=!1,Ne(K,D.portalNode)){const $=Ln()||w;$==null||$.focus()}else{var j;(j=D.beforeOutsideRef.current)==null||j.focus()}}}),!C&&B("start"),n,B("end"),Y&&d.createElement(ot,{"data-type":"inside",ref:D==null?void 0:D.afterInsideRef,onFocus:K=>{if(u)pe(S()[0]);else if(D!=null&&D.preserveTabOrder&&D.portalNode)if(p&&(b.current=!0),Ne(K,D.portalNode)){const $=kn()||w;$==null||$.focus()}else{var j;(j=D.afterOutsideRef.current)==null||j.focus()}}}))}function Yt(e){return Re(e.target)&&e.target.tagName==="BUTTON"}function Xt(e){return Dn(e)}function So(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:u=!0,ignoreMouse:a=!1,keyboardHandlers:p=!0}=t,f=d.useRef(),m=d.useRef(!1);return d.useMemo(()=>s?{reference:{onPointerDown(l){f.current=l.pointerType},onMouseDown(l){l.button===0&&(rt(f.current,!0)&&a||c!=="click"&&(n&&u&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,l.nativeEvent):(l.preventDefault(),r(!0,l.nativeEvent))))},onClick(l){if(c==="mousedown"&&f.current){f.current=void 0;return}rt(f.current,!0)&&a||(n&&u&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,l.nativeEvent):r(!0,l.nativeEvent))},onKeyDown(l){f.current=void 0,!(l.defaultPrevented||!p||Yt(l))&&(l.key===" "&&!Xt(i)&&(l.preventDefault(),m.current=!0),l.key==="Enter"&&r(!(n&&u),l.nativeEvent))},onKeyUp(l){l.defaultPrevented||!p||Yt(l)||Xt(i)||l.key===" "&&m.current&&(m.current=!1,r(!(n&&u),l.nativeEvent))}}}:{},[s,o,c,a,p,i,u,n,r])}const eo=en.useInsertionEffect,to=eo||(e=>e());function Ce(e){const t=d.useRef(()=>{});return to(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Ge(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const no={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},ro={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},oo=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Io(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:c,floating:u},dataRef:a}=e,{enabled:p=!0,escapeKey:f=!0,outsidePress:m=!0,outsidePressEvent:l="pointerdown",referencePress:h=!1,referencePressEvent:g="pointerdown",ancestorScroll:E=!1,bubbles:w}=t,y=Fe(),O=_e()!=null,x=Ce(typeof m=="function"?m:()=>!1),T=typeof m=="function"?x:m,I=d.useRef(!1),{escapeKeyBubbles:M,outsidePressBubbles:D}=oo(w),V=Ce(F=>{if(!n||!p||!f||F.key!=="Escape")return;const b=y?Ie(y.nodesRef.current,i):[];if(!M&&(F.stopPropagation(),b.length>0)){let R=!0;if(b.forEach(v=>{var A;if((A=v.context)!=null&&A.open&&!v.context.dataRef.current.__escapeKeyBubbles){R=!1;return}}),!R)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,zr(F)?F.nativeEvent:F)}),P=Ce(F=>{const b=I.current;if(I.current=!1,b||typeof T=="function"&&!T(F))return;const R=Ot(F);if(Re(R)&&u){const C=R.clientWidth>0&&R.scrollWidth>R.clientWidth,L=R.clientHeight>0&&R.scrollHeight>R.clientHeight;let S=L&&F.offsetX>R.clientWidth;if(L&&ut(u).getComputedStyle(R).direction==="rtl"&&(S=F.offsetX<=R.offsetWidth-R.clientWidth),S||C&&F.offsetY>R.clientHeight)return}const v=y&&Ie(y.nodesRef.current,i).some(C=>{var L;return Ge(F,(L=C.context)==null?void 0:L.elements.floating)});if(Ge(F,u)||Ge(F,c)||v)return;const A=y?Ie(y.nodesRef.current,i):[];if(A.length>0){let C=!0;if(A.forEach(L=>{var S;if((S=L.context)!=null&&S.open&&!L.context.dataRef.current.__outsidePressBubbles){C=!1;return}}),!C)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:O?{preventScroll:!0}:An(F)||On(F)}}),r(!1,F)});return d.useEffect(()=>{if(!n||!p)return;a.current.__escapeKeyBubbles=M,a.current.__outsidePressBubbles=D;function F(v){r(!1,v)}const b=ne(u);f&&b.addEventListener("keydown",V),T&&b.addEventListener(l,P);let R=[];return E&&(ie(c)&&(R=ve(c)),ie(u)&&(R=R.concat(ve(u))),!ie(s)&&s&&s.contextElement&&(R=R.concat(ve(s.contextElement)))),R=R.filter(v=>{var A;return v!==((A=b.defaultView)==null?void 0:A.visualViewport)}),R.forEach(v=>{v.addEventListener("scroll",F,{passive:!0})}),()=>{f&&b.removeEventListener("keydown",V),T&&b.removeEventListener(l,P),R.forEach(v=>{v.removeEventListener("scroll",F)})}},[a,u,c,s,f,T,l,n,r,E,p,M,D,V,P]),d.useEffect(()=>{I.current=!1},[T,l]),d.useMemo(()=>p?{reference:{onKeyDown:V,[no[g]]:F=>{h&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,F.nativeEvent))}},floating:{onKeyDown:V,[ro[l]]:()=>{I.current=!0}}}:{},[p,o,h,l,g,r,V])}function Co(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=d.useState(null),c=((t=e.elements)==null?void 0:t.reference)||i,u=hr(e),a=Fe(),p=Ce((x,T)=>{x&&(m.current.openEvent=T),r==null||r(x,T)}),f=d.useRef(null),m=d.useRef({}),l=d.useState(()=>Sn())[0],h=Ke(),g=d.useCallback(x=>{const T=ie(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;u.refs.setReference(T)},[u.refs]),E=d.useCallback(x=>{(ie(x)||x===null)&&(f.current=x,s(x)),(ie(u.refs.reference.current)||u.refs.reference.current===null||x!==null&&!ie(x))&&u.refs.setReference(x)},[u.refs]),w=d.useMemo(()=>({...u.refs,setReference:E,setPositionReference:g,domReference:f}),[u.refs,E,g]),y=d.useMemo(()=>({...u.elements,domReference:c}),[u.elements,c]),O=d.useMemo(()=>({...u,refs:w,elements:y,dataRef:m,nodeId:o,floatingId:h,events:l,open:n,onOpenChange:p}),[u,o,h,l,n,p,w,y]);return X(()=>{const x=a==null?void 0:a.nodesRef.current.find(T=>T.id===o);x&&(x.context=O)}),d.useMemo(()=>({...u,context:O,refs:w,elements:y}),[u,w,y,O])}function Po(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:c,domReference:u}}=e,{enabled:a=!0,keyboardOnly:p=!0}=t,f=d.useRef(""),m=d.useRef(!1),l=d.useRef();return d.useEffect(()=>{if(!a)return;const g=ne(c).defaultView||window;function E(){!n&&Re(u)&&u===ge(ne(u))&&(m.current=!0)}return g.addEventListener("blur",E),()=>{g.removeEventListener("blur",E)}},[c,u,n,a]),d.useEffect(()=>{if(!a)return;function h(g){(g.type==="referencePress"||g.type==="escapeKey")&&(m.current=!0)}return i.on("dismiss",h),()=>{i.off("dismiss",h)}},[i,a]),d.useEffect(()=>()=>{clearTimeout(l.current)},[]),d.useMemo(()=>a?{reference:{onPointerDown(h){let{pointerType:g}=h;f.current=g,m.current=!!(g&&p)},onMouseLeave(){m.current=!1},onFocus(h){var g;m.current||h.type==="focus"&&((g=o.current.openEvent)==null?void 0:g.type)==="mousedown"&&Ge(o.current.openEvent,u)||r(!0,h.nativeEvent)},onBlur(h){m.current=!1;const g=h.relatedTarget,E=ie(g)&&g.hasAttribute(ye("focus-guard"))&&g.getAttribute("data-type")==="outside";l.current=setTimeout(()=>{Z(s.floating.current,g)||Z(u,g)||E||r(!1,h.nativeEvent)})}}}:{},[a,p,u,s,o,r])}function vt(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[c,u]=s;if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var a;(a=r.get(c))==null||a.push(u),o[c]=function(){for(var p,f=arguments.length,m=new Array(f),l=0;l<f;l++)m[l]=arguments[l];return(p=r.get(c))==null?void 0:p.map(h=>h(...m)).find(h=>h!==void 0)}}}else o[c]=u}),o),{})}}function Ao(e){e===void 0&&(e=[]);const t=e,n=d.useCallback(i=>vt(i,e,"reference"),t),r=d.useCallback(i=>vt(i,e,"floating"),t),o=d.useCallback(i=>vt(i,e,"item"),e.map(i=>i==null?void 0:i.item));return d.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}let Ut=!1;const Ft="ArrowUp",lt="ArrowDown",Me="ArrowLeft",je="ArrowRight";function Xe(e,t,n){return Math.floor(e/t)!==n}function ke(e,t){return t<0||t>=e.current.length}function ee(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do{var u,a;c=c+(r?-i:i)}while(c>=0&&c<=s.length-1&&(o?o.includes(c):s[c]==null||(u=s[c])!=null&&u.hasAttribute("disabled")||((a=s[c])==null?void 0:a.getAttribute("aria-disabled"))==="true"));return c}function at(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Gt(e,t){return at(t,e===Ft||e===lt,e===Me||e===je)}function ht(e,t,n){return at(t,e===lt,n?e===Me:e===je)||e==="Enter"||e==" "||e===""}function io(e,t,n){return at(t,n?e===Me:e===je,e===lt)}function so(e,t,n){return at(t,n?e===je:e===Me,e===Ft)}function bt(e,t){return ee(e,{disabledIndices:t})}function Zt(e,t){return ee(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function Oo(e,t){const{open:n,onOpenChange:r,refs:o,elements:{domReference:i,floating:s}}=e,{listRef:c,activeIndex:u,onNavigate:a=()=>{},enabled:p=!0,selectedIndex:f=null,allowEscape:m=!1,loop:l=!1,nested:h=!1,rtl:g=!1,virtual:E=!1,focusItemOnOpen:w="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:O=!0,disabledIndices:x=void 0,orientation:T="vertical",cols:I=1,scrollItemIntoView:M=!0}=t,D=_e(),V=Fe(),P=Ce(a),F=d.useRef(w),b=d.useRef(f??-1),R=d.useRef(null),v=d.useRef(!0),A=d.useRef(P),C=d.useRef(!!s),L=d.useRef(!1),S=d.useRef(!1),B=se(x),Y=se(n),K=se(M),[j,$]=d.useState(),_=Ce(function(N,W,H){H===void 0&&(H=!1);const q=N.current[W.current];q&&(E?$(q.id):pe(q,{preventScroll:!0,sync:qr()&&Mn()?Ut||L.current:!1}),requestAnimationFrame(()=>{const Q=K.current;Q&&q&&(H||!v.current)&&(q.scrollIntoView==null||q.scrollIntoView(typeof Q=="boolean"?{block:"nearest",inline:"nearest"}:Q))}))});X(()=>{document.createElement("div").focus({get preventScroll(){return Ut=!0,!1}})},[]),X(()=>{p&&(n&&s?F.current&&f!=null&&(S.current=!0,P(f)):C.current&&(b.current=-1,A.current(null)))},[p,n,s,f,P]),X(()=>{if(p&&n&&s)if(u==null){if(L.current=!1,f!=null)return;if(C.current&&(b.current=-1,_(c,b)),!C.current&&F.current&&(R.current!=null||F.current===!0&&R.current==null)){let N=0;const W=()=>{c.current[0]==null?(N<2&&(N?requestAnimationFrame:queueMicrotask)(W),N++):(b.current=R.current==null||ht(R.current,T,g)||h?bt(c,B.current):Zt(c,B.current),R.current=null,P(b.current))};W()}}else ke(c,u)||(b.current=u,_(c,b,S.current),S.current=!1)},[p,n,s,u,f,h,c,T,g,P,_,B]),X(()=>{if(p&&C.current&&!s&&V){var N,W;const H=V.nodesRef.current,q=(N=H.find(J=>J.id===D))==null||(W=N.context)==null?void 0:W.elements.floating,Q=ge(ne(s)),k=H.some(J=>J.context&&Z(J.context.elements.floating,Q));q&&!k&&q.focus({preventScroll:!0})}},[p,s,V,D]),X(()=>{A.current=P,C.current=!!s}),X(()=>{n||(R.current=null)},[n]);const U=u!=null,G=d.useMemo(()=>{function N(H){if(!n)return;const q=c.current.indexOf(H);q!==-1&&P(q)}return{onFocus(H){let{currentTarget:q}=H;N(q)},onClick:H=>{let{currentTarget:q}=H;return q.focus({preventScroll:!0})},...y&&{onMouseMove(H){let{currentTarget:q}=H;N(q)},onPointerLeave(H){let{pointerType:q}=H;!v.current||q==="touch"||(b.current=-1,_(c,b),P(null),E||pe(o.floating.current,{preventScroll:!0}))}}}},[n,o,_,y,c,P,E]);return d.useMemo(()=>{if(!p)return{};const N=B.current;function W(k){if(v.current=!1,L.current=!0,!Y.current&&k.currentTarget===o.floating.current)return;if(h&&so(k.key,T,g)){re(k),r(!1,k.nativeEvent),Re(i)&&i.focus();return}const J=b.current,de=bt(c,N),te=Zt(c,N);if(k.key==="Home"&&(re(k),b.current=de,P(b.current)),k.key==="End"&&(re(k),b.current=te,P(b.current)),I>1){const z=b.current;if(k.key===Ft){if(re(k),z===-1)b.current=te;else if(b.current=ee(c,{startingIndex:z,amount:I,decrement:!0,disabledIndices:N}),l&&(z-I<de||b.current<0)){const me=z%I,Le=te%I,Lt=te-(Le-me);Le===me?b.current=te:b.current=Le>me?Lt:Lt-I}ke(c,b.current)&&(b.current=z),P(b.current)}if(k.key===lt&&(re(k),z===-1?b.current=de:(b.current=ee(c,{startingIndex:z,amount:I,disabledIndices:N}),l&&z+I>te&&(b.current=ee(c,{startingIndex:z%I-I,amount:I,disabledIndices:N}))),ke(c,b.current)&&(b.current=z),P(b.current)),T==="both"){const me=Math.floor(z/I);k.key===je&&(re(k),z%I!==I-1?(b.current=ee(c,{startingIndex:z,disabledIndices:N}),l&&Xe(b.current,I,me)&&(b.current=ee(c,{startingIndex:z-z%I-1,disabledIndices:N}))):l&&(b.current=ee(c,{startingIndex:z-z%I-1,disabledIndices:N})),Xe(b.current,I,me)&&(b.current=z)),k.key===Me&&(re(k),z%I!==0?(b.current=ee(c,{startingIndex:z,disabledIndices:N,decrement:!0}),l&&Xe(b.current,I,me)&&(b.current=ee(c,{startingIndex:z+(I-z%I),decrement:!0,disabledIndices:N}))):l&&(b.current=ee(c,{startingIndex:z+(I-z%I),decrement:!0,disabledIndices:N})),Xe(b.current,I,me)&&(b.current=z));const Le=Math.floor(te/I)===me;ke(c,b.current)&&(l&&Le?b.current=k.key===Me?te:ee(c,{startingIndex:z-z%I-1,disabledIndices:N}):b.current=z),P(b.current);return}}if(Gt(k.key,T)){if(re(k),n&&!E&&ge(k.currentTarget.ownerDocument)===k.currentTarget){b.current=ht(k.key,T,g)?de:te,P(b.current);return}ht(k.key,T,g)?l?b.current=J>=te?m&&J!==c.current.length?-1:de:ee(c,{startingIndex:J,disabledIndices:N}):b.current=Math.min(te,ee(c,{startingIndex:J,disabledIndices:N})):l?b.current=J<=de?m&&J!==-1?c.current.length:te:ee(c,{startingIndex:J,decrement:!0,disabledIndices:N}):b.current=Math.max(de,ee(c,{startingIndex:J,decrement:!0,disabledIndices:N})),ke(c,b.current)?P(null):P(b.current)}}function H(k){w==="auto"&&An(k.nativeEvent)&&(F.current=!0)}function q(k){F.current=w,w==="auto"&&On(k.nativeEvent)&&(F.current=!0)}const Q=E&&n&&U&&{"aria-activedescendant":j};return{reference:{...Q,onKeyDown(k){v.current=!1;const J=k.key.indexOf("Arrow")===0;if(E&&n)return W(k);if(!n&&!O&&J)return;const de=J||k.key==="Enter"||k.key.trim()==="",te=Gt(k.key,T),z=io(k.key,T,g);if(de&&(R.current=h&&te?null:k.key),h){z&&(re(k),n?(b.current=bt(c,N),P(b.current)):r(!0,k.nativeEvent));return}te&&(f!=null&&(b.current=f),re(k),!n&&O?r(!0,k.nativeEvent):W(k),n&&P(b.current))},onFocus(){n&&P(null)},onPointerDown:q,onMouseDown:H,onClick:H},floating:{"aria-orientation":T==="both"?void 0:T,...Q,onKeyDown:W,onPointerMove(){v.current=!0}},item:G}},[i,o,j,B,Y,c,p,T,g,E,n,U,h,f,O,m,I,l,w,P,r,G])}function Mo(e){return d.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}function Do(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,s=Ke();return d.useMemo(()=>{const c={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:c}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...c,...i==="menu"&&{"aria-labelledby":s}}}:{}},[o,i,n,r,s])}const Qt=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function Te(e,t){return typeof e=="function"?e(t):e}function co(e,t){const[n,r]=d.useState(e);return e&&!n&&r(!0),d.useEffect(()=>{if(!e){const o=setTimeout(()=>r(!1),t);return()=>clearTimeout(o)}},[e,t]),n}function uo(e,t){t===void 0&&(t={});const{open:n,elements:{floating:r}}=e,{duration:o=250}=t,s=(typeof o=="number"?o:o.close)||0,[c,u]=d.useState(!1),[a,p]=d.useState("unmounted"),f=co(n,s);return X(()=>{c&&!f&&p("unmounted")},[c,f]),X(()=>{if(r)if(n){p("initial");const m=requestAnimationFrame(()=>{p("open")});return()=>{cancelAnimationFrame(m)}}else u(!0),p("close")},[n,r]),{isMounted:f,status:a}}function Fo(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:r,close:o,common:i,duration:s=250}=t,c=e.placement,u=c.split("-")[0],a=d.useMemo(()=>({side:u,placement:c}),[u,c]),p=typeof s=="number",f=(p?s:s.open)||0,m=(p?s:s.close)||0,[l,h]=d.useState(()=>({...Te(i,a),...Te(n,a)})),{isMounted:g,status:E}=uo(e,{duration:s}),w=se(n),y=se(r),O=se(o),x=se(i);return X(()=>{const T=Te(w.current,a),I=Te(O.current,a),M=Te(x.current,a),D=Te(y.current,a)||Object.keys(T).reduce((V,P)=>(V[P]="",V),{});if(E==="initial"&&h(V=>({transitionProperty:V.transitionProperty,...M,...T})),E==="open"&&h({transitionProperty:Object.keys(D).map(Qt).join(","),transitionDuration:f+"ms",...M,...D}),E==="close"){const V=I||T;h({transitionProperty:Object.keys(V).map(Qt).join(","),transitionDuration:m+"ms",...M,...V})}},[m,O,w,y,x,f,E,a]),{isMounted:g,styles:l}}function Jt(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[u,a]=t[s]||[0,0],[p,f]=t[c]||[0,0];a>=r!=f>=r&&n<=(p-u)*(r-a)/(f-a)+u&&(o=!o)}return o}function lo(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Lo(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,c=null,u=performance.now();function a(f,m){const l=performance.now(),h=l-u;if(s===null||c===null||h===0)return s=f,c=m,u=l,null;const g=f-s,E=m-c,y=Math.sqrt(g*g+E*E)/h;return s=f,c=m,u=l,y}const p=f=>{let{x:m,y:l,placement:h,elements:g,onClose:E,nodeId:w,tree:y}=f;return function(x){function T(){clearTimeout(o),E()}if(clearTimeout(o),!g.domReference||!g.floating||h==null||m==null||l==null)return;const{clientX:I,clientY:M}=x,D=[I,M],V=Ot(x),P=x.type==="mouseleave",F=Z(g.floating,V),b=Z(g.domReference,V),R=g.domReference.getBoundingClientRect(),v=g.floating.getBoundingClientRect(),A=h.split("-")[0],C=m>v.right-v.width/2,L=l>v.bottom-v.height/2,S=lo(D,R),B=v.width>R.width,Y=v.height>R.height,K=(B?R:v).left,j=(B?R:v).right,$=(Y?R:v).top,_=(Y?R:v).bottom;if(F&&(i=!0,!P))return;if(b&&(i=!1),b&&!P){i=!0;return}if(P&&ie(x.relatedTarget)&&Z(g.floating,x.relatedTarget)||y&&Ie(y.nodesRef.current,w).some(N=>{let{context:W}=N;return W==null?void 0:W.open}))return;if(A==="top"&&l>=R.bottom-1||A==="bottom"&&l<=R.top+1||A==="left"&&m>=R.right-1||A==="right"&&m<=R.left+1)return T();let U=[];switch(A){case"top":U=[[K,R.top+1],[K,v.bottom-1],[j,v.bottom-1],[j,R.top+1]];break;case"bottom":U=[[K,v.top+1],[K,R.bottom-1],[j,R.bottom-1],[j,v.top+1]];break;case"left":U=[[v.right-1,_],[v.right-1,$],[R.left+1,$],[R.left+1,_]];break;case"right":U=[[R.right-1,_],[R.right-1,$],[v.left+1,$],[v.left+1,_]];break}function G(N){let[W,H]=N;switch(A){case"top":{const q=[B?W+t/2:C?W+t*4:W-t*4,H+t+1],Q=[B?W-t/2:C?W+t*4:W-t*4,H+t+1],k=[[v.left,C||B?v.bottom-t:v.top],[v.right,C?B?v.bottom-t:v.top:v.bottom-t]];return[q,Q,...k]}case"bottom":{const q=[B?W+t/2:C?W+t*4:W-t*4,H-t],Q=[B?W-t/2:C?W+t*4:W-t*4,H-t],k=[[v.left,C||B?v.top+t:v.bottom],[v.right,C?B?v.top+t:v.bottom:v.top+t]];return[q,Q,...k]}case"left":{const q=[W+t+1,Y?H+t/2:L?H+t*4:H-t*4],Q=[W+t+1,Y?H-t/2:L?H+t*4:H-t*4];return[...[[L||Y?v.right-t:v.left,v.top],[L?Y?v.right-t:v.left:v.right-t,v.bottom]],q,Q]}case"right":{const q=[W-t,Y?H+t/2:L?H+t*4:H-t*4],Q=[W-t,Y?H-t/2:L?H+t*4:H-t*4],k=[[L||Y?v.left+t:v.right,v.top],[L?Y?v.left+t:v.right:v.left+t,v.bottom]];return[q,Q,...k]}}}if(!Jt([I,M],U)){if(i&&!S)return T();if(!P&&r){const N=a(x.clientX,x.clientY);if(N!==null&&N<.1)return T()}Jt([I,M],G([m,l]))?!i&&r&&(o=window.setTimeout(T,40)):T()}}};return p.__options={blockPointerEvents:n},p}const ko=e=>{if(!e)return{};const t=getComputedStyle(e),n=Number.parseInt(t.getPropertyValue("--jkl-background-color").replace("#",""),16)<16777215/2?"dark":"light",r=t.getPropertyValue("--jkl-density")==='"compact"'?"compact":"comfortable";return{theme:n,density:r}};export{Eo as F,To as a,Co as b,mo as c,So as d,Ro as e,vo as f,ko as g,Po as h,Io as i,Do as j,Ao as k,ho as l,Fo as m,bo as n,po as o,Fe as p,yo as q,_e as r,go as s,Lo as t,Mo as u,Oo as v,wo as w,xo as x};
