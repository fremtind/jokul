import{j as n}from"./jsx-runtime-DqZpzl9T.js";import{c}from"./clsx-B-dksMZM.js";import{r as m,R as x}from"./index-siqcju79.js";import{u as E}from"./useAnimatedHeight-BAxzwhOL.js";import{u as v}from"./useId-CahK3IZ3.js";import{E as C}from"./Expander-BxdOM-8M.js";import{u as N,T as q,a as O}from"./_index-Bch1UuEC.js";const w=m.forwardRef(({isOpen:l,onClick:o,children:s,className:d,id:u,"aria-controls":b,...i},f)=>{if(l===void 0||typeof o!="function")throw new Error("ExpandableTableRowController must have ExpandableTableRow as parent");const{collapseToList:r}=N(),p=i["data-th"],e=r?p:void 0;return n.jsx(q,{className:c("jkl-table-cell--expand",{"jkl-table-cell--expand-without-text":!s},d),...i,ref:f,children:n.jsx(C,{as:"button",className:c("jkl-table-row-expand-button",{"jkl-table-row-expand-button--expanded":l}),id:u,open:l,"aria-controls":b,"aria-label":s?void 0:p||"Ekspander rad",onClick:a=>{a.stopPropagation(),o()},onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.stopPropagation(),a.preventDefault(),o())},children:s??e})})});w.displayName="ExpandableTableRowController";w.__docgenInfo={description:"",methods:[],displayName:"ExpandableTableRowController",props:{density:{required:!1,tsType:{name:"union",raw:'"comfortable" | "compact"',elements:[{name:"literal",value:'"comfortable"'},{name:"literal",value:'"compact"'}]},description:""},align:{required:!1,tsType:{name:"union",raw:'"left" | "center" | "right"',elements:[{name:"literal",value:'"left"'},{name:"literal",value:'"center"'},{name:"literal",value:'"right"'}]},description:`Velg mellom venstrejustering og høyrejustering av innholdet. Typisk skal innholdet være venstrejustert, men for eksempel summer er høyrejustert.
@default "left"`},verticalAlign:{required:!1,tsType:{name:"union",raw:'"center" | "top"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"top"'}]},description:`Velg mellom vertikal sentrering av innholdet eller toppjustering. Typisk skal innholdet være toppjustert, men dersom raden har knapper kan midtstilling fungere bedre.
@default "top"`},isOpen:{required:!1,tsType:{name:"boolean"},description:"Settes automatisk av ExpandableTableRow"},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Settes automatisk av ExpandableTableRow"}},composes:["TdHTMLAttributes"]};const h=m.forwardRef((l,o)=>{const{className:s,clickable:d,children:u,expandedChildren:b,onToggle:i,colSpan:f=100,isOpen:r,...p}=l,[e,a]=m.useState(r??!1);m.useEffect(()=>{typeof r>"u"||a(r)},[r]);const[y]=E(e,{timing:"expressive"}),k=()=>{const t=!e;i&&i(t),a(t)},j=c("jkl-table-row--expandable",s,{"jkl-table-row--expanded":e,"jkl-expandable-table-row--clickable-external":d}),R=c("jkl-expandable-table-row__expanded-row",{"jkl-expandable-table-row__expanded-row--expanded":e}),T=v("jkl-expandable-table-row"),g=v("jkl-expandable-table-row-controller");return n.jsxs(n.Fragment,{children:[n.jsx(O,{className:j,clickable:d??{onClick:()=>k()},...p,ref:o,children:x.Children.map(u,t=>x.isValidElement(t)&&t.type===w?x.cloneElement(t,{isOpen:e,onClick:()=>k(),"aria-controls":T,id:g}):t)}),n.jsx("tr",{"aria-hidden":!e,children:n.jsx("td",{colSpan:f,children:n.jsx("fieldset",{ref:y,className:R,id:T,"aria-labelledby":g,hidden:!e,children:b})})})]})});h.displayName="ExpandableTableRow";h.__docgenInfo={description:"",methods:[],displayName:"ExpandableTableRow",props:{clickable:{required:!1,tsType:{name:"ClickableRowProps"},description:"Gir raden interaktivitet og en click-handler."},expandedChildren:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},colSpan:{required:!1,tsType:{name:"number"},description:`Setter bredden på raden som blir åpnet
@default 100`},isOpen:{required:!1,tsType:{name:"boolean"},description:"Om du ønsker en controlled komponent. Hvis du ikke setter denne vil komponenten håndtere state selv."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isOpen"}],return:{name:"void"}}},description:""}},composes:["HTMLAttributes"]};export{w as E,h as a};
