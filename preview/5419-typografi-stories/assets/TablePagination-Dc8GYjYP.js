import{j as e}from"./jsx-runtime-BOJBhsC5.js";import{c as v}from"./clsx-B-dksMZM.js";import{r as p}from"./index-Bv6P490N.js";import{g as I,u as M}from"./TableRow-DZH38DeC.js";import{u as F}from"./useId-B1yQ3ow-.js";import{I as w}from"./IconButton-9XUYZjY_.js";import{C as L}from"./ChevronLeftIcon-9oYStCk-.js";import{C as H}from"./ChevronRightIcon-B1bQ5uAI.js";import{N as G}from"./NativeSelect-Dq0rzBEf.js";import{T as $}from"./TextInput-CuQXZqTY.js";const P=p.forwardRef(({className:o,...t},a)=>e.jsx(I,{state:{isTableHead:!1,isTableBody:!1,isTableFooter:!0},children:e.jsx("tfoot",{className:v("jkl-table-foot",o),...t,ref:a})}));P.displayName="TableFooter";P.__docgenInfo={description:"",methods:[],displayName:"TableFooter",composes:["HTMLAttributes"]};function B(o,t,a){return t<o?o:t>a?a:t}const T=p.forwardRef((o,t)=>{const{activePage:a=0,totalNumberOfRows:i,rowsPerPage:b,rowsPerPageItems:y,className:j,density:m,id:h,withGoToPage:c=!1,onChange:l,onChangeRowsPerPage:N,labels:u={rowsPerPage:"Rader per side",previous:"Forrige",next:"Neste"},...C}=o,k=F(h||"jkl-table-pagination",{generateSuffix:!h}),{density:S}=M(),d=b<=0?1:Math.ceil(i/b),[n,x]=p.useState(B(0,a,d-1)),q=p.useCallback(r=>{const s=Number.parseInt(r.currentTarget.dataset.number);l(r,s,n),x(s),f(String(s+1))},[l,n]),[_,f]=p.useState(String(n+1)),E=p.useCallback(r=>{f(r.target.value);try{const s=Number.parseInt(r.target.value)-1;if(Number.isNaN(s))return;s>=0&&s<d&&(l(r,s,n),x(s))}catch{return}},[l,n,d]),A=p.useCallback(r=>{if(n===0){l(r,n,n);return}const s=n-1;l(r,s,n),x(s),f(String(s+1))},[l,n]),R=p.useCallback(r=>{if(n===d-1){l(r,n,n);return}const s=n+1;l(r,s,n),x(s),f(String(s+1))},[l,d,n]);return e.jsxs("div",{className:v("jkl-table-pagination",j),...C,id:k,"data-density":m||S,ref:t,children:[e.jsx("div",{className:"jkl-table-pagination__left",children:e.jsxs("div",{className:"jkl-table-pagination__picker jkl-table-pagination__picker--rows",children:[e.jsxs("span",{className:"jkl-table-pagination__picker-label","aria-hidden":"true",children:[u.rowsPerPage,":"]}),e.jsx(G,{className:"jkl-table-pagination__picker-input",label:u.rowsPerPage,labelProps:{srOnly:!0},name:`${k}-rows-per-page`,items:y.map(r=>typeof r=="number"?String(r):{label:r.label,value:String(r.value)}),value:String(b),onChange:N,width:"min(8rem, 100%)",inline:!0})]})}),e.jsxs("span",{className:"jkl-table-pagination__total-rows",children:["Treff: ",i]}),e.jsx("div",{className:"jkl-table-pagination__right",children:d!==1&&e.jsxs("nav",{className:"jkl-table-pagination__nav",children:[c&&e.jsxs("div",{className:"jkl-table-pagination__picker jkl-table-pagination__picker--page",children:[e.jsxs("span",{className:"jkl-table-pagination__picker-label","aria-hidden":"true",children:[typeof c=="object"?c.gotoLabel:"Gå til side",":"]}),e.jsx($,{className:"jkl-table-pagination__picker-input",label:typeof c=="object"?c.gotoLabel:"Gå til side",labelProps:{srOnly:!0},name:`${k}-go-to-page`,value:_,width:"min(4rem, 100%)",onChange:E,"aria-invalid":_&&_!==String(n+1)?"true":void 0})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(w,{className:"jkl-table-pagination__previous",title:u.previous,onClick:A,children:e.jsx(L,{})})}),e.jsx(D,{id:k,activePage:a,numberOfPages:d,onPageClick:q}),e.jsx("li",{children:e.jsx(w,{className:"jkl-table-pagination__next",title:u.next,onClick:R,children:e.jsx(H,{})})})]})]})})]})}),D=({id:o,activePage:t,numberOfPages:a,onPageClick:i})=>{if(a<=7)return e.jsx(e.Fragment,{children:Array.from({length:a}).map((N,u)=>e.jsx("li",{children:e.jsx("button",{className:v("jkl-table-pagination__page",{"jkl-table-pagination__page--active":t===u}),type:"button","data-number":u,onClick:i,children:u+1})},`${o}-page-${u}`))});const b=t>3&&a>7,y=t<a-4&&a>7,j=Math.min(Math.max(t-2,1),a-6),m=Math.min(j+1,a-5),h=Math.min(m+1,a-4),c=Math.min(m+2,a-3),l=Math.min(m+3,a-2);return e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(g,{isActive:t===0,number:0,onClick:i})}),e.jsx("li",{children:b?e.jsx("span",{className:"jkl-table-pagination__ellipsis","aria-hidden":!0,children:"..."}):e.jsx(g,{isActive:t===j,number:j,onClick:i})}),e.jsx("li",{children:e.jsx(g,{isActive:t===m,number:m,onClick:i})}),e.jsx("li",{children:e.jsx(g,{isActive:t===h,number:h,onClick:i})}),e.jsx("li",{children:e.jsx(g,{isActive:t===c,number:c,onClick:i})}),e.jsx("li",{children:y?e.jsx("span",{className:"jkl-table-pagination__ellipsis","aria-hidden":!0,children:"..."}):e.jsx(g,{isActive:t===l,number:l,onClick:i})}),e.jsx("li",{children:e.jsx(g,{isActive:t===a-1,number:a-1,onClick:i})})]})},g=({isActive:o,number:t,onClick:a,...i})=>e.jsx("button",{className:v("jkl-table-pagination__page",{"jkl-table-pagination__page--active":o}),type:"button","data-number":t,onClick:a,...i,children:t+1});T.displayName="TablePagination";T.__docgenInfo={description:"",methods:[],displayName:"TablePagination",props:{className:{required:!1,tsType:{name:"string"},description:""},id:{required:!1,tsType:{name:"string"},description:""},density:{required:!1,tsType:{name:"union",raw:'"comfortable" | "compact"',elements:[{name:"literal",value:'"comfortable"'},{name:"literal",value:'"compact"'}]},description:""},activePage:{required:!1,tsType:{name:"number"},description:"@default 0"},rowsPerPage:{required:!0,tsType:{name:"number"},description:'Null eller negativt tall tolkes som "vis alle".'},rowsPerPageItems:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:"number | { label: string; value: number }",elements:[{name:"number"},{name:"signature",type:"object",raw:"{ label: string; value: number }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"number",required:!0}}]}}]}],raw:"Array<number | { label: string; value: number }>"},description:""},totalNumberOfRows:{required:!0,tsType:{name:"number"},description:""},withGoToPage:{required:!1,tsType:{name:"union",raw:"boolean | { gotoLabel: string }",elements:[{name:"boolean"},{name:"signature",type:"object",raw:"{ gotoLabel: string }",signature:{properties:[{key:"gotoLabel",value:{name:"string",required:!0}}]}}]},description:`Viser et valgfritt inputfelt for å hoppe raskt til en spesifik side.
Du kan også sende inn en custom label hvis du ønsker det, ellers bruke
true for default label
@default false`},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:`(
    e: React.SyntheticEvent,
    toPage: number,
    fromPage: number,
) => void`,signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"e"},{type:{name:"number"},name:"toPage"},{type:{name:"number"},name:"fromPage"}],return:{name:"void"}}},description:""},onChangeRowsPerPage:{required:!0,tsType:{name:"ChangeEventHandler",elements:[{name:"HTMLSelectElement"}],raw:"ChangeEventHandler<HTMLSelectElement>"},description:""},labels:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    rowsPerPage: string;
    previous: string;
    next: string;
}`,signature:{properties:[{key:"rowsPerPage",value:{name:"string",required:!0}},{key:"previous",value:{name:"string",required:!0}},{key:"next",value:{name:"string",required:!0}}]}},description:`Dersom du ønsker å ha custom labels kan du sende inn disse. "rowsPerPage"
vises alltid på skjerm mens "next" og "previous" brukes som hint til
skjermlesere for ikon-knappene til Neste/Forrige side
@default { rowsPerPage: "Rader per side", previous: "Forrige", next: "Neste" }`}}};export{P as T,T as a};
