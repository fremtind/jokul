import{r,j as e,R as b}from"./iframe-DtM7RXj6.js";import{B as J}from"./Button-B6z-5Ezn.js";import{n as H,p as Q,q as X,r as Y,u as Z,f as ee,b as ne,a as te,d as se,e as re,t as oe,v as ae,i as ie,k as le,w as de,F as ue,j as me,g as ce,o as pe,h as fe,s as ge}from"./floating-ui.react-DbgLv6yT.js";import{c as ke}from"./clsx-B-dksMZM.js";import{g as ye}from"./getThemeAndDensity-v_O0Epee.js";import{u as he}from"./useBrowserPreferences-BGezIPJn.js";import{S as q}from"./SlotComponent-DYrfhb9R.js";import{M as l}from"./MenuItem-DiKOTwnl.js";/* empty css               */import{H as ve}from"./HamburgerIcon-Bx8XYjOR.js";import"./preload-helper-PPVm8Dsz.js";import"./usePreviousValue-CIjN-Smo.js";import"./Loader-ClQCFrJZ.js";import"./useDelayedRender-DaYV0-O6.js";import"./index-C5GIev4G.js";import"./index-BK5QRlWO.js";import"./mergeRefs-Akd9vO6p.js";import"./ChevronRightIcon-B57h6a1d.js";import"./Icon-DEBh_q2D.js";import"./OpenInNewIcon-D-3AKP0m.js";const xe=(t,n,d)=>{const[k,y]=r.useState(!1),[c,p]=r.useState(!1);return r.useEffect(()=>{if(!t)return;function o(){p(!1)}function a(u){n&&u.nodeId!==n&&u.parentId===d&&p(!1)}return t.events.on("click",o),t.events.on("menuopen",a),()=>{t.events.off("click",o),t.events.off("menuopen",a)}},[t,n,d]),r.useEffect(()=>{c&&t&&n&&t.events.emit("menuopen",{parentId:d,nodeId:n})},[t,c,n,d]),r.useEffect(()=>{function o({pointerType:u}){u!=="touch"&&y(!0)}function a(){y(!1)}return window.addEventListener("pointermove",o,{once:!0,capture:!0}),window.addEventListener("keydown",a,!0),()=>{window.removeEventListener("pointermove",o,{capture:!0}),window.removeEventListener("keydown",a,!0)}},[k]),{allowHover:k,isOpen:c,setIsOpen:p}};function E(t,n=0){switch(t){case"top":return`0 ${n}px`;case"left":return`${n}px 0`;case"bottom":return`0 ${-n}px`;case"right":return`${-n}px 0`;default:return`0 ${n}px`}}const M=r.forwardRef((t,n)=>{const{children:d,className:k,initialPlacement:y,openOnHover:c=!1,keepOpenOnClickOutside:p=!1,triggerElement:o,isOpen:a,onToggle:u,...D}=t,R=`"jkl-menu"${r.useId()}`,{prefersReducedMotion:T}=he(),x=X(),O=Y(),P=H(),f=P!=null,F=r.useRef([]),[N,I]=r.useState(null),{allowHover:C,isOpen:A,setIsOpen:S}=xe(x,O,P),g=a!==void 0?a:A;r.useEffect(()=>u?.(g),[g,u]);const{refs:j,placement:K,context:m,floatingStyles:L}=Z({nodeId:O,open:g,onOpenChange:S,placement:y||(f?"right-start":"bottom-start"),middleware:[pe(2),fe({fallbackAxisSideDirection:"end",crossAxis:!1}),ge({padding:8})],whileElementsMounted:ce}),{getReferenceProps:_,getFloatingProps:$,getItemProps:B}=ee([ne(m,{enabled:c&&C,delay:{open:75},handleClose:ae({requireIntent:!0,blockPointerEvents:!0})}),te(m,{event:"mousedown"}),se(m,{outsidePress:!p}),re(m,{role:"menu"}),oe(m,{listRef:F,activeIndex:N,nested:f,onNavigate:I})]),V=ie([j.setReference,n]),{theme:U,density:W}=ye(j.reference.current),{isMounted:z,styles:G}=le(m,{duration:{open:T?0:250,close:T?0:150},initial:({side:s})=>({opacity:0,translate:E(s,5)}),open:({side:s})=>({opacity:1,translate:E(s,0)}),close:({side:s})=>({opacity:0,translate:E(s,5)})});return e.jsxs(de,{id:O,children:[b.isValidElement(o)&&e.jsx(q,{..._({...D,ref:V,role:f?"menuitem":void 0,"aria-controls":R,onClick(s){s.stopPropagation()}}),children:o}),z&&e.jsx(ue,{children:e.jsx(me,{context:m,modal:!1,initialFocus:f?-1:0,returnFocus:!f,children:e.jsx("div",{className:ke("jkl jkl-menu",k),"data-theme":U,"data-layout-density":W,role:"menu","data-placement":K,"aria-live":"assertive","aria-hidden":!g,ref:j.setFloating,...$({id:R,style:{...L,...G}}),children:b.Children.map(d,(s,w)=>b.isValidElement(s)?e.jsx(q,{...B({...s.props,tabIndex:N===w?0:-1,role:"menuitem",ref(i){F.current[w]=i},onClick(i){i.defaultPrevented||x?.events.emit("click")},onKeyDown(i){s.props.onKeyDown?.(i),!i.defaultPrevented&&(x?.events.emit("keydown"),i.currentTarget.role==="menuitemcheckbox"&&i.key==="Enter"&&S(!1))},onMouseEnter(){C&&g&&I(w)}}),children:s}):s)})})})]})});M.displayName="MenuComponent";const v=r.forwardRef((t,n)=>H()===null?e.jsx(Q,{children:e.jsx(M,{ref:n,...t})}):e.jsx(M,{ref:n,...t}));v.displayName="Menu";v.__docgenInfo={description:"",methods:[],displayName:"Menu",props:{"data-testautoid":{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"union",raw:"ReactNode | ReactNode[]",elements:[{name:"ReactNode"},{name:"Array",elements:[{name:"ReactNode"}],raw:"ReactNode[]"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},initialPlacement:{required:!1,tsType:{name:"Placement"},description:`Initiell plassering av menyen. Dersom det ikke er plass på skjermen der du
angir at den skal åpnes vil den slyttes automatisk.
@default "bottom-start" på toppnivå, "right-start" for undermenyer`},openOnHover:{required:!1,tsType:{name:"boolean"},description:`Angir om menyen skal åpnes ved hover (uten å måtte klikke)
@default false`},keepOpenOnClickOutside:{required:!1,tsType:{name:"boolean"},description:`Angir om menyen skal holdes åpen når man klikker utenfor menyen
@default false`},triggerElement:{required:!0,tsType:{name:"ReactNode"},description:'Elementet som fungerer som trigger for menyen. Dersom elementet ikke er en `<button type="button">`\neller en `forwardRef<HTMLButtonElement>` vil det bli lagt inne i en knapp\nmed forhåndsdefinert stil. For å komme raskt i gang kan du bruke komponenten\n`MenuTriggerButton` fra denne pakken.'},isOpen:{required:!1,tsType:{name:"boolean"},description:`Kan brukes til å styre utenfra om menyen skal være åpen eller ikke.
@default false`},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isOpen"}],return:{name:"void"}}},description:"Callback som kalles når menyen åpnes eller lukkes."}},composes:["Omit"]};const _e={title:"Komponenter/Menu/Menu",component:v,args:{openOnHover:!1,keepOpenOnClickOutside:!1,initialPlacement:"bottom-start",triggerElement:e.jsx(J,{variant:"ghost",iconPosition:"right",icon:e.jsx(ve,{}),children:"Meny"}),children:e.jsxs(e.Fragment,{children:[e.jsx(l,{as:"a",href:"#forsikringene-dine",children:"Forsikringene dine"}),e.jsx(l,{as:"a",href:"#meld-skade",children:"Meld skade"}),e.jsx(l,{as:"a",href:"#skadesakene-dine",children:"Skadesakene dine"}),e.jsxs(v,{triggerElement:e.jsx(l,{expandable:!0,children:"Skjemaoppgaver"}),children:[e.jsx(l,{as:"a",href:"#flytte-forsikring",children:"Flytte forsikring"}),e.jsx(l,{as:"a",href:"#endre-forsikring",children:"Endre forsikring"}),e.jsx(l,{as:"a",href:"#oppsigelse",children:"Oppsigelse av forsikring"})]}),e.jsx(l,{as:"a",href:"#kontakt-oss",children:"Kontakt oss"})]})},argTypes:{isOpen:{control:{disable:!0}}}},h={};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:"{}",...h.parameters?.docs?.source}}};const $e=["_Menu"];export{h as _Menu,$e as __namedExportsOrder,_e as default};
