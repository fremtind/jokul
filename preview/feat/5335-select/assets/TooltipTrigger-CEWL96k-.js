import{j as s}from"./jsx-runtime-DqZpzl9T.js";import{u as P,e as O,d as I,a as q,b as $,c as M,f as S,o as _,h as A,s as D,l as B,g as H,i as j,m as V,j as L,F as U,k as z,n as G}from"./getThemeAndDensity-CIeob-5A.js";import{c as w}from"./clsx-B-dksMZM.js";import{r as u,R as T}from"./index-siqcju79.js";import{u as J}from"./useBrowserPreferences-B9LcbCiO.js";import{u as K}from"./useId-CahK3IZ3.js";const Q=({initialOpen:o=!1,placement:e="top",delay:r=250,triggerOn:a="hover",onOpenChange:g})=>{const[l,i]=u.useState(o),c=u.useRef(null),d=u.useRef(null),k=f=>{d.current=f},t=P({open:l,onOpenChange:f=>{g?.(f),i(f)},placement:e,whileElementsMounted:H,middleware:[_(16),A(),D({padding:16}),B({element:c,padding:8})]}),p=O(t.context,{role:"tooltip"}),n=I(t.context),x=q(t.context,{enabled:a==="click"}),m=$(t.context,{enabled:a==="hover",delay:l?0:r}),y=M(t.context,{enabled:a==="hover"}),v=S([n,y,p,x,m]);return{triggerOn:a,isOpen:l,setOpen:i,arrowElement:c,...t,refs:{...t.refs,description:d,setDescription:k},...v}},F=u.createContext(null),W=F.Provider,C=()=>{const o=u.useContext(F);if(o===null)throw new Error("Tooltip-komponentene kan kun brukes inne i <Tooltip />");return o},X=({children:o,...e})=>{const r=Q(e);return s.jsx(W,{value:r,children:o})};X.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{initialOpen:{required:!1,tsType:{name:"boolean"},description:`Sett til true dersom du ønsker at tooltipen skal være åpen som default
@default false`},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:`En funksjon som skal kalles når Tooltip åpnes eller lukkes
@param open Hvorvidt tooltip endres til å være åpen eller ikke`},placement:{required:!1,tsType:{name:"Extract",elements:[{name:"Placement"},{name:"union",raw:'"top-start" | "top-end" | "left" | "right" | "top"',elements:[{name:"literal",value:'"top-start"'},{name:"literal",value:'"top-end"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right"'},{name:"literal",value:'"top"'}]}],raw:`Extract<
    Placement,
    "top-start" | "top-end" | "left" | "right" | "top"
>`},description:`Plassering av tooltipen i forhold til triggeren. Tooltipen vil automatisk
bytte posisjon dersom det ikke er plass.
@default "top"`},delay:{required:!1,tsType:{name:"number"},description:`Valgfri forsinkelse før tooltipen åpner. Ignoreres dersom triggerOn er satt til "click"
@default 250`},triggerOn:{required:!1,tsType:{name:"union",raw:'"click" | "hover"',elements:[{name:"literal",value:'"click"'},{name:"literal",value:'"hover"'}]},description:`Angir om tooltipen skal åpnes ved klikk eller hover
@default "hover"`},children:{required:!0,tsType:{name:"union",raw:"ReactNode | ReactNode[]",elements:[{name:"ReactNode"},{name:"Array",elements:[{name:"ReactNode"}],raw:"ReactNode[]"}]},description:""}}};function b(o,e=0){switch(o){case"top":return`0 ${e}px`;case"left":return`${e}px 0`;case"bottom":return`0 ${-e}px`;case"right":return`${-e}px 0`;default:return`0 ${e}px`}}const Y=u.forwardRef(function({className:e,children:r,["data-ispopup"]:a,...g},l){const{triggerOn:i,arrowElement:c,getFloatingProps:d,placement:k,floatingStyles:t,refs:p,context:n}=C(),x=j([l,p.setFloating]),m=K("jkl-tooltip-content"),{prefersReducedMotion:y}=J(),{isMounted:v,styles:f}=V(n,{duration:{open:y?0:250,close:y?0:150},initial:({side:h})=>({opacity:0,translate:b(h,5)}),open:({side:h})=>({opacity:1,translate:b(h,0)}),close:({side:h})=>({opacity:0,translate:b(h,-5)})}),{density:E,theme:N}=L(p.reference.current),R=T.useRef(null);return T.useEffect(()=>{R.current=n.elements.domReference?.closest("[data-portal]")||document.body},[n.elements.domReference]),s.jsx(U,{root:R.current,children:s.jsx(z,{initialFocus:i==="click"?0:-1,returnFocus:!0,context:n,modal:!1,closeOnFocusOut:!0,children:s.jsxs(s.Fragment,{children:[i==="hover"&&s.jsx("span",{ref:p.setDescription,hidden:!0,children:r},`${m}-trigger`),v&&s.jsx("span",{className:"jkl",children:s.jsxs("span",{ref:x,"data-placement":k,"data-testid":"tooltip-content","data-theme":N,"data-layout-density":E,className:w("jkl-tooltip-content",e),...d({...g,id:m}),style:{...t,...f},children:[r,s.jsx(G,{context:n,ref:c,width:24,height:12,fill:"var(--background-color)"})]},m)},`${m}-wrapper`)]})})})});Y.__docgenInfo={description:"",methods:[],displayName:"TooltipContent",props:{"data-ispopup":{required:!1,tsType:{name:"boolean"},description:""}}};const Z=u.forwardRef(function({children:e,className:r,...a},g){const{isOpen:l,getReferenceProps:i,refs:c,triggerOn:d}=C(),k=e.ref,t=j([k,c.setReference,g]),p=x=>x?.replaceAll(/[\ue003-\uf8aa]/g,""),n=[c.reference.current?.textContent,c.description.current?.textContent].map(p).filter(Boolean).join(". ");return T.isValidElement(e)?T.cloneElement(e,i({ref:t,"aria-label":n,...e.props,...a,className:w(e.props.className,r),"data-tooltip-shown":l,style:{...e.props.style},tabIndex:d==="click"?0:void 0})):s.jsx("button",{"data-tooltip-shown":l,...i({className:w(r,"jkl-tooltip-trigger"),type:"button",ref:t,"aria-label":n,...a}),children:e})});Z.__docgenInfo={description:"",methods:[],displayName:"TooltipTrigger"};export{X as T,Z as a,Y as b};
