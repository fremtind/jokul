import{j as e}from"./jsx-runtime-BbjHj44Y.js";import{c as u}from"./clsx-B-dksMZM.js";import{r as c}from"./index-C6mWTJJr.js";import{I as D}from"./IconButton-DhDUYojH.js";import{S as y}from"./SupportLabel-uWZp44mj.js";import{f as h,n as L}from"./formatNumber-DzIwhxNg.js";import{T as b}from"./TrashCanIcon-B9RdHG1z.js";import{S as F}from"./WarningIcon-B6VvEiHT.js";function S(n,t){return n>=1e5?`${h(Number(n/1e3/1e3),{maximumFractionDigits:1,...t})}${L}MB`:`${h(n/1e3,{maximumFractionDigits:2,...t})}${L}KB`}const _=n=>{const{fileName:t,fileType:o,path:i,file:l,state:s,children:r}=n,m=u("jkl-file__thumbnail",{"jkl-file__thumbnail--selected":s==="SELECTED","jkl-file__thumbnail--uploading":s==="UPLOADING"});return o.startsWith("image/")?e.jsxs("div",{className:"jkl-file__thumbnail-wrapper",children:[e.jsx("img",{className:m,src:l?URL.createObjectURL(l):i,alt:""}),r]}):e.jsx("div",{className:m,children:e.jsx("p",{children:t.split(".").at(-1)})})};_.__docgenInfo={description:"",methods:[],displayName:"Thumbnail",props:{children:{required:!1,tsType:{name:"union",raw:"ReactNode | ReactNode[]",elements:[{name:"ReactNode"},{name:"Array",elements:[{name:"ReactNode"}],raw:"ReactNode[]"}]},description:""},fileName:{required:!0,tsType:{name:"string"},description:""},fileType:{required:!0,tsType:{name:"string"},description:""},path:{required:!1,tsType:{name:"string"},description:""},file:{required:!1,tsType:{name:"File"},description:""},state:{required:!1,tsType:{name:"union",raw:`| "SELECTED"
| "UPLOADING"
| "UPLOAD_ERROR"
| "UPLOAD_SUCCESS"`,elements:[{name:"literal",value:'"SELECTED"'},{name:"literal",value:'"UPLOADING"'},{name:"literal",value:'"UPLOAD_ERROR"'},{name:"literal",value:'"UPLOAD_SUCCESS"'}]},description:""}}};const j=c.createContext(null),w=()=>c.useContext(j),k=({context:n,children:t})=>e.jsx(j.Provider,{value:n,children:t});k.__docgenInfo={description:"",methods:[],displayName:"FileInputContextProvider",props:{children:{required:!0,tsType:{name:"union",raw:"ReactNode | ReactNode[]",elements:[{name:"ReactNode"},{name:"Array",elements:[{name:"ReactNode"}],raw:"ReactNode[]"}]},description:""},context:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    accept?: "image/*" | ".pdf" | "image/*,.pdf" | HTMLInputElement["accept"];
    maxSizeBytes?: number;
    files: FileInputFile[];
    onChange: (
        e:
            | React.ChangeEvent<HTMLInputElement>
            | React.DragEvent<HTMLDivElement>,
        files: FileInputFile[],
    ) => void;
}`,signature:{properties:[{key:"accept",value:{name:"union",raw:'"image/*" | ".pdf" | "image/*,.pdf" | HTMLInputElement["accept"]',elements:[{name:"literal",value:'"image/*"'},{name:"literal",value:'".pdf"'},{name:"literal",value:'"image/*,.pdf"'},{name:'HTMLInputElement["accept"]',raw:'HTMLInputElement["accept"]'}],required:!1}},{key:"maxSizeBytes",value:{name:"number",required:!1}},{key:"files",value:{name:"Array",elements:[{name:"FileInputFile"}],raw:"FileInputFile[]",required:!0}},{key:"onChange",value:{name:"signature",type:"function",raw:`(
    e:
        | React.ChangeEvent<HTMLInputElement>
        | React.DragEvent<HTMLDivElement>,
    files: FileInputFile[],
) => void`,signature:{arguments:[{type:{name:"union",raw:`| React.ChangeEvent<HTMLInputElement>
| React.DragEvent<HTMLDivElement>`,elements:[{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},{name:"ReactDragEvent",raw:"React.DragEvent<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]}]},name:"e"},{type:{name:"Array",elements:[{name:"FileInputFile"}],raw:"FileInputFile[]"},name:"files"}],return:{name:"void"}},required:!0}}]}},description:""}}};const q=n=>{const{children:t,className:o,fileName:i,fileType:l,fileSize:s,path:r,file:m,supportLabel:p,supportLabelType:a,state:R,onRemove:d,...N}=n,f=`jkl-file-preview-${c.useId()}`,E=`${f}-support`,x=w(),I=r?"a":"div",v=a==="error"||a==="warning",T=a==="success",C=()=>!v&&!T?e.jsx(y,{className:"jkl-file__support-label jkl-body",id:E,label:p,labelType:a}):T?e.jsx(F,{variant:"small","aria-label":"Filen ble lastet opp uten feil","aria-hidden":!1}):null,g=e.jsxs("div",{id:f,className:u(o,"jkl-file"),...N,children:[e.jsxs(I,{className:u("jkl-file__content",{"jkl-file__content--error":a==="error","jkl-file__content--warning":a==="warning"}),href:r,target:r?"_blank":void 0,children:[e.jsx(_,{fileName:i,fileType:l,file:m,path:r,state:R,children:t}),e.jsxs("div",{children:[e.jsx("p",{className:"jkl-file__name",children:i}),e.jsxs("p",{className:"jkl-file__description",children:[e.jsx("span",{children:S(s)}),C()]}),p&&v&&e.jsx(y,{className:"jkl-file__support-label",id:E,label:p,labelType:a})]})]}),d&&e.jsx(D,{className:"jkl-file__delete",onClick:d,title:`Fjern ${i}`,children:e.jsx(b,{})})]});return x?e.jsx("li",{children:g}):g};q.__docgenInfo={description:"",methods:[],displayName:"File",props:{fileName:{required:!0,tsType:{name:"string"},description:""},fileType:{required:!0,tsType:{name:"string"},description:""},fileSize:{required:!0,tsType:{name:"number"},description:""},path:{required:!1,tsType:{name:"string"},description:""},file:{required:!1,tsType:{name:"File"},description:""},supportLabel:{required:!1,tsType:{name:"string"},description:""},supportLabelType:{required:!1,tsType:{name:"union",raw:'"help" | "error" | "warning" | "success"',elements:[{name:"literal",value:'"help"'},{name:"literal",value:'"error"'},{name:"literal",value:'"warning"'},{name:"literal",value:'"success"'}]},description:""},state:{required:!1,tsType:{name:"union",raw:`| "SELECTED"
| "UPLOADING"
| "UPLOAD_ERROR"
| "UPLOAD_SUCCESS"`,elements:[{name:"literal",value:'"SELECTED"'},{name:"literal",value:'"UPLOADING"'},{name:"literal",value:'"UPLOAD_ERROR"'},{name:"literal",value:'"UPLOAD_SUCCESS"'}]},description:""},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"MouseEvent",elements:[{name:"HTMLButtonElement"}],raw:"MouseEvent<HTMLButtonElement>"},name:"e"}],return:{name:"void"}}},description:""}}};export{q as F,_ as T,k as a,S as f,w as u};
