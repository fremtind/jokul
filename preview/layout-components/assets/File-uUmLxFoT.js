import{j as e}from"./jsx-runtime-D9p_MChh.js";import{c as L}from"./clsx-B-dksMZM.js";import{r as i}from"./index-CRL2yuNo.js";import{L as M}from"./Link-BJbN6Wxp.js";import{f,n as v}from"./formatNumber-DzIwhxNg.js";import{B as N}from"./Button-BPhaSTk9.js";import{T as R}from"./TrashCanIcon-CcZaNI-Y.js";import{S as F}from"./SupportLabel-umH_qbZM.js";function g(n,t){return n>=1e5?`${f(Number(n/1e3/1e3),{maximumFractionDigits:1,...t})}${v}MB`:`${f(n/1e3,{maximumFractionDigits:2,...t})}${v}KB`}const _=i.createContext(null),I=()=>i.useContext(_),k=({context:n,children:t})=>e.jsx(_.Provider,{value:n,children:t});k.__docgenInfo={description:"",methods:[],displayName:"FileInputContextProvider",props:{children:{required:!0,tsType:{name:"union",raw:"ReactNode | ReactNode[]",elements:[{name:"ReactNode"},{name:"Array",elements:[{name:"ReactNode"}],raw:"ReactNode[]"}]},description:""},context:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    accept?: "image/*" | ".pdf" | "image/*,.pdf" | HTMLInputElement["accept"];
    maxSizeBytes?: number;
    files: UploadedFile[];
    onChange: (
        e:
            | React.ChangeEvent<HTMLInputElement>
            | React.DragEvent<HTMLDivElement>,
        files: UploadedFile[],
    ) => void;
}`,signature:{properties:[{key:"accept",value:{name:"union",raw:'"image/*" | ".pdf" | "image/*,.pdf" | HTMLInputElement["accept"]',elements:[{name:"literal",value:'"image/*"'},{name:"literal",value:'".pdf"'},{name:"literal",value:'"image/*,.pdf"'},{name:'HTMLInputElement["accept"]',raw:'HTMLInputElement["accept"]'}],required:!1}},{key:"maxSizeBytes",value:{name:"number",required:!1}},{key:"files",value:{name:"Array",elements:[{name:"UploadedFile"}],raw:"UploadedFile[]",required:!0}},{key:"onChange",value:{name:"signature",type:"function",raw:`(
    e:
        | React.ChangeEvent<HTMLInputElement>
        | React.DragEvent<HTMLDivElement>,
    files: UploadedFile[],
) => void`,signature:{arguments:[{type:{name:"union",raw:`| React.ChangeEvent<HTMLInputElement>
| React.DragEvent<HTMLDivElement>`,elements:[{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},{name:"ReactDragEvent",raw:"React.DragEvent<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]}]},name:"e"},{type:{name:"Array",elements:[{name:"UploadedFile"}],raw:"UploadedFile[]"},name:"files"}],return:{name:"void"}},required:!0}}]}},description:""}}};const H=n=>{const{children:t,className:T,fileName:a,fileType:l,fileSize:s,path:r,file:m,state:o,errorLabel:c="Feil",onRemove:p,variant:E="list",...x}=n,u=`jkl-file-preview-${i.useId()}`,y=`${u}-support`,j=I(),h=l.startsWith("image/")&&(m?URL.createObjectURL(m):r),d=e.jsxs("div",{id:u,className:L(T,"jkl-file",`jkl-file--${E}`),"data-state":o,...x,children:[e.jsxs("div",{className:"jkl-file__content",children:[e.jsx("div",{className:"jkl-file__content__thumbnail","data-filetype":l,children:e.jsx("img",{src:h||void 0,alt:""})}),r?e.jsx("p",{className:"jkl-file__content__name",children:e.jsxs(M,{href:r,children:[a," ",e.jsxs("span",{className:"jkl-file__content__name__size",children:["(",g(s),")"]})]})}):e.jsxs("p",{className:"jkl-file__content__name",children:[a," ",e.jsxs("span",{className:"jkl-file__content__name__size",children:["(",g(s),")"]})]}),p&&e.jsx(N,{variant:"ghost",className:"jkl-file__content__button",onClick:p,title:`Fjern ${a}`,icon:e.jsx(R,{})})]}),o==="error"&&c&&e.jsx(F,{className:"jkl-file__support-label",id:y,label:c,labelType:"error"})]});return j?e.jsx("li",{children:d}):d};H.__docgenInfo={description:"",methods:[],displayName:"File",props:{fileName:{required:!0,tsType:{name:"string"},description:""},fileType:{required:!0,tsType:{name:"string"},description:""},fileSize:{required:!0,tsType:{name:"number"},description:""},path:{required:!1,tsType:{name:"string"},description:""},errorLabel:{required:!1,tsType:{name:"string"},description:""},state:{required:!1,tsType:{name:"union",raw:'"error" | "loading"',elements:[{name:"literal",value:'"error"'},{name:"literal",value:'"loading"'}]},description:""},variant:{required:!1,tsType:{name:"union",raw:'"list" | "card"',elements:[{name:"literal",value:'"list"'},{name:"literal",value:'"card"'}]},description:""},file:{required:!1,tsType:{name:"File"},description:""},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: MouseEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"MouseEvent",elements:[{name:"HTMLButtonElement"}],raw:"MouseEvent<HTMLButtonElement>"},name:"e"}],return:{name:"void"}}},description:""}}};export{H as F,k as a,g as f,I as u};
