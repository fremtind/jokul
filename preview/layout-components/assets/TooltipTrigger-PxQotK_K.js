import{u as P,e as O,d as j,a as I,b as q,c as $,f as M,o as S,h as _,s as A,w as D,g as B,i as R,t as H,j as V,F as L,k as U,x as z}from"./getThemeAndDensity-Cbjmkdw-.js";import{c as w}from"./clsx-B-dksMZM.js";import{R as t,r as u}from"./index-siqcju79.js";import{u as G}from"./useBrowserPreferences-B9LcbCiO.js";import{u as J}from"./useId-CahK3IZ3.js";const K=({initialOpen:n=!1,placement:e="top",delay:r=250,triggerOn:s="hover",onOpenChange:g})=>{const[l,i]=u.useState(n),c=u.useRef(null),d=u.useRef(null),k=f=>{d.current=f},o=P({open:l,onOpenChange:f=>{g?.(f),i(f)},placement:e,whileElementsMounted:B,middleware:[S(16),_(),A({padding:16}),D({element:c,padding:8})]}),p=O(o.context,{role:"tooltip"}),a=j(o.context),y=I(o.context,{enabled:s==="click"}),m=q(o.context,{enabled:s==="hover",delay:l?0:r}),h=$(o.context,{enabled:s==="hover"}),v=M([a,h,p,y,m]);return{triggerOn:s,isOpen:l,setOpen:i,arrowElement:c,...o,refs:{...o.refs,description:d,setDescription:k},...v}},E=u.createContext(null),Q=E.Provider,F=()=>{const n=u.useContext(E);if(n===null)throw new Error("Tooltip-komponentene kan kun brukes inne i <Tooltip />");return n},W=({children:n,...e})=>{const r=K(e);return t.createElement(Q,{value:r},n)};W.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{initialOpen:{required:!1,tsType:{name:"boolean"},description:`Sett til true dersom du ønsker at tooltipen skal være åpen som default
@default false`},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:`En funksjon som skal kalles når Tooltip åpnes eller lukkes
@param open Hvorvidt tooltip endres til å være åpen eller ikke`},placement:{required:!1,tsType:{name:"Extract",elements:[{name:"Placement"},{name:"union",raw:'"top-start" | "top-end" | "left" | "right" | "top"',elements:[{name:"literal",value:'"top-start"'},{name:"literal",value:'"top-end"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right"'},{name:"literal",value:'"top"'}]}],raw:`Extract<
    Placement,
    "top-start" | "top-end" | "left" | "right" | "top"
>`},description:`Plassering av tooltipen i forhold til triggeren. Tooltipen vil automatisk
bytte posisjon dersom det ikke er plass.
@default "top"`},delay:{required:!1,tsType:{name:"number"},description:`Valgfri forsinkelse før tooltipen åpner. Ignoreres dersom triggerOn er satt til "click"
@default 250`},triggerOn:{required:!1,tsType:{name:"union",raw:'"click" | "hover"',elements:[{name:"literal",value:'"click"'},{name:"literal",value:'"hover"'}]},description:`Angir om tooltipen skal åpnes ved klikk eller hover
@default "hover"`},children:{required:!0,tsType:{name:"union",raw:"ReactNode | ReactNode[]",elements:[{name:"ReactNode"},{name:"Array",elements:[{name:"ReactNode"}],raw:"ReactNode[]"}]},description:""}}};function x(n,e=0){switch(n){case"top":return`0 ${e}px`;case"left":return`${e}px 0`;case"bottom":return`0 ${-e}px`;case"right":return`${-e}px 0`;default:return`0 ${e}px`}}const X=u.forwardRef(function({className:e,children:r,["data-ispopup"]:s,...g},l){const{triggerOn:i,arrowElement:c,getFloatingProps:d,placement:k,floatingStyles:o,refs:p,context:a}=F(),y=R([l,p.setFloating]),m=J("jkl-tooltip-content"),{prefersReducedMotion:h}=G(),{isMounted:v,styles:f}=H(a,{duration:{open:h?0:250,close:h?0:150},initial:({side:T})=>({opacity:0,translate:x(T,5)}),open:({side:T})=>({opacity:1,translate:x(T,0)}),close:({side:T})=>({opacity:0,translate:x(T,-5)})}),{density:C,theme:N}=V(p.reference.current),b=t.useRef(null);return t.useEffect(()=>{b.current=a.elements.domReference?.closest("[data-portal]")||document.body},[a.elements.domReference]),t.createElement(L,{root:b.current},t.createElement(U,{initialFocus:i==="click"?0:-1,returnFocus:!0,context:a,modal:!1,closeOnFocusOut:!0},t.createElement(t.Fragment,null,i==="hover"&&t.createElement("span",{ref:p.setDescription,hidden:!0,key:`${m}-trigger`},r),v&&t.createElement("span",{className:"jkl",key:`${m}-wrapper`},t.createElement("span",{key:m,ref:y,"data-placement":k,"data-testid":"tooltip-content","data-theme":N,"data-layout-density":C,className:w("jkl-tooltip-content",e),...d({...g,id:m}),style:{...o,...f}},r,t.createElement(z,{context:a,ref:c,width:24,height:12,fill:"var(--background-color)"}))))))});X.__docgenInfo={description:"",methods:[],displayName:"TooltipContent",props:{"data-ispopup":{required:!1,tsType:{name:"boolean"},description:""}}};const Y=u.forwardRef(function({children:e,className:r,...s},g){const{isOpen:l,getReferenceProps:i,refs:c,triggerOn:d}=F(),k=e.ref,o=R([k,c.setReference,g]),p=y=>y?.replaceAll(/[\ue003-\uf8aa]/g,""),a=[c.reference.current?.textContent,c.description.current?.textContent].map(p).filter(Boolean).join(". ");return t.isValidElement(e)?t.cloneElement(e,i({ref:o,"aria-label":a,...e.props,...s,className:w(e.props.className,r),"data-tooltip-shown":l,style:{...e.props.style},tabIndex:d==="click"?0:void 0})):t.createElement("button",{"data-tooltip-shown":l,...i({className:w(r,"jkl-tooltip-trigger"),type:"button",ref:o,"aria-label":a,...s})},e)});Y.__docgenInfo={description:"",methods:[],displayName:"TooltipTrigger"};export{W as T,Y as a,X as b};
