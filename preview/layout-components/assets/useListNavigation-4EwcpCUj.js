import{r as u}from"./index-C6mWTJJr.js";function v({ref:o}){u.useEffect(()=>{let t;const s={keys:""},n=o.current,e=r=>{n&&f({list:n,event:r,search:s,searchResetTimer:t})};return n&&n.addEventListener("keydown",e),()=>{n&&n.removeEventListener("keydown",e)}},[o])}function i(o,{event:t,list:s,currentFocus:n}){t.preventDefault(),k(o,s,n)}function f({list:o,event:t,search:s,searchResetTimer:n}){const{key:e,target:r}=t,c={event:t,list:o,currentFocus:r};switch(e){case"ArrowUp":case"PageUp":i("prev",c);break;case"ArrowDown":case"PageDown":i("next",c);break;case"Home":i("first",c);break;case"End":i("last",c);break;case"Tab":t.preventDefault();break;case"Enter":case" ":break;default:if(s!==void 0){const l=p({list:o,key:e,search:s,searchResetTimer:n});l&&l.focus()}break}}function k(o,t,s){const n=s;switch(o){case"prev":{const e=n&&n.previousElementSibling;e&&e.focus();break}case"next":{const e=n&&n.nextElementSibling;e&&e.focus();break}case"first":{const e=t.querySelector('[role="option"]');e&&e.focus();break}case"last":{const e=t.querySelectorAll('[role="option"]');e.length&&e[e.length-1].focus();break}}}function p({list:o,key:t,search:s,searchResetTimer:n}){const e=o.querySelectorAll('[role="option"]');if(!e.length)return null;if(s){s.keys=s.keys.concat(t),b(s,n);for(let r=0;r<e.length;r++){const a=e[r].innerText;if(a&&a.toLowerCase().indexOf(s.keys)===0)return e[r]}}return null}function b(o,t){t&&(clearTimeout(t),t=void 0),t=setTimeout(()=>{o?o.keys="":o={keys:""},t=void 0},500,o,t)}export{v as u};
