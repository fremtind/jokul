import{j as l}from"./jsx-runtime-D9p_MChh.js";import{c as x}from"./clsx-B-dksMZM.js";import{r as s}from"./index-CRL2yuNo.js";import{A as R}from"./ArrowVerticalAnimated-DX0UpNqb.js";const j=({onOpenChange:m,isExpanded:d})=>{const e=s.useRef(null),r=s.useRef(null),i=s.useRef(null),t=s.useRef(null),[f,a]=s.useState(!1),[p,c]=s.useState(!1);s.useEffect(()=>{o(d)},[d]);const o=n=>{e.current&&r.current&&(e.current.open=n,t.current=null,a(!1),c(!1),e.current.style.overflow="",e.current.style.height="")},g=n=>{e.current&&r.current&&(e.current.style.height=`${e.current.offsetHeight}px`,e.current.open=!0,requestAnimationFrame(()=>{if(e.current&&r.current&&i.current){c(!0),m(!0,n);const u=e.current.offsetHeight,y=r.current.offsetHeight+i.current.offsetHeight;t.current&&t.current.cancel(),e.current.animate&&(t.current=e.current.animate({height:[`${u}px`,`${y}px`]},{duration:150,easing:"ease"}),t.current.onfinish=()=>o(!0),t.current.oncancel=()=>c(!1))}}))},h=n=>{if(e.current&&r.current){a(!0),m(!1,n);const u=e.current.offsetHeight,y=r.current.offsetHeight;t.current&&t.current.cancel(),e.current.animate&&(t.current=e.current.animate({height:[`${u}px`,`${y}px`]},{duration:150,easing:"ease"}),t.current.onfinish=()=>o(!1),t.current.oncancel=()=>a(!1))}};return{detailsRef:e,summaryRef:r,contentRef:i,onSummaryClick:n=>{n.preventDefault(),e.current&&r.current&&(e.current.style.overflow="hidden",f||!e.current.open?g(n):(p||e.current.open)&&h(n))}}},_=({children:m,title:d,className:e,startExpanded:r=!1,onClick:i,id:t,...f})=>{const[a,p]=s.useState(r),[c]=s.useState(()=>r),{detailsRef:o,summaryRef:g,contentRef:h,onSummaryClick:k}=j({onOpenChange:(n,u)=>{p(n),i&&i(u,n)},isExpanded:c});return l.jsxs("details",{"data-testid":"jkl-accordion-item",...f,className:x("jkl-accordion-item",e),ref:o,id:t,children:[l.jsxs("summary",{"data-testid":"jkl-accordion-item__title",className:"jkl-accordion-item__title",onClick:k,ref:g,children:[d,l.jsx(R,{className:"jkl-accordion-item__arrow",pointingDown:!a,bold:a})]}),l.jsx("div",{"data-testid":"jkl-accordion-item__content-wrapper",className:"jkl-accordion-item__content-wrapper",ref:h,children:l.jsx("div",{className:"jkl-accordion-item__content",children:m})})]})};_.__docgenInfo={description:"@deprecated Denne komponenten bÃ¸r ikke brukes lenger, og vil ikke bli oppdatert.\nBruk heller komponenten `Expandable.Content`.",methods:[],displayName:"AccordionItem",props:{children:{required:!0,tsType:{name:"union",raw:"ReactNode | ReactNode[]",elements:[{name:"ReactNode"},{name:"Array",elements:[{name:"ReactNode"}],raw:"ReactNode[]"}]},description:""},title:{required:!0,tsType:{name:"string"},description:""},startExpanded:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.MouseEvent, isOpen: boolean) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent"},name:"e"},{type:{name:"boolean"},name:"isOpen"}],return:{name:"void"}}},description:""},id:{required:!1,tsType:{name:"string"},description:""}}};export{_ as A};
