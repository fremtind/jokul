import{r as a}from"./index-C6mWTJJr.js";function i(e){return window.matchMedia?window.matchMedia(e).matches:!1}function f(e,r){typeof e.addEventListener<"u"?e.addEventListener("change",r):e.addListener(r)}function u(e,r){typeof e.removeEventListener<"u"?e.removeEventListener("change",r):e.removeListener(r)}const o={PrefersColorScheme:"COLOR_SCHEME_CHANGED",PrefersReducedMotion:"REDUCED_MOTION_CHANGED",ForcedColors:"FORCED_COLORS_CHANGED"},l="(prefers-reduced-motion: reduce)",h="(prefers-color-scheme: light)",C="(forced-colors: active)",M={prefersReducedMotion:!1,prefersColorScheme:"light",forcedColors:!1},E=(e,r)=>{switch(r.type){case o.PrefersColorScheme:return{...e,prefersColorScheme:r.value};case o.PrefersReducedMotion:return{...e,prefersReducedMotion:r.value};case o.ForcedColors:return{...e,forcedColors:r.value};default:return e}},R=()=>{const[e,r]=a.useState(!1),[m,t]=a.useReducer(E,M);return a.useEffect(()=>{r(!0);const s=i(l),c=i(h)?"light":"dark",d=i(C);t({type:o.PrefersReducedMotion,value:s}),t({type:o.PrefersColorScheme,value:c}),t({type:o.ForcedColors,value:d})},[]),a.useEffect(()=>{if(!e||!window.matchMedia)return;const s=n=>{t({type:o.PrefersReducedMotion,value:n.matches})},c=n=>{t({type:o.PrefersColorScheme,value:n.matches?"light":"dark"})},d=n=>{t({type:o.ForcedColors,value:n.matches})};return f(window.matchMedia(l),s),f(window.matchMedia(h),c),f(window.matchMedia(C),d),()=>{u(window.matchMedia(l),s),u(window.matchMedia(h),c),u(window.matchMedia(C),d)}},[e]),{...m}};export{R as u};
