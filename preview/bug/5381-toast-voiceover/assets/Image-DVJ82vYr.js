import{c as u}from"./clsx-B-dksMZM.js";import{r as s}from"./index-siqcju79.js";import{m as g}from"./mergeRefs-CYSLoF3z.js";function f(i,e){let t=!1;return(...n)=>{if(t)return;const r=i(...n);return e!==0&&(t=!0,window.setTimeout(()=>{t=!1},e)),r}}function p(i=200){const e=s.useRef(null),[t,n]=s.useState({height:0,width:0}),r=s.useMemo(()=>f(()=>n({height:e.current?.scrollHeight||0,width:e.current?.scrollWidth||0}),i),[i]);return s.useEffect(()=>(n({height:e.current?.scrollHeight||0,width:e.current?.scrollWidth||0}),typeof window<"u"&&window.addEventListener("resize",r),()=>{typeof window<"u"&&window.removeEventListener("resize",r)}),[r]),[e,t]}const h=(i,e)=>{let t;function n(){if(i.complete){clearTimeout(t),e?.();return}t=window.setTimeout(n,50)}n()},w=i=>{const e=s.useRef(null),[t,n]=s.useState(!1);return s.useEffect(()=>{e.current&&h(e.current,()=>{n(!0)})},[i]),[e,t]},a=s.forwardRef(({className:i,placeholder:e,alt:t,...n},r)=>{const[d,o]=w(),[m,c]=p(400),l=g(r,d);return React.createElement("div",{ref:m,className:u("jkl-image",i,{"jkl-image--loading":!o})},React.createElement("img",{className:"jkl-image__placeholder",alt:o?"":t,src:e||n.src}),React.createElement("img",{alt:t,className:"jkl-image__image","data-testid":"jkl-image__image",ref:l,sizes:`${c.width}px`,decoding:"async",loading:"lazy",...n}))});a.displayName="Image";a.__docgenInfo={description:"",methods:[],displayName:"Image",props:{src:{required:!0,tsType:{name:"string"},description:""},srcSet:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},alt:{required:!0,tsType:{name:"string"},description:`Send inn en tom streng hvis bildet kun er dekorativt. Sannsynligvis bør du beskrive innholdet i
bildet så en person med nedsatt syn får en fullgod opplevelse av siden.
Les mer på https://jokul.fremtind.no/universell-utforming/guide#uu/dekorativt-innhold`},className:{required:!1,tsType:{name:"string"},description:""}}};export{a as I};
