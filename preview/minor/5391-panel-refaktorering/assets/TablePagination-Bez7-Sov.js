import{j as e}from"./jsx-runtime-DqZpzl9T.js";import{c as f}from"./clsx-B-dksMZM.js";import{r as m}from"./index-siqcju79.js";import{h as I,u as M}from"./_index-Bch1UuEC.js";import{u as F}from"./useId-CahK3IZ3.js";import{I as w}from"./IconButton-CwYjR4Na.js";import{C as L}from"./ChevronLeftIcon-BDA7AAte.js";import{C as H}from"./ChevronRightIcon-DscfWr0z.js";import{N as G}from"./NativeSelect-BJoI2RDV.js";import{T as $}from"./TextInput-Ck0FVCKE.js";const P=m.forwardRef(({className:o,...t},a)=>e.jsx(I,{state:{isTableHead:!1,isTableBody:!1,isTableFooter:!0},children:e.jsx("tfoot",{className:f("jkl-table-foot",o),...t,ref:a})}));P.displayName="TableFooter";P.__docgenInfo={description:"",methods:[],displayName:"TableFooter",composes:["HTMLAttributes"]};function B(o,t,a){return t<o?o:t>a?a:t}const T=m.forwardRef((o,t)=>{const{activePage:a=0,totalNumberOfRows:l,rowsPerPage:b,rowsPerPageItems:y,className:h,density:p,id:j,withGoToPage:c=!1,onChange:s,onChangeRowsPerPage:N,labels:u={rowsPerPage:"Rader per side",previous:"Forrige",next:"Neste"},...C}=o,k=F(j||"jkl-table-pagination",{generateSuffix:!j}),{density:S}=M(),d=b<=0?1:Math.ceil(l/b),[n,x]=m.useState(B(0,a,d-1)),q=m.useCallback(r=>{const i=Number.parseInt(r.currentTarget.dataset.number);s(r,i,n),x(i),v(String(i+1))},[s,n]),[_,v]=m.useState(String(n+1)),E=m.useCallback(r=>{v(r.target.value);try{const i=Number.parseInt(r.target.value)-1;if(Number.isNaN(i))return;i>=0&&i<d&&(s(r,i,n),x(i))}catch{return}},[s,n,d]),A=m.useCallback(r=>{if(n===0){s(r,n,n);return}const i=n-1;s(r,i,n),x(i),v(String(i+1))},[s,n]),R=m.useCallback(r=>{if(n===d-1){s(r,n,n);return}const i=n+1;s(r,i,n),x(i),v(String(i+1))},[s,d,n]);return e.jsxs("div",{className:f("jkl-table-pagination",h),...C,id:k,"data-density":p||S,ref:t,children:[e.jsx("div",{className:"jkl-table-pagination__left",children:e.jsxs("div",{className:"jkl-table-pagination__picker jkl-table-pagination__picker--rows",children:[e.jsxs("span",{className:"jkl-table-pagination__picker-label","aria-hidden":"true",children:[u.rowsPerPage,":"]}),e.jsx(G,{className:"jkl-table-pagination__picker-input",label:u.rowsPerPage,labelProps:{srOnly:!0},name:`${k}-rows-per-page`,items:y.map(r=>typeof r=="number"?String(r):{label:r.label,value:String(r.value)}),value:String(b),onChange:N,width:"min(8rem, 100%)",inline:!0})]})}),e.jsx("div",{className:"jkl-table-pagination__right",children:d!==1&&e.jsxs("nav",{className:"jkl-table-pagination__nav",children:[c&&e.jsxs("div",{className:"jkl-table-pagination__picker jkl-table-pagination__picker--page",children:[e.jsxs("span",{className:"jkl-table-pagination__picker-label","aria-hidden":"true",children:[typeof c=="object"?c.gotoLabel:"Gå til side",":"]}),e.jsx($,{className:"jkl-table-pagination__picker-input",label:typeof c=="object"?c.gotoLabel:"Gå til side",labelProps:{srOnly:!0},name:`${k}-go-to-page`,value:_,width:"min(4rem, 100%)",onChange:E,"aria-invalid":_&&_!==String(n+1)?"true":void 0})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(w,{className:"jkl-table-pagination__previous",title:u.previous,onClick:A,children:e.jsx(L,{})})}),e.jsx(D,{id:k,activePage:a,numberOfPages:d,onPageClick:q}),e.jsx("li",{children:e.jsx(w,{className:"jkl-table-pagination__next",title:u.next,onClick:R,children:e.jsx(H,{})})})]})]})})]})}),D=({id:o,activePage:t,numberOfPages:a,onPageClick:l})=>{if(a<=7)return e.jsx(e.Fragment,{children:Array.from({length:a}).map((N,u)=>e.jsx("li",{children:e.jsx("button",{className:f("jkl-table-pagination__page",{"jkl-table-pagination__page--active":t===u}),type:"button","data-number":u,onClick:l,children:u+1})},`${o}-page-${u}`))});const b=t>3&&a>7,y=t<a-4&&a>7,h=Math.min(Math.max(t-2,1),a-6),p=Math.min(h+1,a-5),j=Math.min(p+1,a-4),c=Math.min(p+2,a-3),s=Math.min(p+3,a-2);return e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(g,{isActive:t===0,number:0,onClick:l})}),e.jsx("li",{children:b?e.jsx("span",{className:"jkl-table-pagination__ellipsis","aria-hidden":!0,children:"..."}):e.jsx(g,{isActive:t===h,number:h,onClick:l})}),e.jsx("li",{children:e.jsx(g,{isActive:t===p,number:p,onClick:l})}),e.jsx("li",{children:e.jsx(g,{isActive:t===j,number:j,onClick:l})}),e.jsx("li",{children:e.jsx(g,{isActive:t===c,number:c,onClick:l})}),e.jsx("li",{children:y?e.jsx("span",{className:"jkl-table-pagination__ellipsis","aria-hidden":!0,children:"..."}):e.jsx(g,{isActive:t===s,number:s,onClick:l})}),e.jsx("li",{children:e.jsx(g,{isActive:t===a-1,number:a-1,onClick:l})})]})},g=({isActive:o,number:t,onClick:a,...l})=>e.jsx("button",{className:f("jkl-table-pagination__page",{"jkl-table-pagination__page--active":o}),type:"button","data-number":t,onClick:a,...l,children:t+1});T.displayName="TablePagination";T.__docgenInfo={description:"",methods:[],displayName:"TablePagination",props:{className:{required:!1,tsType:{name:"string"},description:""},id:{required:!1,tsType:{name:"string"},description:""},density:{required:!1,tsType:{name:"union",raw:'"comfortable" | "compact"',elements:[{name:"literal",value:'"comfortable"'},{name:"literal",value:'"compact"'}]},description:""},activePage:{required:!1,tsType:{name:"number"},description:"@default 0"},rowsPerPage:{required:!0,tsType:{name:"number"},description:'Null eller negativt tall tolkes som "vis alle".'},rowsPerPageItems:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:"number | { label: string; value: number }",elements:[{name:"number"},{name:"signature",type:"object",raw:"{ label: string; value: number }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"number",required:!0}}]}}]}],raw:"Array<number | { label: string; value: number }>"},description:""},totalNumberOfRows:{required:!0,tsType:{name:"number"},description:""},withGoToPage:{required:!1,tsType:{name:"union",raw:"boolean | { gotoLabel: string }",elements:[{name:"boolean"},{name:"signature",type:"object",raw:"{ gotoLabel: string }",signature:{properties:[{key:"gotoLabel",value:{name:"string",required:!0}}]}}]},description:`Viser et valgfritt inputfelt for å hoppe raskt til en spesifik side.
Du kan også sende inn en custom label hvis du ønsker det, ellers bruke
true for default label
@default false`},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:`(
    e: React.SyntheticEvent,
    toPage: number,
    fromPage: number,
) => void`,signature:{arguments:[{type:{name:"ReactSyntheticEvent",raw:"React.SyntheticEvent"},name:"e"},{type:{name:"number"},name:"toPage"},{type:{name:"number"},name:"fromPage"}],return:{name:"void"}}},description:""},onChangeRowsPerPage:{required:!0,tsType:{name:"ChangeEventHandler",elements:[{name:"HTMLSelectElement"}],raw:"ChangeEventHandler<HTMLSelectElement>"},description:""},labels:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    rowsPerPage: string;
    previous: string;
    next: string;
}`,signature:{properties:[{key:"rowsPerPage",value:{name:"string",required:!0}},{key:"previous",value:{name:"string",required:!0}},{key:"next",value:{name:"string",required:!0}}]}},description:`Dersom du ønsker å ha custom labels kan du sende inn disse. "rowsPerPage"
vises alltid på skjerm mens "next" og "previous" brukes som hint til
skjermlesere for ikon-knappene til Neste/Forrige side
@default { rowsPerPage: "Rader per side", previous: "Forrige", next: "Neste" }`}}};export{P as T,T as a};
