import{j as s}from"./jsx-runtime-DqZpzl9T.js";import{c as j}from"./clsx-B-dksMZM.js";import{r as n,R as H}from"./index-siqcju79.js";import{u as S}from"./useAnimatedHeightBetween-CT0m4_DH.js";import{a as v,E as w}from"./Expander-BxdOM-8M.js";const f=({className:m,children:i,...l})=>{const{open:t,onTransitionStart:o,onTransitionEnd:d}=n.useContext(v),[a]=S(t,{timing:"snappy",onTransitionStart:o,onTransitionEnd:d});return n.useEffect(()=>{const r=a.current;t?r?.removeAttribute("inert"):r?.setAttribute("inert","true")},[t,a]),s.jsx("div",{ref:a,className:j("jkl-expandable__content",m),...l,"data-expanded":t,children:s.jsx("div",{className:"jkl-expandable__content-wrapper",children:i})})};f.displayName="ExpandablePanel.Content";f.__docgenInfo={description:"",methods:[],displayName:"ExpandablePanel.Content"};const I=Object.assign(H.forwardRef(function(i,l){const{children:t,as:o="details",variant:d="fill",open:a,defaultOpen:r,onOpenChange:h,className:k,..._}=i,[C,u]=n.useState(r||!1),[x,b]=n.useState(!1),[R,y]=n.useState(0),p=n.useRef();n.useImperativeHandle(l,()=>p.current,[]);const N=o,g=typeof a<"u",c=g?a:C,P=e=>{e&&b(!0)},T=()=>{g||u(e=>(h?.(!e),!e))};return n.useEffect(()=>{const e=O=>{u(O.newState==="open")},E=p.current;return E?.addEventListener("toggle",e),()=>E?.removeEventListener("toggle",e)},[]),s.jsxs("div",{className:"jkl-expandable__wrapper",children:[s.jsx("div",{ref:e=>e?.setAttribute("inert","true"),className:"jkl-expandable__focus-container",style:{height:R}}),s.jsx(N,{ref:p,"data-testid":"jkl-expand-section",className:j("jkl-expandable",`jkl-expandable--${d}`,k),open:o==="details"?c||x:void 0,"data-visible-content":c||x,..._,children:s.jsx(v.Provider,{value:{open:c,onToggle:T,onTransitionEnd:b,onTransitionStart:P,setExpanderHeight:y},children:t})})]})}),{Content:f,Header:w});I.__docgenInfo={description:"",methods:[],displayName:"ExpandablePanel",props:{as:{required:!1,tsType:{name:"ElementType"},description:`Her kan du angi hva slags element komponenten skal rendres
som. Det kan enten v√¶re en string for native HTML elementer
eller en komponent (som Link fra react-router og lignende).`},ref:{required:!1,tsType:{name:'ReactComponentPropsWithRef["ref"]',raw:'React.ComponentPropsWithRef<As>["ref"]'},description:""}}};export{f as E,I as a};
