import{c}from"./clsx-B-dksMZM.js";import{r as m,R as e}from"./index-siqcju79.js";import{u as h}from"./useAnimatedHeight-B4AinHXK.js";import{u as g}from"./useId-CahK3IZ3.js";import{E as j}from"./Expander-Cpo7VSwA.js";import{u as C,T as N,a as q}from"./_index-Cb9rgWJM.js";const w=m.forwardRef(({isOpen:r,onClick:o,children:s,className:d,id:u,"aria-controls":b,...i},f)=>{if(r===void 0||typeof o!="function")throw new Error("ExpandableTableRowController must have ExpandableTableRow as parent");const{collapseToList:l}=C(),p=i["data-th"],a=l?p:void 0;return e.createElement(N,{className:c("jkl-table-cell--expand",{"jkl-table-cell--expand-without-text":!s},d),...i,ref:f},e.createElement(j,{as:"button",className:c("jkl-table-row-expand-button",{"jkl-table-row-expand-button--expanded":r}),id:u,open:r,"aria-controls":b,"aria-label":s?void 0:p||"Ekspander rad",onClick:t=>{t.stopPropagation(),o()},onKeyDown:t=>{(t.key==="Enter"||t.key===" ")&&(t.stopPropagation(),t.preventDefault(),o())}},s??a))});w.displayName="ExpandableTableRowController";w.__docgenInfo={description:"",methods:[],displayName:"ExpandableTableRowController",props:{density:{required:!1,tsType:{name:"union",raw:'"comfortable" | "compact"',elements:[{name:"literal",value:'"comfortable"'},{name:"literal",value:'"compact"'}]},description:""},align:{required:!1,tsType:{name:"union",raw:'"left" | "center" | "right"',elements:[{name:"literal",value:'"left"'},{name:"literal",value:'"center"'},{name:"literal",value:'"right"'}]},description:`Velg mellom venstrejustering og høyrejustering av innholdet. Typisk skal innholdet være venstrejustert, men for eksempel summer er høyrejustert.
@default "left"`},verticalAlign:{required:!1,tsType:{name:"union",raw:'"center" | "top"',elements:[{name:"literal",value:'"center"'},{name:"literal",value:'"top"'}]},description:`Velg mellom vertikal sentrering av innholdet eller toppjustering. Typisk skal innholdet være toppjustert, men dersom raden har knapper kan midtstilling fungere bedre.
@default "top"`},isOpen:{required:!1,tsType:{name:"boolean"},description:"Settes automatisk av ExpandableTableRow"},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Settes automatisk av ExpandableTableRow"}},composes:["TdHTMLAttributes"]};const v=m.forwardRef((r,o)=>{const{className:s,clickable:d,children:u,expandedChildren:b,onToggle:i,colSpan:f=100,isOpen:l,...p}=r,[a,t]=m.useState(l??!1);m.useEffect(()=>{typeof l>"u"||t(l)},[l]);const[y]=h(a,{timing:"expressive"}),k=()=>{const n=!a;i&&i(n),t(n)},E=c("jkl-table-row--expandable",s,{"jkl-table-row--expanded":a,"jkl-expandable-table-row--clickable-external":d}),R=c("jkl-expandable-table-row__expanded-row",{"jkl-expandable-table-row__expanded-row--expanded":a}),x=g("jkl-expandable-table-row"),T=g("jkl-expandable-table-row-controller");return e.createElement(e.Fragment,null,e.createElement(q,{className:E,clickable:d??{onClick:()=>k()},...p,ref:o},e.Children.map(u,n=>e.isValidElement(n)&&n.type===w?e.cloneElement(n,{isOpen:a,onClick:()=>k(),"aria-controls":x,id:T}):n)),e.createElement("tr",{"aria-hidden":!a},e.createElement("td",{colSpan:f},e.createElement("fieldset",{ref:y,className:R,id:x,"aria-labelledby":T,hidden:!a},b))))});v.displayName="ExpandableTableRow";v.__docgenInfo={description:"",methods:[],displayName:"ExpandableTableRow",props:{clickable:{required:!1,tsType:{name:"ClickableRowProps"},description:"Gir raden interaktivitet og en click-handler."},expandedChildren:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},colSpan:{required:!1,tsType:{name:"number"},description:`Setter bredden på raden som blir åpnet
@default 100`},isOpen:{required:!1,tsType:{name:"boolean"},description:"Om du ønsker en controlled komponent. Hvis du ikke setter denne vil komponenten håndtere state selv."},onToggle:{required:!1,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isOpen"}],return:{name:"void"}}},description:""}},composes:["HTMLAttributes"]};export{w as E,v as a};
