import{j as o}from"./jsx-runtime-DqZpzl9T.js";import{c as f}from"./clsx-B-dksMZM.js";import{r as i}from"./index-siqcju79.js";import{m as g}from"./mergeRefs-CYSLoF3z.js";function p(n,e){let t=!1;return(...s)=>{if(t)return;const r=n(...s);return e!==0&&(t=!0,window.setTimeout(()=>{t=!1},e)),r}}function h(n=200){const e=i.useRef(null),[t,s]=i.useState({height:0,width:0}),r=i.useMemo(()=>p(()=>s({height:e.current?.scrollHeight||0,width:e.current?.scrollWidth||0}),n),[n]);return i.useEffect(()=>(s({height:e.current?.scrollHeight||0,width:e.current?.scrollWidth||0}),typeof window<"u"&&window.addEventListener("resize",r),()=>{typeof window<"u"&&window.removeEventListener("resize",r)}),[r]),[e,t]}const w=(n,e)=>{let t;function s(){if(n.complete){clearTimeout(t),e?.();return}t=window.setTimeout(s,50)}s()},v=n=>{const e=i.useRef(null),[t,s]=i.useState(!1);return i.useEffect(()=>{e.current&&w(e.current,()=>{s(!0)})},[n]),[e,t]},a=i.forwardRef(({className:n,placeholder:e,alt:t,...s},r)=>{const[m,d]=v(),[l,c]=h(400),u=g(r,m);return o.jsxs("div",{ref:l,className:f("jkl-image",n,{"jkl-image--loading":!d}),children:[o.jsx("img",{className:"jkl-image__placeholder",alt:d?"":t,src:e||s.src}),o.jsx("img",{alt:t,className:"jkl-image__image","data-testid":"jkl-image__image",ref:u,sizes:`${c.width}px`,decoding:"async",loading:"lazy",...s})]})});a.displayName="Image";a.__docgenInfo={description:"",methods:[],displayName:"Image",props:{src:{required:!0,tsType:{name:"string"},description:""},srcSet:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},alt:{required:!0,tsType:{name:"string"},description:`Send inn en tom streng hvis bildet kun er dekorativt. Sannsynligvis bør du beskrive innholdet i
bildet så en person med nedsatt syn får en fullgod opplevelse av siden.
Les mer på https://jokul.fremtind.no/universell-utforming/guide#uu/dekorativt-innhold`},className:{required:!1,tsType:{name:"string"},description:""}}};export{a as I};
