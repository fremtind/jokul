import{j as n}from"./jsx-runtime-D9p_MChh.js";import{u as P,e as C,d as I,a as q,b as $,c as M,f as S,o as _,h as A,s as O,l as D,g as B,i as R,m as H,j as V,F as L,k as U,n as z}from"./getThemeAndDensity-Cey0PTrK.js";import{c as w}from"./clsx-B-dksMZM.js";import{r as f,R as j}from"./index-CRL2yuNo.js";import{u as G}from"./useBrowserPreferences-pnXkstjW.js";import{u as J}from"./useId-BJAJhdYZ.js";const K=({initialOpen:o=!1,placement:e="top",delay:s=250,triggerOn:a="hover",onOpenChange:d})=>{const[i,l]=f.useState(o),p=f.useRef(null),g=f.useRef(null),h=x=>{g.current=x},t=P({open:i,onOpenChange:x=>{d==null||d(x),l(x)},placement:e,whileElementsMounted:B,middleware:[_(16),A(),O({padding:16}),D({element:p,padding:8})]}),m=C(t.context,{role:"tooltip"}),c=I(t.context),k=q(t.context,{enabled:a==="click"}),r=$(t.context,{enabled:a==="hover",delay:i?0:s}),u=M(t.context,{enabled:a==="hover"}),v=S([c,u,m,k,r]);return{triggerOn:a,isOpen:i,setOpen:l,arrowElement:p,...t,refs:{...t.refs,description:g,setDescription:h},...v}},b=f.createContext(null),Q=b.Provider,F=()=>{const o=f.useContext(b);if(o===null)throw new Error("Tooltip-komponentene kan kun brukes inne i <Tooltip />");return o},W=({children:o,...e})=>{const s=K(e);return n.jsx(Q,{value:s,children:o})};W.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{initialOpen:{required:!1,tsType:{name:"boolean"},description:`Sett til true dersom du ønsker at tooltipen skal være åpen som default
@default false`},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:`En funksjon som skal kalles når Tooltip åpnes eller lukkes
@param open Hvorvidt tooltip endres til å være åpen eller ikke`},placement:{required:!1,tsType:{name:"Extract",elements:[{name:"Placement"},{name:"union",raw:'"top-start" | "top-end" | "left" | "right" | "top"',elements:[{name:"literal",value:'"top-start"'},{name:"literal",value:'"top-end"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right"'},{name:"literal",value:'"top"'}]}],raw:`Extract<
    Placement,
    "top-start" | "top-end" | "left" | "right" | "top"
>`},description:`Plassering av tooltipen i forhold til triggeren. Tooltipen vil automatisk
bytte posisjon dersom det ikke er plass.
@default "top"`},delay:{required:!1,tsType:{name:"number"},description:`Valgfri forsinkelse før tooltipen åpner. Ignoreres dersom triggerOn er satt til "click"
@default 250`},triggerOn:{required:!1,tsType:{name:"union",raw:'"click" | "hover"',elements:[{name:"literal",value:'"click"'},{name:"literal",value:'"hover"'}]},description:`Angir om tooltipen skal åpnes ved klikk eller hover
@default "hover"`},children:{required:!0,tsType:{name:"union",raw:"ReactNode | ReactNode[]",elements:[{name:"ReactNode"},{name:"Array",elements:[{name:"ReactNode"}],raw:"ReactNode[]"}]},description:""}}};function T(o,e=0){switch(o){case"top":return`0 ${e}px`;case"left":return`${e}px 0`;case"bottom":return`0 ${-e}px`;case"right":return`${-e}px 0`;default:return`0 ${e}px`}}const X=f.forwardRef(function({className:e,children:s,["data-ispopup"]:a,...d},i){const{triggerOn:l,arrowElement:p,getFloatingProps:g,placement:h,floatingStyles:t,refs:m,context:c}=F(),k=R([i,m.setFloating]),r=J("jkl-tooltip-content"),{prefersReducedMotion:u}=G(),{isMounted:v,styles:x}=H(c,{duration:{open:u?0:250,close:u?0:150},initial:({side:y})=>({opacity:0,translate:T(y,5)}),open:({side:y})=>({opacity:1,translate:T(y,0)}),close:({side:y})=>({opacity:0,translate:T(y,-5)})}),{density:N,theme:E}=V(m.reference.current);return n.jsx(L,{children:n.jsx(U,{initialFocus:l==="click"?0:-1,returnFocus:!0,context:c,modal:!1,closeOnFocusOut:!0,children:n.jsxs(n.Fragment,{children:[l==="hover"&&n.jsx("span",{ref:m.setDescription,hidden:!0,children:s},`${r}-trigger`),v&&n.jsx("span",{className:"jkl",children:n.jsxs("span",{ref:k,"data-placement":h,"data-testid":"tooltip-content","data-theme":E,"data-layout-density":N,className:w("jkl-tooltip-content",e),...g({...d,id:r}),style:{...t,...x},children:[s,n.jsx(z,{context:c,ref:p,width:24,height:12,fill:"var(--background-color)"})]},r)},`${r}-wrapper`)]})})})});X.__docgenInfo={description:"",methods:[],displayName:"TooltipContent",props:{"data-ispopup":{required:!1,tsType:{name:"boolean"},description:""}}};const Y=f.forwardRef(function({children:e,className:s,...a},d){var k,r;const{isOpen:i,getReferenceProps:l,refs:p,triggerOn:g}=F(),h=e.ref,t=R([h,p.setReference,d]),m=u=>u==null?void 0:u.replaceAll(/[\ue003-\uf8aa]/g,""),c=[(k=p.reference.current)==null?void 0:k.textContent,(r=p.description.current)==null?void 0:r.textContent].map(m).filter(Boolean).join(". ");return j.isValidElement(e)?j.cloneElement(e,l({ref:t,"aria-label":c,...e.props,...a,className:w(e.props.className,s),"data-tooltip-shown":i,style:{...e.props.style},tabIndex:g==="click"?0:void 0})):n.jsx("button",{"data-tooltip-shown":i,...l({className:w(s,"jkl-tooltip-trigger"),type:"button",ref:t,"aria-label":c,...a}),children:e})});Y.__docgenInfo={description:"",methods:[],displayName:"TooltipTrigger"};export{W as T,Y as a,X as b};
