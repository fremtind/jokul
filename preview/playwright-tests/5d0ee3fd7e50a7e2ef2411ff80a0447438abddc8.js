"use strict";(self.webpackChunk_fremtind_portal=self.webpackChunk_fremtind_portal||[]).push([[2771],{34927:function(e,l,t){t.d(l,{IX:function(){return v},hW:function(){return f},cN:function(){return d}});var n=t(70079),a=t(16151),o=t(68998),r=t(81159),s=t(26372),u=t.n(s);const i=(0,n.forwardRef)(((e,l)=>{const{label:t,className:s,density:i,errorLabel:c,helpLabel:d,inline:p,invalid:v,items:f,labelProps:b,placeholder:m="Velg",selectClassName:k,supportLabelProps:g,tooltipProps:h,value:y,width:_,...j}=e,w={label:t,density:i,errorLabel:c,helpLabel:d,labelProps:b,inline:p,supportLabelProps:g,tooltipProps:h};return n.createElement(r.B,Object.assign({},w,{"data-testid":"jkl-select",className:u()("jkl-select",s,{"jkl-select--inline":p,"jkl-select--invalid":!!c||v}),render:e=>n.createElement("div",{className:"jkl-select__outer-wrapper",style:{width:_}},n.createElement("select",Object.assign({ref:l,className:u()("jkl-select__button",k,{"jkl-select__button--active-value":!!y}),defaultValue:y?void 0:"",value:y},e,j),m&&!y&&n.createElement("option",{disabled:!0,value:""},m),f.map(a.Y).map((e=>n.createElement("option",{"data-testid":"jkl-select__option",className:"jkl-select__option",key:e.value,value:e.value},e.label)))),n.createElement(o.K,{variant:"medium",pointingDown:!0,className:"jkl-select__arrow"}))}))}));i.displayName="NativeSelect";var c=t(49467);const d={boolProps:["Native","Med hjelpetekst","Med feil","Med tooltip","Med søk","Med sekundærtekst"],choiceProps:[{name:"Maks. viste valg",values:["3","Default (5)","8","Mange"],defaultValue:1},{name:"Variant",values:["small","medium","large"],defaultValue:0}]},p=e=>{switch(e){case"3":return 3;case"Default (5)":return 5;case"8":return 8;case"Mange":return 100;default:return}},v=e=>{let{boolValues:l,choiceValues:t}=e;const a=l&&l.Native,o=a?i:c.P,r=[{value:"1",label:"Google Pixel",description:null!=l&&l["Med sekundærtekst"]?"Gjelder også Nexus-serien":void 0},{value:"2",label:"Apple"},{value:"3",label:"Samsung"},{value:"4",label:"LG"},{value:"5",label:"Huawei"},{value:"6",label:"OnePlus"},{value:"7",label:"XiaoMi"},{value:"8",label:"Nokia"},{value:"9",label:"Sony"},{value:"10",label:"Doro"}],{0:s,1:u}=(0,n.useState)(""),d=l&&l["Med feil"]?"Du må velge merket til telefonen, for eksempel Apple.":void 0,v=l&&l["Med hjelpetekst"]?"Med merke mener vi for eksempel Apple eller Samsung.":void 0,f=t&&t.Variant,b=l&&l["Med søk"],m=p(null==t?void 0:t["Maks. viste valg"]),k=null!=l&&l["Med tooltip"]?{content:"Vi spør om merket på telefonen for å finne riktig reperatør for deg."}:void 0;return n.createElement(o,Object.assign({id:"produsent",name:"produsent",label:"Hvilket merke er telefonen?",labelProps:{variant:f},items:r,value:s,helpLabel:v,errorLabel:d,tooltipProps:k,onChange:e=>{u(e.target.value),console.log("Change: ",e)},searchable:b?(e,l)=>"object"==typeof l?l.value.includes(e):l.includes(l):void 0,onFocus:e=>{console.log("Focus: ",e)},onBlur:e=>{console.log("Blur: ",e)}},a?{}:{maxShownOptions:m}))},f=e=>{let{boolValues:l,choiceValues:t}=e;return"\n<"+(null!=l&&l.Native?"NativeSelect":"Select")+'\n    ref={selectRef}\n    id="produsent"\n    name="produsent"\n    variant="'+(null==t?void 0:t.Variant)+'"\n    label="Hvilket merke er telefonen?"\n    helpLabel='+(null!=l&&l["Med hjelpetekst"]?'"Hjelpsom beskjed"':"{undefined}")+"\n    errorLabel="+(null!=l&&l["Med feil"]?'"Beskrivende feilmelding"':"{undefined}")+(null!=l&&l["Med tooltip"]?'\n    tooltipProps={{ content: "Vi spør om merket på telefonen for å finne riktig reperatør for deg." }}':"")+'\n    items={[\n        { value: "google", label: "Google og noen flere" },\n        { value: "apple", label: "Apple" },\n        { value: "samsung", label: "Samsung" },\n        { value: "LG", label: "LG" },\n    ]}\n    value={value}\n    onChange={setValue}\n    searchable={'+!(null==l||!l["Med søk"])+"}\n    onFocus={onFocus}\n    onBlur={onBlur}\n    maxShownOptions={"+p(null==t?void 0:t["Maks. viste valg"])+"}\n/>\n"}},49467:function(e,l,t){t.d(l,{P:function(){return m}});var n=t(16151),a=t(68998),o=t(81159),r=t(3438),s=t(96820),u=t(84490),i=t(60314),c=t(26372),d=t.n(c),p=t(70079);function v(e){return void 0===e&&(e=""),e.toLowerCase().replace(/[\W_]+/g,"")}function f(e,l){var t,n;let a=null;l&&(a=e.querySelector('[aria-selected="true"]:not([hidden])')),l&&a||(a=e.querySelector('[role="option"]')),null===(t=a)||void 0===t||t.focus(),e.scrollTop=(null===(n=a)||void 0===n?void 0:n.offsetTop)||0}const b=()=>{},m=(0,p.forwardRef)(((e,l)=>{const{id:t,name:c,items:m,value:k,label:g,labelProps:h,onChange:y,onBlur:_,onFocus:j,className:w,helpLabel:E,errorLabel:M,invalid:N,searchable:C=!1,inline:L=!1,defaultPrompt:P="Velg",density:D,width:S,maxShownOptions:V=5,style:x,...B}=e,O=(0,r.M)(t||"jkl-select",{generateSuffix:!t}),F=O+"_label",T=O+"_button",R=O+"_search-input",{0:A,1:K}=(0,p.useState)(!1),G=(0,p.useCallback)((()=>{K((e=>!e))}),[]),H=Boolean(C),q=H&&A,{0:I,1:z}=(0,p.useState)(""),W=(0,p.useCallback)((e=>!!e.label.toLowerCase().includes(I.toLowerCase())||"function"==typeof C&&C(I,e)),[C,I]),X=(0,p.useMemo)((()=>m.map(n.Y).map((e=>{const l=!H||""===I||W(e);return{...e,visible:l}}))),[m,H,I,W]),Y=(0,p.useMemo)((()=>void 0!==k&&m.some((e=>"string"==typeof e?e===k:e.value===k))),[k,m]),{0:U,1:J}=(0,p.useState)(Y&&void 0!==k?k:""),Q=""!==U,Z=(0,p.useMemo)((()=>{var e;return(null===(e=X.find((e=>e.value===U)))||void 0===e?void 0:e.label)||P}),[X,U,P]),$=(0,p.useRef)(null),ee=(0,p.useCallback)((e=>{$.current=e,l&&("function"==typeof l?l(e):l.current=e),e&&J(e.value)}),[$,l]),le=(0,s.z)(k);(0,p.useEffect)((()=>{k!==le&&J(void 0!==k&&Y?k:"")}),[J,k,le,Y]);const te=(0,p.useCallback)((e=>{const l=e.value;z(""),J(l),G()}),[z,J,G]),ne=(0,s.z)(U);(0,p.useEffect)((()=>{void 0!==ne&&ne!==U&&U!==k&&(y&&y({type:"change",target:{name:c,value:U}}),$.current&&$.current.dispatchEvent(new Event("change",{bubbles:!0})))}),[y,c,k,U,ne]);const ae=(0,p.useRef)(null),oe=(0,p.useRef)(!1),re=(0,p.useRef)(null),se=(0,p.useRef)(null),ue=(0,p.useCallback)(((e,l)=>{if(e&&!H){const e=l.current;e&&f(e,U)}else e?re.current&&re.current.focus():oe.current&&se.current&&se.current.focus()}),[H,U]),[ie]=(0,u.v)(A,{onFirstVisible:ue,onTransitionEnd:ue});(0,i.c)({ref:ie});const ce=(0,p.useCallback)((e=>{const l=ae.current;if(!(l&&l.contains(e.relatedTarget))){var t;if(H&&z(""),_)_({type:"blur",target:{name:c,value:U}}),null===(t=$.current)||void 0===t||t.dispatchEvent(new Event("focusout",{bubbles:!0}));oe.current=!1,K(!1)}}),[_,H,c,U]),de=(0,p.useCallback)((()=>{oe.current||(j&&j({type:"change",target:{name:c,value:U}}),oe.current=!0)}),[j,U,c]),pe=(0,p.useCallback)((e=>{e.target.focus({preventScroll:!0})}),[]);(0,p.useEffect)((()=>{const e=$.current,l=re.current,t=se.current,n=ae.current;return null==e||e.addEventListener("focus",(()=>{q?null==l||l.focus():null==t||t.focus()})),null==e||e.addEventListener("blur",(function(e){n&&n.contains(e.relatedTarget)&&e.preventDefault()})),()=>{null==e||e.removeEventListener("focus",(()=>{q?null==l||l.focus():null==t||t.focus()})),null==e||e.removeEventListener("blur",(function(e){n&&n.contains(e.relatedTarget)&&e.preventDefault()}))}}),[q]);const ve=(0,p.useCallback)((e=>{"ArrowDown"!==e.key&&" "!==e.key||A?"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),K(!1)):(e.preventDefault(),e.stopPropagation(),K(!0))}),[K,A]),fe=(0,p.useCallback)((e=>{if("ArrowDown"===e.key){e.preventDefault(),e.stopPropagation();const l=ie.current;l&&f(l,H?void 0:U)}else if("Escape"===e.key)e.preventDefault(),e.stopPropagation(),K(!1);else if("Tab"!==e.key||e.shiftKey)"Enter"===e.key&&A&&(e.preventDefault(),e.stopPropagation());else{const l=ie.current;l&&(e.preventDefault(),e.stopPropagation(),f(l,U))}}),[K,ie,U,H,A]),be=(0,p.useCallback)((e=>{if("Tab"===e.key)e.preventDefault(),e.stopPropagation(),e.shiftKey&&re.current?re.current.focus():se.current&&(J(e.currentTarget.value),K(!1),se.current.focus());else if("ArrowUp"===e.key&&ie.current&&re.current){const l=ie.current.querySelector('[role="option"]:not([hidden])');e.currentTarget.id===(null==l?void 0:l.id)&&re.current&&re.current.focus()}}),[K,ie]);return(0,p.useEffect)((()=>{const e=e=>{"Escape"===e.key&&A&&K(!1)};return"undefined"!=typeof window&&A&&window.addEventListener("keydown",e),()=>{"undefined"!=typeof window&&window.removeEventListener("keydown",e)}}),[K,A]),p.createElement(p.Fragment,null,p.createElement("select",{name:c,tabIndex:-1,"data-testid":"jkl-native-select",className:"jkl-sr-only","aria-hidden":!0,ref:ee,value:U,onChange:b},p.createElement("option",{value:""})," ",X.map((e=>p.createElement("option",{key:O+"-opt-"+e.value,hidden:!e.visible,value:e.value},e.label)))),p.createElement(o.B,Object.assign({ref:ae,"data-testid":"jkl-select",className:d()("jkl-select",w,{"jkl-select--inline":L,"jkl-select--open":A&&X.some((e=>e.visible)),"jkl-select--no-value":!Q,"jkl-select--invalid":!!M||N})},B,{id:H?R:T,style:{"--jkl-select-max-shown-options":V,...x},density:D,label:g,labelProps:{id:F,srOnly:L,...h,htmlFor:H?R:T},helpLabel:E,errorLabel:M,render:e=>p.createElement("div",{className:"jkl-select__outer-wrapper",style:{width:S}},H&&p.createElement("input",Object.assign({},e,{id:R,hidden:!q,ref:re,placeholder:"Søk",value:I,onChange:e=>z(e.target.value),"data-testid":"jkl-select__search-input",className:"jkl-select__search-input","aria-autocomplete":"list","aria-activedescendant":Q?O+"__"+v(U):void 0,"aria-controls":O,"aria-expanded":A,role:"combobox",onKeyDown:fe,onBlur:ce,onFocus:de,onClick:e=>{e.stopPropagation()}})),p.createElement("button",Object.assign({},e,{id:T,ref:se,hidden:q,type:"button",name:c+"-btn",className:d()("jkl-select__button",{"jkl-select__button--active-value":!!U}),"data-testid":"jkl-select__button","aria-label":(Z||"Velg")+","+g,"aria-expanded":A,"aria-controls":O,onBlur:ce,onFocus:de,onKeyDown:ve,onClick:G,onMouseDown:e=>{var l;e.preventDefault(),null===(l=se.current)||void 0===l||l.focus()}}),Z),p.createElement("div",{id:O,ref:ie,role:"listbox",className:"jkl-select__options-menu",hidden:!A||X.every((e=>!e.visible)),"aria-labelledby":F,tabIndex:-1,"data-focus":"controlled"},X.map(((e,l)=>e.visible?p.createElement("button",{key:O+"-"+e.value,hidden:!e.visible,type:"button",id:O+"__"+v(e.value),className:"jkl-select__option","data-testid":"jkl-select__option","aria-selected":e.value===U,role:"option",value:e.value,"data-testautoid":"jkl-select__option-"+l,onBlur:ce,onFocus:de,onKeyDown:be,onClick:l=>{l.preventDefault(),te(e)},onMouseOver:pe},e.label,e.description?p.createElement("span",{className:"jkl-select__option-description"},e.description):null):null))),p.createElement(a.K,{variant:"medium",pointingDown:!A,className:"jkl-select__arrow"}))})))}));m.displayName="Select"}}]);