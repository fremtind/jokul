import{c}from"./clsx-B-dksMZM.js";import{r,R as o}from"./index-siqcju79.js";function m(i,e){let t=!1;return(...n)=>{if(t)return;const s=i(...n);return e!==0&&(t=!0,window.setTimeout(()=>{t=!1},e)),s}}function u(i=200){const e=r.useRef(null),[t,n]=r.useState({height:0,width:0}),s=r.useMemo(()=>m(()=>n({height:e.current?.scrollHeight||0,width:e.current?.scrollWidth||0}),i),[i]);return r.useEffect(()=>(n({height:e.current?.scrollHeight||0,width:e.current?.scrollWidth||0}),typeof window<"u"&&window.addEventListener("resize",s),()=>{typeof window<"u"&&window.removeEventListener("resize",s)}),[s]),[e,t]}const g=(i,e)=>{let t;function n(){if(i.complete){clearTimeout(t),e?.();return}t=window.setTimeout(n,50)}n()},f=i=>{const e=r.useRef(null),[t,n]=r.useState(!1);return r.useEffect(()=>{e.current&&g(e.current,()=>{n(!0)})},[i]),[e,t]},p=({className:i,placeholder:e,alt:t,...n})=>{const[s,a]=f(),[d,l]=u(400);return o.createElement("div",{ref:d,className:c("jkl-image",i,{"jkl-image--loading":!a})},o.createElement("img",{className:"jkl-image__placeholder",alt:a?"":t,src:e||n.src}),o.createElement("img",{alt:t,className:"jkl-image__image","data-testid":"jkl-image__image",ref:s,sizes:`${l.width}px`,loading:"lazy",decoding:"async",...n}))};p.__docgenInfo={description:"",methods:[],displayName:"Image",props:{src:{required:!0,tsType:{name:"string"},description:""},srcSet:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},alt:{required:!0,tsType:{name:"string"},description:`Send inn en tom streng hvis bildet kun er dekorativt. Sannsynligvis bør du beskrive innholdet i
bildet så en person med nedsatt syn får en fullgod opplevelse av siden.
Les mer på https://jokul.fremtind.no/universell-utforming/guide#uu/dekorativt-innhold`},className:{required:!1,tsType:{name:"string"},description:""}}};export{p as I};
