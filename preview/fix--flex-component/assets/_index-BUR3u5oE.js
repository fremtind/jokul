import{c as b}from"./clsx-B-dksMZM.js";import{r as n,R as t}from"./index-siqcju79.js";import{u as S}from"./useAnimatedHeightBetween--QZcgzwz.js";import{a as v}from"./Expander-sMjrYr5Z.js";const k=({className:m,children:l,...i})=>{const{open:a,onTransitionStart:r,onTransitionEnd:c}=n.useContext(v),[s]=S(a,{timing:"snappy",onTransitionStart:r,onTransitionEnd:c});return n.useEffect(()=>{const o=s.current;a?o?.removeAttribute("inert"):o?.setAttribute("inert","true")},[a,s]),t.createElement("div",{ref:s,className:b("jkl-expandable__content",m),...i,"data-expanded":a},t.createElement("div",{className:"jkl-expandable__content-wrapper"},l))};k.__docgenInfo={description:"",methods:[],displayName:"ExpandablePanelContent"};const w=Object.assign(t.forwardRef(function(l,i){const{children:a,as:r="details",variant:c="fill",open:s,defaultOpen:o,onOpenChange:h,className:_,...C}=l,[R,f]=n.useState(o||!1),[u,E]=n.useState(!1),[y,T]=n.useState(0),d=n.useRef();n.useImperativeHandle(i,()=>d.current,[]);const j=r,g=typeof s<"u",p=g?s:R,N=e=>{e&&E(!0)},O=()=>{g||f(e=>(h?.(!e),!e))};return n.useEffect(()=>{const e=P=>{f(P.newState==="open")},x=d.current;return x?.addEventListener("toggle",e),()=>x?.removeEventListener("toggle",e)},[]),t.createElement("div",{className:"jkl-expandable__wrapper"},t.createElement("div",{ref:e=>e?.setAttribute("inert","true"),className:"jkl-expandable__focus-container",style:{height:y}}),t.createElement(j,{ref:d,"data-testid":"jkl-expand-section",className:b("jkl-expandable",`jkl-expandable--${c}`,_),open:r==="details"?p||u:void 0,"data-visible-content":p||u,...C},t.createElement(v.Provider,{value:{open:p,onToggle:O,onTransitionEnd:E,onTransitionStart:N,setExpanderHeight:T}},a)))}),{Content:k});w.__docgenInfo={description:"",methods:[],displayName:"ExpandablePanel",props:{as:{required:!1,tsType:{name:"ElementType"},description:`Her kan du angi hva slags element komponenten skal rendres
som. Det kan enten v√¶re en string for native HTML elementer
eller en komponent (som Link fra react-router og lignende).`},ref:{required:!1,tsType:{name:'ReactComponentPropsWithRef["ref"]',raw:'React.ComponentPropsWithRef<As>["ref"]'},description:""}}};export{k as E,w as a};
