import{c as v}from"./clsx-B-dksMZM.js";import{r as n,R as t}from"./index-siqcju79.js";import{u as H}from"./useAnimatedHeightBetween--QZcgzwz.js";import{a as k,E as S}from"./Expander-B6jaME60.js";const m=({className:f,children:l,...i})=>{const{open:a,onTransitionStart:r,onTransitionEnd:d}=n.useContext(k),[s]=H(a,{timing:"snappy",onTransitionStart:r,onTransitionEnd:d});return n.useEffect(()=>{const o=s.current;a?o?.removeAttribute("inert"):o?.setAttribute("inert","true")},[a,s]),t.createElement("div",{ref:s,className:v("jkl-expandable__content",f),...i,"data-expanded":a},t.createElement("div",{className:"jkl-expandable__content-wrapper"},l))};m.displayName="ExpandablePanel.Content";m.__docgenInfo={description:"",methods:[],displayName:"ExpandablePanel.Content"};const w=Object.assign(t.forwardRef(function(l,i){const{children:a,as:r="details",variant:d="fill",open:s,defaultOpen:o,onOpenChange:h,className:_,...C}=l,[y,u]=n.useState(o||!1),[E,x]=n.useState(!1),[R,N]=n.useState(0),c=n.useRef();n.useImperativeHandle(i,()=>c.current,[]);const P=r,b=typeof s<"u",p=b?s:y,T=e=>{e&&x(!0)},j=()=>{b||u(e=>(h?.(!e),!e))};return n.useEffect(()=>{const e=O=>{u(O.newState==="open")},g=c.current;return g?.addEventListener("toggle",e),()=>g?.removeEventListener("toggle",e)},[]),t.createElement("div",{className:"jkl-expandable__wrapper"},t.createElement("div",{ref:e=>e?.setAttribute("inert","true"),className:"jkl-expandable__focus-container",style:{height:R}}),t.createElement(P,{ref:c,"data-testid":"jkl-expand-section",className:v("jkl-expandable",`jkl-expandable--${d}`,_),open:r==="details"?p||E:void 0,"data-visible-content":p||E,...C},t.createElement(k.Provider,{value:{open:p,onToggle:j,onTransitionEnd:x,onTransitionStart:T,setExpanderHeight:N}},a)))}),{Content:m,Header:S});w.__docgenInfo={description:"",methods:[],displayName:"ExpandablePanel",props:{as:{required:!1,tsType:{name:"ElementType"},description:`Her kan du angi hva slags element komponenten skal rendres
som. Det kan enten v√¶re en string for native HTML elementer
eller en komponent (som Link fra react-router og lignende).`},ref:{required:!1,tsType:{name:'ReactComponentPropsWithRef["ref"]',raw:'React.ComponentPropsWithRef<As>["ref"]'},description:""}}};export{m as E,w as a};
