"use strict";(self.webpackChunk_fremtind_portal=self.webpackChunk_fremtind_portal||[]).push([[1416],{33660:function(e,t,n){n.d(t,{Xl:function(){return E},Um:function(){return x},ZP:function(){return j}});var a=n(70079),l=n(15089),o=n(31401),r=n(79661),s=n(80324),i=n.n(s);const c=(0,a.forwardRef)((function(e,t){let{className:n,variant:l,onClick:s,children:c,selected:u,size:d="small",...p}=e;return a.createElement("button",{ref:t,className:i()("jkl-chip","jkl-chip--".concat(d),"jkl-chip--".concat(l),n),onClick:s,"aria-pressed":u,...p},c,"filter"===l&&u&&a.createElement(o.n,{className:"jkl-chip__icon",variant:"small","data-testid":"jkl-check-icon"}),"input"===l&&a.createElement(r.T,{className:"jkl-chip__icon",variant:"small","data-testid":"jkl-close-icon"}))}));var u=n(10188),d=n(68998),p=n(81159),m=n(3438),b=n(84490),v=n(60314),f=n(54800),k=n(54235),g=n(15971),h=n(26372),y=n.n(h);function _(e){return"string"==typeof e?{value:e,label:e}:e}const A=e=>{var t,n;let{id:r,placeholder:s,items:i,onChange:h,onFocus:A,onBlur:x,value:j,label:E,noMatchingOption:w,labelProps:C,helpLabel:L,errorLabel:M,width:N,density:O,name:P,className:S,invalid:V,hasTagHover:R}=e;const D=(0,m.M)(r||"jkl-combobox",{generateSuffix:!r}),B=D+"_label",F=D+"_button",T=D+"_search-input",{0:H,1:I}=(0,a.useState)(j||[]),{0:K,1:q}=(0,a.useState)(!1),{0:U,1:Y}=(0,a.useState)(""),{0:G,1:X}=(0,a.useState)(!1),{0:Z,1:z}=(0,a.useState)(!1),J=(0,a.useRef)(null),Q=(0,a.useRef)(null),$=(0,a.useRef)(!1);(0,a.useEffect)((()=>{Y(""),K&&J.current&&J.current.focus()}),[K]),(0,a.useEffect)((()=>{I((e=>j||e))}),[j]);const W=e=>!!H&&H.some((t=>t.value===e.value)),ee=(0,a.useCallback)((e=>H.filter((t=>t.value!==e))),[H]),te=(0,a.useCallback)(((e,t)=>{let n=ee(t);I(n),h({type:"change",target:{name:P,value:t,selectedOptions:n}}),e.stopPropagation(),0===n.length&&z(!1)}),[ee,I,h,P,z]),ne=(0,a.useCallback)((e=>{var t;let n;if(H.some((t=>t.value===e)))n=ee(e);else{const t=i.find((t=>t.value===e));n=[].concat((0,l.Z)(H),[t])}null===(t=J.current)||void 0===t||t.focus(),I(n),h({type:"change",target:{name:P,value:e,selectedOptions:n}})}),[H,I,h,P,ee,i]),ae=e=>{var t;null===(t=J.current)||void 0===t||t.focus(),q(!0),Y(e.target.value)},le=(0,a.useMemo)((()=>{if(!U)return i;const e=i.filter((e=>e.label.toLowerCase().indexOf(U.toLowerCase())>=0));return X(0===e.length),e}),[U,i]),{0:oe,1:re}=(0,a.useState)(null!==(t=le[0])&&void 0!==t&&t.value?D+"-"+(null===(n=le[0])||void 0===n?void 0:n.value):void 0),se=!K;(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.key&&K&&q(!1)};return"undefined"!=typeof window&&window.addEventListener("keydown",e),()=>{"undefined"!=typeof window&&K&&window.removeEventListener("keydown",e)}}),[q,K]);const ie=(0,a.useCallback)((e=>{e?J.current&&J.current.focus():$.current&&Q.current&&Q.current.focus()}),[]),ce=(0,a.useCallback)((()=>{$.current||(A&&A({type:"change",target:{name:P,value:(null==H?void 0:H[0].value)||"",selectedOptions:H}}),$.current=!0,q(!0))}),[A,H,P]),[ue]=(0,b.v)(K,{onFirstVisible:ie,onTransitionEnd:ie});(0,v.c)({ref:ue});const de=(0,a.useRef)(null),pe=(0,a.useCallback)((e=>{const t=de.current;if(!(t&&t.contains(e.relatedTarget))){var n,a;if(Y(""),x)x({type:"blur",target:{name:P,value:(null==H||null===(n=H[0])||void 0===n?void 0:n.value)||"",selectedOptions:H}}),null===(a=Q.current)||void 0===a||a.dispatchEvent(new Event("focusout",{bubbles:!0}));$.current=!1,q(!1)}}),[x,P,H]),me=(0,a.useCallback)((e=>{e.target.focus({preventScroll:!0})}),[]),be=(0,a.useCallback)((e=>{if("ArrowDown"===e.key){e.preventDefault(),e.stopPropagation();const n=ue.current;var t;if(n)null===(t=n.querySelector('[role="option"]'))||void 0===t||t.focus()}else"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),q(!1));if(e.metaKey&&"a"===e.key||e.ctrlKey&&"a"===e.key){e.preventDefault(),e.stopPropagation();const t=H.map((e=>({...e,isMarked:!0})));z(!0),I(t)}else if("Backspace"===e.key){e.stopPropagation(),z(!1);if(H.some((e=>e.isMarked))){const e=H.filter((e=>!e.isMarked));I(e),Y("")}else H.length>0&&""===U&&te(e,H[H.length-1].value)}}),[H,U,ue,te]),ve=(0,a.useCallback)((e=>{if("Tab"===e.key)J.current&&(e.preventDefault(),e.stopPropagation(),e.shiftKey||q(!1),J.current.focus());else if("ArrowUp"===e.key&&ue.current&&J.current){const t=ue.current.querySelector('[role="option"]:not([hidden])');e.currentTarget.id===(null==t?void 0:t.id)&&J.current&&J.current.focus()}}),[q,ue]),fe=H.length>=1,ke=(0,a.useCallback)((e=>a.createElement(c,{key:e.value,"data-testid":"jkl-chip","aria-label":"Fjern "+e.tagLabel,className:"jkl-combobox__selected-option "+(Z&&"jkl-combobox__selected-option--marked"),variant:"input",onClick:t=>{J.current&&J.current.focus(),te(t,e.value)},onBlur:pe},e.tagLabel?e.tagLabel:e.label)),[pe,te,Z]);return a.createElement(p.B,{label:E,id:T,ref:de,"data-testid":"jkl-combobox",className:y()("jkl-combobox",S,{"jkl-combobox--invalid":!!M||V,"jkl-combobox--menu-open":K,"jkl-combobox--menu-closed":!K&&fe}),labelProps:{id:B,...C},helpLabel:L,errorLabel:M,density:O,render:e=>a.createElement("div",{className:y()("jkl-combobox__wrapper",{"jkl-combobox__wrapper--active-value":fe}),style:{width:N},tabIndex:-1,onFocus:ce,onBlur:pe},a.createElement("div",{className:"jkl-combobox__chips","data-testid":"jkl-combobox__chips"},H.map(_).map((e=>R?a.createElement(f.u,{key:e.value},a.createElement(k.a,null,ke(e)),a.createElement(g._,null,e.label)):ke(e))),a.createElement("input",Object.assign({},e,{className:"jkl-combobox__search-input",onChange:ae,"data-testid":"jkl-combobox__search-input",onFocus:ce,onBlur:pe,onKeyDown:be,value:U,ref:J,"aria-controls":D,role:"combobox","aria-autocomplete":"list","aria-expanded":K,placeholder:H.length>0?"":s,autoComplete:"off"}))),a.createElement("div",{className:"jkl-combobox__menu",role:"listbox",ref:ue,id:D,"aria-labelledby":B,"aria-multiselectable":"true","aria-activedescendant":oe,onFocus:ce,onBlur:pe,tabIndex:-1},le.map(((e,t)=>a.createElement("button",{key:D+"-"+e.value,type:"button",id:D+"__"+e.value,"aria-selected":W(e),role:"option",value:e.value,onBlur:pe,className:"jkl-combobox__option "+(W(e)&&"jkl-combobox__option--selected"),"data-testid":"jkl-combobox__option","data-testautoid":"jkl-combobox__option-"+t,onFocus:ce,onKeyDown:ve,onClick:t=>{re(D+"__"+e.value),t.stopPropagation(),ne(e.value),Y("")},onMouseOver:me},e.description?a.createElement("span",null,e.label,a.createElement("span",{className:"jkl-combobox__option-description"},e.description)):e.label,W(e)?a.createElement("span",null,a.createElement(o.n,null)," "):null))),G&&a.createElement("div",{className:"jkl-combobox__no-option"},w)),a.createElement("div",{className:"jkl-combobox__actions"},a.createElement(u.h,{id:F,onFocus:ce,onBlur:pe,className:"jkl-combobox__button","data-testid":"jkl-combobox__button","aria-label":(H.map((e=>e.label))||"Velg")+","+E,"aria-expanded":K,"aria-controls":D,role:"button",onClick:()=>q((e=>!e)),onMouseDown:e=>{var t;e.preventDefault(),null===(t=Q.current)||void 0===t||t.focus()}},a.createElement(d.K,{pointingDown:se}))))})};A.displayName="Combobox";const x={boolProps:["Med hjelpetekst","Med feil","Med empty state","Med tagHover"],choiceProps:[{name:"Variant",values:["small","medium","large"],defaultValue:0}]};var j=e=>{let{choiceValues:t,boolValues:n}=e;const l=t&&t.Variant,{0:o,1:r}=(0,a.useState)([]),s=n&&n["Med feil"]?"Du må velge sykdommer, for eksempel A090 og A150.":void 0,i=n&&n["Med hjelpetekst"]?"Med sykdommer mener vi for eksempel A090 og A150.":void 0,c=n&&n["Med empty state"]?"Ingen valg matcher søket":void 0,u=!(!n||!n["Med tagHover"])||void 0;return a.createElement(A,{id:"produsent",name:"produsent",placeholder:"Søk",width:"220px",labelProps:{variant:l},helpLabel:i,errorLabel:s,label:"Velg sykdommer",noMatchingOption:c,hasTagHover:u,items:[{value:"a080",label:"A080 - Rotavirusenteritt",tagLabel:"A080"},{value:"a081",label:"A081 - Akutt gastroenteritt som skyldes norovirus",tagLabel:"A081"},{value:"a082",label:"A082 - Adenovirusenteritt",tagLabel:"A082"},{value:"a083",label:"A083 - Annen virusenteritt",tagLabel:"A083"},{value:"a084",label:"A084 - Uspesifisert virusinfeksjon i mage-tarmkanalen",tagLabel:"A084"},{value:"a085",label:"A085 - Annen spesifisert mage-tarminfeksjon",tagLabel:"A085"},{value:"a090",label:"A090 - Annen eller uspesifisert gastroenteritt eller kolitt av infeksiøs årsak",tagLabel:"A090"},{value:"a099",label:"A099 - Gastroenteritt eller kolitt av uspesifisert årsak",tagLabel:"A099"},{value:"a150",label:"A150 - Lungetuberkulose bekreftet ved mikroskopi av sputum med eller uten kultur",tagLabel:"A150"}],value:o,onChange:e=>{r(e.target.selectedOptions),console.log("Change: ",e)}})};const E=e=>{let{choiceValues:t,boolValues:n}=e;return'\n    <Combobox\n    id="produsent"\n    name="prdusent"\n    placeholder="Søk"\n    variant="'+(null==t?void 0:t.Variant)+'"\n    helpLabel='+(null!=n&&n["Med hjelpetekst"]?'"Hjelpsom beskjed"':"{undefined}")+"\n    errorLabel="+(null!=n&&n["Med feil"]?'"Beskrivende feilmelding"':"{undefined}")+'\n    label="Velg sykdommer"\n    noMatchingOption='+(null!=n&&n["Med empty state"]?'"Ingen valg matcher søket"':"{undefined}")+"\n    hasTagHover="+(null!=n&&n["Med tagHover"]?"{true}":"{undefined}")+'\n    items={[\n        { value: "a080", label: "A080 - Rotavirusenteritt", tagLabel: "A080" },\n        { value: "a081", label: "A081 - Akutt gastroenteritt som skyldes norovirus", tagLabel: "A081" },\n        { value: "a082", label: "A082 - Adenovirusenteritt", tagLabel: "A082" },\n        { value: "a083", label: "A083 - Annen virusenteritt", tagLabel: "A083" },\n        { value: "a084", label: "A084 - Uspesifisert virusinfeksjon i mage-tarmkanalen", tagLabel: "A084" },\n        { value: "a085", label: "A085 - Annen spesifisert mage-tarminfeksjon", tagLabel: "A085" },\n        {\n            value: "a090",\n            label: "A090 - Annen eller uspesifisert gastroenteritt eller kolitt av infeksiøs årsak",\n            tagLabel: "A090",\n        },\n        { value: "a099", label: "A099 - Gastroenteritt eller kolitt av uspesifisert årsak", tagLabel: "A099" },\n        {\n            value: "a150",\n            label: "A150 - Lungetuberkulose bekreftet ved mikroskopi av sputum med eller uten kultur",\n            tagLabel: "A150",\n        },\n    ]}\n    value={selectedValues}\n    onChange={setSelectedValues}\n    />\n'}},17050:function(e,t,n){n.d(t,{H:function(){return a}});const a=e=>{if(!e)return{};const t=getComputedStyle(e);return{theme:parseInt(t.getPropertyValue("--jkl-background-color").replace("#",""),16)<8388607.5?"dark":"light",density:'"compact"'===t.getPropertyValue("--jkl-density")?"compact":"comfortable"}}},31401:function(e,t,n){n.d(t,{n:function(){return o}});var a=n(70079),l=n(31787);const o=e=>a.createElement(l.J,{...e},"");o.displayName="CheckIcon"},54800:function(e,t,n){n.d(t,{nr:function(){return u},u:function(){return d}});var a=n(57579),l=n(88905),o=n(84256),r=n(26893),s=n(70079);const i=(0,s.createContext)(null),c=i.Provider,u=()=>{const e=(0,s.useContext)(i);if(null===e)throw new Error("Tooltip-komponentene kan kun brukes inne i <Tooltip />");return e},d=e=>{let{children:t,...n}=e;const i=(e=>{let{initialOpen:t=!1,placement:n="top",delay:i=250,triggerOn:c="hover",onOpenChange:u}=e;const{0:d,1:p}=(0,s.useState)(t),m=(0,s.useRef)(null),b=(0,s.useRef)(null),v=(0,a.YF)({open:d,onOpenChange:e=>{null==u||u(e),p(e)},placement:n,whileElementsMounted:l.Me,middleware:[(0,o.cv)(16),(0,o.RR)(),(0,o.uY)({padding:16}),(0,r.x7)({element:m,padding:8})]}),f=(0,a.qs)(v.context,{role:"tooltip"}),k=(0,a.bQ)(v.context),g=(0,a.eS)(v.context,{enabled:"click"===c}),h=(0,a.XI)(v.context,{enabled:"hover"===c,delay:d?0:i}),y=(0,a.KK)(v.context,{enabled:"click"!==c||d}),_=(0,a.NI)([k,y,f,g,h]);return{triggerOn:c,isOpen:d,setOpen:p,arrowElement:m,...v,refs:{...v.refs,description:b,setDescription:e=>b.current=e},..._}})(n);return s.createElement(c,{value:i},t)}},15971:function(e,t,n){n.d(t,{_:function(){return p}});var a=n(57579),l=n(17050),o=n(3438),r=n(45901),s=n(26372),i=n.n(s),c=n(70079),u=n(54800);function d(e,t){switch(void 0===t&&(t=0),e){case"top":default:return"0 ".concat(t,"px");case"left":return"".concat(t,"px 0");case"bottom":return"0 ".concat(-t,"px");case"right":return"".concat(-t,"px 0")}}const p=(0,c.forwardRef)((function(e,t){let{className:n,children:s,"data-ispopup":p,...m}=e;const{context:b,triggerOn:v,arrowElement:f,getFloatingProps:k,placement:g,floatingStyles:h,refs:y}=(0,u.nr)(),_=(0,a.qq)([t,y.setFloating]),A=(0,o.M)("jkl-tooltip-content"),{prefersReducedMotion:x}=(0,r.c)(),{isMounted:j,styles:E}=(0,a.Y_)(b,{duration:{open:x?0:250,close:x?0:150},initial:e=>{let{side:t}=e;return{opacity:0,translate:d(t,5)}},open:e=>{let{side:t}=e;return{opacity:1,translate:d(t,0)}},close:e=>{let{side:t}=e;return{opacity:0,translate:d(t,-5)}}}),{density:w,theme:C}=(0,l.H)(y.reference.current);return c.createElement(a.ll,null,"hover"===v&&c.createElement("span",{ref:y.setDescription,hidden:!0,key:"".concat(A,"-trigger")},s),j&&c.createElement("span",{className:"jkl",key:"".concat(A,"-wrapper")},c.createElement("span",{key:A,ref:_,"data-placement":g,"aria-hidden":p,"data-testid":"tooltip-content","data-theme":C,"data-layout-density":w,className:i()("jkl-tooltip-content",n),...k({...m,id:A}),style:{...h,...E}},s,c.createElement(a.Y$,{context:b,ref:f,width:24,height:12,fill:"var(--background-color)"}))))}))},54235:function(e,t,n){n.d(t,{a:function(){return i}});n(31369);var a=n(57579),l=n(26372),o=n.n(l),r=n(70079),s=n(54800);const i=(0,r.forwardRef)((function(e,t){let{children:n,className:l,...i}=e;var c,u;const{isOpen:d,getReferenceProps:p,refs:m,triggerOn:b}=(0,s.nr)(),v=n.ref,f=(0,a.qq)([v,m.setReference,t]),k=[null==(c=m.reference.current)?void 0:c.textContent,null==(u=m.description.current)?void 0:u.textContent].map((e=>null==e?void 0:e.replaceAll(/[\ue003-\uf8aa]/g,""))).filter(Boolean).join(". ");return r.isValidElement(n)?r.cloneElement(n,p({ref:f,"aria-label":k,...n.props,...i,className:o()(n.props.className,l),"data-tooltip-shown":d,style:{...n.props.style},tabIndex:"click"===b?0:void 0})):r.createElement("button",{"data-tooltip-shown":d,...p({className:o()(l,"jkl-tooltip-trigger"),type:"button",ref:f,"aria-label":k,...i})},n)}))}}]);