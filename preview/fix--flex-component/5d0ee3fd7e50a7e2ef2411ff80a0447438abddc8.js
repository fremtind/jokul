"use strict";(self.webpackChunk_fremtind_portal=self.webpackChunk_fremtind_portal||[]).push([[2771],{39155:function(e,l,t){t.d(l,{IX:function(){return f},hW:function(){return k},cN:function(){return b}});var n=t(92379),a=t(41046),o=t(99767),r=t(76918),s=t(42054),i=t(29311),u=t(80324),c=t.n(u);const d=["label","className","density","errorLabel","helpLabel","inline","invalid","items","labelProps","placeholder","selectClassName","supportLabelProps","tooltip","value","width"],p=(0,n.forwardRef)(((e,l)=>{const{label:t,className:a,density:u,errorLabel:p,helpLabel:v,inline:b,invalid:m,items:f,labelProps:k,placeholder:g="Velg",selectClassName:h,supportLabelProps:j,tooltip:y,value:_,width:E}=e,w=(0,o.Z)(e,d),N={label:t,density:u,errorLabel:p,helpLabel:v,labelProps:k,inline:b,supportLabelProps:j,tooltip:y};return n.createElement(i.B,Object.assign({},N,{"data-testid":"jkl-select",className:c()("jkl-select",a,{"jkl-select--inline":b,"jkl-select--invalid":!!p||m}),render:e=>n.createElement("div",{className:"jkl-select__outer-wrapper",style:{width:E}},n.createElement("select",Object.assign({ref:l,className:c()("jkl-select__button",h,{"jkl-select__button--active-value":!!_}),defaultValue:_?void 0:"",value:_},e,w),g&&!_&&n.createElement("option",{disabled:!0,value:""},g),f.map(r.Y).map((e=>n.createElement("option",{"data-testid":"jkl-select__option",className:"jkl-select__option",key:e.value,value:e.value},e.label)))),n.createElement(s.K,{variant:"medium",pointingDown:!0,className:"jkl-select__arrow"}))}))}));p.displayName="NativeSelect";var v=t(45739);const b={boolProps:["Native","Med hjelpetekst","Med feil","Med tooltip","Med søk","Med sekundærtekst"],choiceProps:[{name:"Maks. viste valg",values:["3","Default (5)","8","Mange"],defaultValue:1},{name:"Variant",values:["small","medium","large"],defaultValue:0}]},m=e=>{switch(e){case"3":return 3;case"Default (5)":return 5;case"8":return 8;case"Mange":return 100;default:return}},f=e=>{let{boolValues:l,choiceValues:t}=e;const o=l&&l.Native,r=o?p:v.P,s=[{value:"1",label:"Google Pixel",description:null!=l&&l["Med sekundærtekst"]?"Gjelder også Nexus-serien":void 0},{value:"2",label:"Apple"},{value:"3",label:"Samsung"},{value:"4",label:"LG"},{value:"5",label:"Huawei"},{value:"6",label:"OnePlus"},{value:"7",label:"XiaoMi"},{value:"8",label:"Nokia"},{value:"9",label:"Sony"},{value:"10",label:"Doro"}],{0:i,1:u}=(0,n.useState)(""),c=l&&l["Med feil"]?"Du må velge merket til telefonen, for eksempel Apple.":void 0,d=l&&l["Med hjelpetekst"]?"Med merke mener vi for eksempel Apple eller Samsung.":void 0,b=t&&t.Variant,f=l&&l["Med søk"],k=m(null==t?void 0:t["Maks. viste valg"]),g=null!=l&&l["Med tooltip"]?n.createElement(a.d,{content:"Vi spør om merket på telefonen for å finne riktig reperatør for deg."}):void 0;return n.createElement(r,Object.assign({id:"produsent",name:"produsent",label:"Hvilket merke er telefonen?",labelProps:{variant:b},items:s,value:i,helpLabel:d,errorLabel:c,tooltip:g,onChange:e=>{u(e.target.value),console.log("Change: ",e)},searchable:f?(e,l)=>"object"==typeof l?l.value.includes(e):l.includes(l):void 0,onFocus:e=>{console.log("Focus: ",e)},onBlur:e=>{console.log("Blur: ",e)}},o?{}:{maxShownOptions:k}))},k=e=>{let{boolValues:l,choiceValues:t}=e;return"\n<"+(null!=l&&l.Native?"NativeSelect":"Select")+'\n    ref={selectRef}\n    id="produsent"\n    name="produsent"\n    variant="'+(null==t?void 0:t.Variant)+'"\n    label="Hvilket merke er telefonen?"\n    helpLabel='+(null!=l&&l["Med hjelpetekst"]?'"Hjelpsom beskjed"':"{undefined}")+"\n    errorLabel="+(null!=l&&l["Med feil"]?'"Beskrivende feilmelding"':"{undefined}")+(null!=l&&l["Med tooltip"]?'\n    tooltip={\n        <PopupTip content="Vi spør om merket på telefonen for å finne riktig reperatør for deg." />\n    }':"")+'\n    items={[\n        { value: "google", label: "Google og noen flere" },\n        { value: "apple", label: "Apple" },\n        { value: "samsung", label: "Samsung" },\n        { value: "LG", label: "LG" },\n    ]}\n    value={value}\n    onChange={setValue}\n    searchable={'+!(null==l||!l["Med søk"])+"}\n    onFocus={onFocus}\n    onBlur={onBlur}\n    maxShownOptions={"+m(null==t?void 0:t["Maks. viste valg"])+"}\n/>\n"}},45739:function(e,l,t){t.d(l,{P:function(){return h}});var n=t(99767),a=t(76918),o=t(42054),r=t(29311),s=t(38475),i=t(70237),u=t(27685),c=t(53675),d=t(80324),p=t.n(d),v=t(92379);function b(e){return void 0===e&&(e=""),e.toLowerCase().replace(/[\W_]+/g,"")}function m(e,l){var t,n;let a=null;l&&(a=e.querySelector('[aria-selected="true"]:not([hidden])')),l&&a||(a=e.querySelector('[role="option"]')),null===(t=a)||void 0===t||t.focus(),e.scrollTop=(null===(n=a)||void 0===n?void 0:n.offsetTop)||0}const f=["id","name","items","value","label","labelProps","onChange","onBlur","onFocus","className","helpLabel","errorLabel","invalid","searchable","inline","defaultPrompt","density","width","maxShownOptions","style","tooltip"],k=["aria-invalid"],g=()=>{},h=(0,v.forwardRef)(((e,l)=>{const{id:t,name:d,items:h,value:j,label:y,labelProps:_,onChange:E,onBlur:w,onFocus:N,className:P,helpLabel:L,errorLabel:C,invalid:M,searchable:D=!1,inline:S=!1,defaultPrompt:O="Velg",density:V,width:x,maxShownOptions:F=5,style:B,tooltip:T}=e,R=(0,n.Z)(e,f),A=(0,s.M)(t||"jkl-select",{generateSuffix:!t}),K=A+"_label",G=A+"_button",q=A+"_search-input",{0:H,1:Z}=(0,v.useState)(!1),I=(0,v.useCallback)((()=>{Z((e=>!e))}),[]),z=Boolean(D),U=z&&H,{0:W,1:X}=(0,v.useState)(""),Y=(0,v.useCallback)((e=>!!e.label.toLowerCase().includes(W.toLowerCase())||"function"==typeof D&&D(W,e)),[D,W]),J=(0,v.useMemo)((()=>h.map(a.Y).map((e=>{const l=!z||""===W||Y(e);return Object.assign({},e,{visible:l})}))),[h,z,W,Y]),Q=(0,v.useMemo)((()=>void 0!==j&&h.some((e=>"string"==typeof e?e===j:e.value===j))),[j,h]),{0:$,1:ee}=(0,v.useState)(Q&&void 0!==j?j:""),le=""!==$,te=(0,v.useMemo)((()=>{var e;return(null===(e=J.find((e=>e.value===$)))||void 0===e?void 0:e.label)||O}),[J,$,O]),ne=(0,v.useRef)(null),ae=(0,v.useCallback)((e=>{ne.current=e,l&&("function"==typeof l?l(e):l.current=e),e&&ee(e.value)}),[ne,l]),oe=(0,i.z)(j);(0,v.useEffect)((()=>{j!==oe&&ee(void 0!==j&&Q?j:"")}),[ee,j,oe,Q]);const re=(0,v.useCallback)((e=>{var l;const t=e.value;X(""),ee(t),I(),null===(l=de.current)||void 0===l||l.focus()}),[X,ee,I]),se=(0,i.z)($);(0,v.useEffect)((()=>{void 0!==se&&se!==$&&$!==j&&(E&&E({type:"change",target:{name:d,value:$}}),ne.current&&ne.current.dispatchEvent(new Event("change",{bubbles:!0})))}),[E,d,j,$,se]);const ie=(0,v.useRef)(null),ue=(0,v.useRef)(!1),ce=(0,v.useRef)(null),de=(0,v.useRef)(null),pe=(0,v.useCallback)(((e,l)=>{if(e&&!z){const e=l.current;e&&m(e,$)}else e?ce.current&&ce.current.focus():ue.current&&de.current&&de.current.focus()}),[z,$]),[ve]=(0,u.v)(H,{onFirstVisible:pe,onTransitionEnd:pe});(0,c.c)({ref:ve});const be=(0,v.useCallback)((()=>{var e;(z&&X(""),w)&&(w({type:"blur",target:{name:d,value:$}}),null===(e=ne.current)||void 0===e||e.dispatchEvent(new Event("focusout",{bubbles:!0})));ue.current=!1,Z(!1)}),[w,X,Z,z,d,$]),me=(0,v.useCallback)((e=>{const l=ie.current;l&&l.contains(e.relatedTarget)||be()}),[be]),fe=(0,v.useCallback)((()=>{ue.current||(N&&N({type:"change",target:{name:d,value:$}}),ue.current=!0)}),[N,$,d]),ke=(0,v.useCallback)((e=>{e.target.focus({preventScroll:!0})}),[]);(0,v.useEffect)((()=>{const e=ne.current,l=ce.current,t=de.current,n=ie.current;return null==e||e.addEventListener("focus",(()=>{U?null==l||l.focus():null==t||t.focus()})),null==e||e.addEventListener("blur",(function(e){n&&n.contains(e.relatedTarget)&&e.preventDefault()})),()=>{null==e||e.removeEventListener("focus",(()=>{U?null==l||l.focus():null==t||t.focus()})),null==e||e.removeEventListener("blur",(function(e){n&&n.contains(e.relatedTarget)&&e.preventDefault()}))}}),[U]);const ge=(0,v.useCallback)((e=>{"ArrowDown"!==e.key&&" "!==e.key||H?"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),Z(!1)):(e.preventDefault(),e.stopPropagation(),Z(!0))}),[Z,H]),he=(0,v.useCallback)((e=>{if("ArrowDown"===e.key){e.preventDefault(),e.stopPropagation();const l=ve.current;l&&m(l,z?void 0:$)}else if("Escape"===e.key)e.preventDefault(),e.stopPropagation(),Z(!1);else if("Tab"!==e.key||e.shiftKey)"Enter"===e.key&&H&&(e.preventDefault(),e.stopPropagation());else{const l=ve.current;l&&(e.preventDefault(),e.stopPropagation(),m(l,$))}}),[Z,ve,$,z,H]),je=(0,v.useCallback)((e=>{if("Tab"===e.key)e.preventDefault(),e.stopPropagation(),e.shiftKey&&ce.current?ce.current.focus():de.current&&(ee(e.currentTarget.value),Z(!1),de.current.focus());else if("ArrowUp"===e.key&&ve.current&&ce.current){const l=ve.current.querySelector('[role="option"]:not([hidden])');e.currentTarget.id===(null==l?void 0:l.id)&&ce.current&&ce.current.focus()}}),[Z,ve]);return(0,v.useEffect)((()=>{const e=e=>{"Escape"===e.key&&H&&Z(!1)};return"undefined"!=typeof window&&H&&window.addEventListener("keydown",e),()=>{"undefined"!=typeof window&&window.removeEventListener("keydown",e)}}),[Z,H]),v.createElement(v.Fragment,null,v.createElement("select",{name:d,tabIndex:-1,"data-testid":"jkl-native-select",className:"jkl-sr-only","aria-hidden":!0,ref:ae,value:$,onChange:g},v.createElement("option",{value:""})," ",J.map((e=>v.createElement("option",{key:A+"-opt-"+e.value,hidden:!e.visible,value:e.value},e.label)))),v.createElement(r.B,Object.assign({ref:ie,"data-testid":"jkl-select",className:p()("jkl-select",P,{"jkl-select--inline":S,"jkl-select--open":H&&J.some((e=>e.visible)),"jkl-select--no-value":!le,"jkl-select--invalid":!!C||M}),tooltip:T&&v.isValidElement(T)?v.cloneElement(T,{triggerProps:Object.assign({},T.props.triggerProps,{onFocus:e=>{var l,t;null===(l=T.props.triggerProps)||void 0===l||null===(t=l.onFocus)||void 0===t||t.call(l,e),be()}})}):null},R,{id:z?q:G,style:Object.assign({"--jkl-select-max-shown-options":F},B),density:V,label:y,labelProps:Object.assign({id:K,srOnly:S},_,{htmlFor:z?q:G}),helpLabel:L,errorLabel:C,render:e=>{let{"aria-invalid":l}=e,t=(0,n.Z)(e,k);return v.createElement("div",{className:"jkl-select__outer-wrapper",style:{width:x}},z&&v.createElement("input",Object.assign({},t,{"aria-invalid":l,id:q,hidden:!U,ref:ce,placeholder:"Søk",value:W,onChange:e=>X(e.target.value),"data-testid":"jkl-select__search-input",className:"jkl-select__search-input","aria-autocomplete":"list","aria-activedescendant":le?A+"__"+b($):void 0,"aria-controls":A,"aria-expanded":H,role:"combobox",onKeyDown:he,onBlur:me,onFocus:fe,onClick:e=>{e.stopPropagation()}})),v.createElement("button",Object.assign({"aria-invalid":l},t,{id:G,ref:de,hidden:U,type:"button",name:d+"-btn",className:p()("jkl-select__button",{"jkl-select__button--active-value":!!$}),"data-testid":"jkl-select__button","aria-label":(te||"Velg")+","+y,"aria-expanded":H,"aria-controls":A,onBlur:me,onFocus:fe,onKeyDown:ge,onClick:I,onMouseDown:e=>{var l;e.preventDefault(),null===(l=de.current)||void 0===l||l.focus()}}),te),v.createElement("div",{id:A,ref:ve,role:"listbox",className:"jkl-select__options-menu",hidden:!H||J.every((e=>!e.visible)),"aria-labelledby":K,tabIndex:-1,"data-focus":"controlled"},J.map(((e,l)=>e.visible?v.createElement("button",{key:A+"-"+e.value,hidden:!e.visible,type:"button",id:A+"__"+b(e.value),className:"jkl-select__option","data-testid":"jkl-select__option","aria-selected":e.value===$,role:"option",value:e.value,"data-testautoid":"jkl-select__option-"+l,onBlur:me,onFocus:fe,onKeyDown:je,onClick:l=>{l.preventDefault(),re(e)},onMouseOver:ke},e.label,e.description?v.createElement("span",{className:"jkl-select__option-description"},e.description):null):null))),v.createElement(o.K,{variant:"medium",pointingDown:!H,className:"jkl-select__arrow"}))}})))}));h.displayName="Select"},41046:function(e,l,t){t.d(l,{d:function(){return p}});var n=t(99767),a=t(58990),o=t(80324),r=t.n(o),s=t(92379),i=t(16965),u=t(6854),c=t(27547);const d=["content","triggerProps"],p=e=>{let{content:l,triggerProps:t}=e,o=(0,n.Z)(e,d);const{0:p,1:v}=(0,s.useState)(!1);return s.createElement(i.u,Object.assign({onOpenChange:v,triggerOn:"click"},o),s.createElement(c.a,null,s.createElement("button",Object.assign({},t,{type:"button",className:r()("jkl-tooltip-question-button",null==t?void 0:t.className),"data-testid":"jkl-tooltip-question-button"}),s.createElement(a.U,{variant:"inherit",bold:p}),s.createElement("span",{className:"jkl-sr-only"},"Vis hjelpetekst"),s.createElement("span",{className:"jkl-sr-only","aria-live":"polite","data-testid":"popuptip-content"},p?l:""))),s.createElement(u._,{"data-ispopup":!0},l))}}}]);