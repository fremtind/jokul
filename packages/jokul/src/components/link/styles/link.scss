@use "../../../core/jkl";

@mixin _underline-gradient($color) {
    background-image: linear-gradient(to bottom, $color 0%, $color 100%);
}

$_right-arrow: "\2192"; // unicode right arrow
$_left-arrow: "\2190"; // unicode left arrow
$_north-east-arrow: "\2197"; // unicode north east arrow (up/right)

$_link-underline-thickness: jkl.rem(1px);
$_link-underline-thickness--focus: jkl.rem(2px);

.jkl-link {
    color: var(--jkl-color-text-default);
    @include _underline-gradient(var(--jkl-color-text-default));
    background-position: 0
        calc(
            100% -
                (
                    #{$_link-underline-thickness--focus} - #{$_link-underline-thickness}
                )
        );
    background-size: $_link-underline-thickness $_link-underline-thickness;
    background-repeat: repeat-x;
    @include jkl.motion("standard", "energetic");
    transition-property: color;
    outline: none;
    text-decoration: none;

    &:hover:not(:focus) {
        color: var(--jkl-color-text-subdued);
        @include _underline-gradient(var(--jkl-color-text-subdued));
    }

    &:hover {
        @include _underline-gradient(var(--jkl-color-text-subdued));
    }

    &:focus-visible {
        @include jkl.focus-outline($offset: 0);
    }

    &:active {
        background-position: 0
            calc(
                100% -
                    (
                        #{$_link-underline-thickness--focus} - #{$_link-underline-thickness}
                    )
            );
    }

    /* Show arrow after external links, or links opening
    in a new window or tab: */
    &[target="_blank"],
    &--external {
        &::after {
            @include jkl.decorative($content: $_north-east-arrow);
        }
    }

    @include jkl.forced-colors-mode {
        outline: revert;
        text-decoration: revert;
    }
}
