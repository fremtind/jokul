@use "~@fremtind/jkl-core/jkl";
@use "./file";

@include jkl.light-mode-variables {
    --jkl-file-input-color: var(--jkl-color, #{jkl.$color-granitt});
    --jkl-file-input-drop-border-color: #{jkl.$color-fjellgra};
    --jkl-file-input-background-color-active: #{jkl.$color-varde};
    --jkl-file-input-border-color: #{jkl.$color-dis};
    --jkl-file-input-support-color: #{jkl.$color-stein};
    --jkl-file-input-thumbnail-background-color: #{jkl.$color-sand};
}

@include jkl.dark-mode-variables {
    --jkl-file-input-color: var(--jkl-color, #{jkl.$color-snohvit});
    --jkl-file-input-drop-border-color: #{jkl.$color-varde};
    --jkl-file-input-background-color-active: #{jkl.$color-stein};
    --jkl-file-input-border-color: #{jkl.$color-dis};
    --jkl-file-input-support-color: #{jkl.$color-svaberg};
    --jkl-file-input-thumbnail-background-color: #{jkl.$color-stein};
}

@include jkl.comfortable-density-variables {
    @include jkl.declare-font-variables("jkl-file-input-drag", "heading-2");

    --jkl-file-input-input-padding: #{jkl.$spacing-40};
    --jkl-file-input-input-gap: #{jkl.$spacing-24};
}

@include jkl.compact-density-variables {
    @include jkl.declare-font-variables("jkl-file-input-drag", "body");

    --jkl-file-input-input-padding: #{jkl.$spacing-16};
    --jkl-file-input-input-gap: #{jkl.$spacing-8};
}

.jkl-file-input {
    &__dropzone {
        border: var(--jkl-file-input-drop-border-color) 1px dashed;
        border-radius: jkl.rem(4px);
        padding: var(--jkl-file-input-input-padding);
        display: flex;
        justify-content: center;
        align-items: center;
        flex-flow: column nowrap;
        gap: var(--jkl-file-input-input-gap);
        @include jkl.motion("standard", "productive");
        transition-property: background-color;
        background-color: transparent;

        &--enter {
            background-color: var(--jkl-file-input-background-color-active);
            border-style: solid;
        }

        &__drag-text {
            @include jkl.use-font-variables("jkl-file-input-drag");
            @include jkl.small-device {
                display: none;
            }
        }
    }

    &__max-size-text {
        color: var(--jkl-file-input-color);
    }

    &__files {
        list-style: none;
        margin: 0;
        padding: 0;
    }

    html:not([data-mousenavigation]):not([data-touchnavigation]) &:focus-within {
        .jkl-button {
            transform: scale(1.05);

            &::after {
                box-shadow: 0 0 0 jkl.rem(2px) var(--jkl-button-focus-color);
            }

            &:active {
                transform: scale(1);
            }
        }
    }
}
