@import "~@fremtind/jkl-core/variables/_all.scss";
@import "~@fremtind/jkl-core/mixins/_all.scss";

// chevron
$chevron-size: rem(20px);
$chevron-weight: rem(1px);
$chevron-weight--hover: rem(2px);

// Padding
$item-padding-top-bottom: rem(2px);
$title-padding: $component-spacing--large;
$title-padding-top: $title-padding - $item-padding-top-bottom;

$bottom-border-size: rem(1px);
$highlight-color: $helhvit;

.jkl-table {
    border-collapse: collapse;

    &--accordion {
        // TODO: Foreslår at denne ikke er knyttet til accordion-elementer, da det kan være forvirrende å bruke tabell-komponenter som av og til har bredde og av og til ikke?
        width: 100%;
        table-layout: fixed;
    }

    &__column {
        &--icon {
            width: $chevron-size + 2rem; //2rem comes from padding of data-cells. TODO: Create variable?
        }
    }

    &__heading {
        color: $matt-svart;
        font-size: $font-size-1;
        font-weight: normal;
        line-height: $line-height-1;
        padding: $component-spacing--small 0.5rem;
    }

    &__data-cell {
        position: relative;
        box-sizing: border-box;
        padding: 1.5rem 0.5rem;
        line-height: $line-height-2;
    }

    &__heading,
    &__data-cell {
        text-align: left;
        vertical-align: top;

        &:first-of-type {
            padding-left: 1rem;
        }

        &:last-of-type {
            padding-right: 1rem;
        }
    }

    &__row {
        box-shadow: 0 ($bottom-border-size * 2) 0px -1px rgba(0, 0, 0, 0.2);

        &--clickable-row {
            cursor: pointer;

            &:hover {
                background-color: $highlight-color;
                box-shadow: 0 4px 3px -3px rgba(0, 0, 0, 0.2);
            }

            &:active {
                box-shadow: 0 ($bottom-border-size * 2) 0px -1px rgba(0, 0, 0, 0.4);
            }
        }

        &--accordion-item {
            &__content {
                background-color: $highlight-color;
            }

            &--expanded {
                background-color: $highlight-color;
                box-shadow: none;

                & .jkl-table__title-icon {
                    transform: rotate((-45 + 180) * 1deg); // default orientation is pointing down
                }
            }
        }

        &--data-row {
            transition: background-color 150ms ease, box-shadow 150ms ease;
        }

        /* Focus-within is not supported by IE/Edge */
        &:focus-within {
            background-color: $highlight-color;
            box-shadow: 0 0 0 1px inset $himmel;
        }
    }

    &__title-icon {
        @include chevron($chevron-size, currentcolor, $weight: $chevron-weight);
        position: absolute;
        right: $title-padding;
    }
}
