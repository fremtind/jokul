---
title: Hvordan skrive Sass i Jøkul
path: /guider/sass
order: 22
---

# Stilguide for Sass

<Ingress>Lurer du på hvordan du skal begynne med Sass-kode i Jøkul?</Ingress>

## SCSS

Det er [to syntakser i Sass](https://sass-lang.com/documentation/syntax)-verden:

1. SCSS
2. Indented

I Jøkul bruker vi SCSS-syntaksen. Den er et supersett av CSS, og er mer gjenkjennelig om du har en bakgrunn i å skrive CSS eller Less.

Begrepene _Sass_ og _SCSS_ blir brukt om hverandre i Jøkul, og betyr enten Sass-prosjektet eller Sass-kode skrevet med SCSS-syntaks.

## Block Element Modifier

Vi bruker metodikken [Block Element Modifier](https://css-tricks.com/bem-101/) (BEM) i Jøkul.

Nøsting og [parent selector](https://sass-lang.com/documentation/style-rules/parent-selector) i Sass gjør det enklere å skrive CSS på denne måten.

```scss
.block {
    /* ... */
    &__element {
        /* ... */
        &--element-modifier {
            /* ... */
        }
    }

    &--block-modifier {
        /* ... */
    }
}
```

### Flere elementnivåer

Dersom du er i ferd med å skrive en `block__element__another-element`-selector, stopp og tenk om `element` egentlig er en _annen_ `block`.

## Moduler

I Jøkul bruker vi bare [modul-syntaks](https://sass-lang.com/blog/the-module-system-is-launched) med [@use](https://sass-lang.com/documentation/at-rules/use) og [@forward](https://sass-lang.com/documentation/at-rules/forward), ikke `@import`. Hver fil er en modul, på samme måte som du kanskje kjenner til fra [TypeScript](/stilguide/react).

Moduler bør holdes til ett tema. Et tema kan for eksempel være CSSen for en komponent, mixins som har å gjøre med skjermstørrelser, eller funksjoner for konvertering av data.

### Partials

Vi bruker [partials](https://sass-lang.com/guide#topic-4) (filer hvor navnet starter med `_`) for alle filer som ikke skal kompileres direkte til CSS. Eksempler er moduler som består utelukkende av variabler, funksjoner og mixins. Det kan også være en modul med CSS for en komponent, men hvor alt skal samles opp i én enkelt CSS-fil til slutt (se for eksempel [packages/table](https://github.com/fremtind/jokul/tree/main/packages/table)).

### Mappe- og filstruktur

Hver mappe med Sass skal ha en `_index.scss` hvor det listes opp `@forward` for alle filer i mappa.

Et unntak er på rotnivå i pakkene (for eksempel `packages/table/_index.scss`). Her skal det være én `@forward` som peker på hovedfila (`table.scss` i dette tilfellet), og så har _den_ fila ansvaret for å hente inn alt som skal være med. Det gjør vi for at Sass skal finne alle avhengighetene til `table.scss` når den kompileres til `table.css`.

### Offentlig API

Mappenavn og filnavn er **ikke** en del av APIet til en pakke og kan endres uten forvarsel, med unntak av:

-   Filnavnet som matcher pakkens navn, for eksempel `core.scss` og `table.scss`. Disse navnene brukes av prosjekter som importerer CSS.
-   `packages/core/_jkl.scss`, som vi ser på som "hovedinngangen" til Sass-verktøy som mixins, funksjoner og variabler i `core`

## Variabler

Med unntak av i `packages/core` skal variabler som regel være _private_. Private variabler kan ikke brukes av andre moduler. Varibler er _private_ om navnet starter med `_` (underscore).

Variabler bør som regel være definert nærmest mulig der den brukes. Hvis en variabel bare er relevant innefor én selector, definer den der.

Variabler som er definert utenfor en CSS selector anses som _globale_ innenfor sin modul. Globale variabler bør være definert øverst i fila, under `@use`-statements.

### Offentlig API

Variabler som er _public_ er en del av pakkens API. En variabel er public dersom navnet _ikke_ starter med `_` (underscore) og variabelen er definert i det globale scopet (utenfor en CSS selector).

Variabler som er public skal dokumenteres med [SassDoc](#sassdoc).

Navnet til variabelen og [typen verdi](https://sass-lang.com/documentation/values/) (for eksempel `String`) er å anse som stabilt.

```scss
/* $_example-padding er brukt av to selectors, og hører hjemme som en global variabel */
$_example-padding: jkl.$spacing-l;
$_code-padding: jkl.$spacing-s;


/// Variabler som ikke starter med _ og som er definert i globalt scope er en del av pakkens API og kan brukes av andre
/// @type String
$i-am-public: "Hello, world!";

.jkl-example-1 {
  padding: $_example-padding;

  &__design {
    $_design-padding: jkl.$spacing-s;
    padding: $_design-padding;
  }
}

.jkl-example-2 {
  padding: $_example-padding;

  &__code {
    /* $_code-padding er bare brukt her, og burde vært definert her, slik som $_design-padding */
    padding: $_code-padding: jkl.$spacing-s;
  }
}
```

## Mixins

Med unntak av i `packages/core` skal mixins som regel være _private_. Private mixins kan ikke brukes av andre moduler. Mixins er _private_ om navnet starter med `_` (underscore).

### Offentlig API

Public mixins er en del av pakkens API. En mixin er _public_ dersom navnet _ikke_ starter med `_` (underscore). Mixins som er _public_ skal dokumenteres med [SassDoc](#sassdoc).

I public mixins er endring i _navnet_ på parametere å anse som en _breaking change_. Det er fordi utviklere kan ha brukt [keyword arguments](https://sass-lang.com/documentation/at-rules/mixin#keyword-arguments).

Om du vil endre navnet på en bakoverkompatibel måte kan du beholdet det gamle navnet som et [optional argument](https://sass-lang.com/documentation/at-rules/mixin#optional-arguments) og håndtere begge parametere internt i mixinen.

## Funksjoner

Med unntak av i `packages/core` skal funksjoner som regel være _private_. Private funksjoner kan ikke brukes av andre moduler. Funksjoner er _private_ om navnet starter med `_` (underscore).

### Offentlig API

Public funksjoner er en del av pakkens API. En funksjon er _public_ dersom navnet _ikke_ starter med `_` (underscore).

Funksjoner som er _public_ skal dokumenteres med [SassDoc](#sassdoc).

I public funksjoner er endring i navnet på parametere å anse som en _breaking change_. Det er fordi utviklere kan ha brukt [keyword arguments](https://sass-lang.com/documentation/at-rules/function#keyword-arguments).

Om du vil endre navnet på en bakoverkompatibel måte kan du beholdet det gamle navnet som et [optional argument](https://sass-lang.com/documentation/at-rules/function#optional-arguments) og håndtere begge parametere internt i funksjonen.

## Animasjoner

Animasjoner definert med `@keyframes` er _ikke namespacet_. Det vil si at alle animasjonsnavn må være unike både på tvers av Jøkul _og_ på tvers av prosjektene som _bruker_ Jøkul. Det stiller noen krav til navngiving av animasjoner i Jøkul.

Vi bruker et [mønster basert på _interpolation_](https://sass-lang.com/documentation/interpolation#in-sassscript) og [string.unique-id()](https://sass-lang.com/documentation/modules/string#unique-id) for å få garantert unike IDer.

```scss
$_dismiss-animation-name: jkl-dismiss-#{string.unique-id()};

.jkl-alert-message {
    /* ... */
    animation: $_dismiss-animation-name jkl.timing("lazy") jkl.easing("exit") forwards;
    /* ... */
}

@keyframes #{$_dismiss-animation-name} {
    from {
        /* ... */
    }

    to {
        /* ... */
    }
}
```

## SassDoc

All Sass-kode som er en del av pakkens offentlige API skal dokumenteres med [SassDoc](http://sassdoc.com).

```scss
/// Add `$unit` to `$value`
/// @param {Number} $value - Value to add unit to
/// @param {String} $unit - String representation of the unit
/// @return {Number} - `$value` expressed in `$unit`
@function to-length($value, $unit) {
    /* ... */
}
```

Dokumentasjonen er til hjelp både for de som skal vedlikeholde koden, og de som skal bruke den.

### Kort om annotasjoner

Det er typisk bare et utvalg dem du trenger å vite om, men se gjerne over [listen med tilgjengelige annotasjoner](http://sassdoc.com/annotations/#description).

Her er en kort oppsummering av de viktigste tingene du trenger å vite:

-   `@access` bruker vi ikke. Det er gitt av navnet på variabelen/funksjonen/mixinen om den er public eller private, og annotasjonen skaper bare støy.
-   `@author` bruker vi bare når vi vil henvise til en opprinnelig forfatter utenfor Fremtind.
-   `@content` bruker vi til å beskrive hvordan mixins som har en `@content` bruker den.
-   `@deprecated` bruker vi for å gi hint om at noe ikke bør brukes lenger, helst med forklaring om hva som bør brukes i stedet.
-   `@example` er fint for å gi et kodeeksempel for ikke-trivielle funksjoner.
-   `@output` beskriver kort hva mixinen produserer av CSS.
-   `@parameter` beskriver hvert enkelt parameter i funksjonen/mixinen.
-   `@return` beskriver kort hva funksjonen returnerer.
-   `@see` peker på relaterte variabler/funksjoner/mixins.
-   `@type` gir et [typehint om variabler](https://sass-lang.com/documentation/values) som kan brukes i SassDoc. Har ingen faktisk typesjekking.

Du trenger ikke alltid bruke alle annotasjonene. Dokumenter det du synes gir mening, så kan det heller finpusses under code review.
