---
title: JÃ¸kul Core versjon 10
author: William Killerud
publishDate: "2022.05.20"
---

<Ingress>
    <code>@fremtind/jkl-core</code> og pakkene som bruker den har fÃ¥tt en ny majorversjon. Her er en oppsummering av hva
    som har endret seg, hvordan du kan sjekke om du blir pÃ¥virket, og noen tips for Ã¥ gjÃ¸re oppgraderingen enklere.
</Ingress>

Kjerneteamet har tatt en skikkelig vÃ¥rrengjÃ¸ring av Sass-kodebasen. Det har blant annet resultert i en ny [Stilguide for Sass](/guider/sass). VÃ¥rrengjÃ¸ringen sÃ¸rger for at JÃ¸kul er klar for fjerningen av den gamle `@import`-syntaksen i Sass, og at Sass-koden har et tydelig dokumentert API.

Endringene i denne versjonen, kort oppsummert:

-   âœ¨ _Alle_ variabler, mixins og funksjoner i `core` er tilgjengelige via `@fremtind/jkl-core/jkl`.
-   ğŸ›‘ Mixins som har hatt prefixet `helper-` har fÃ¥tt dette fjernet.
-   ğŸ›‘ Variabler, funksjoner og mixins fra pakker _annet enn `core`_ er gjort private.
-   ğŸ›‘ CSS-animasjoner er gjort private. [Rop ut](https://github.com/fremtind/jokul/discussions) om du brukte dem, sÃ¥ kan vi finne pÃ¥ noe lurt sammen.
-   ğŸ›‘ CSS-variabler som manglet `jkl-` prefix har nÃ¥ fÃ¥tt dette. Legg til prefix om du brukte dem.
-   ğŸ›‘ `jkl-motion`-funksjonen (_ikke_ mixinen `motion`) er renamet til `easing`.
-   ğŸ›‘ `jkl-timing`-funksjonen er renamet til `timing`.
-   ğŸ›‘ `$jkl--timings` og `$jkl--easings` er fjernet. Bruk `jkl.timing("timing-navn")` og `jkl.easing("easing-navn")` for Ã¥ slÃ¥ opp verdier.
-   ğŸ“š Alle funksjoner og mixins i core har blitt dokumentert med SassDoc.
-   ğŸ‘·â€â™‚ï¸ Ny Sass modulsyntaks brukt internt.

Se [Hvordan forenkle migreringen](#hvordan-forenkle-migreringen) for noen tips og triks til nÃ¥r du skal oppgradere.

## Ikke breaking for alle

Denne versjonen gjÃ¸r bare navneendringer i Sass-kode, CSS-variabler, og CSS-animasjoner.

Hvis du:

-   Bare importerer CSS eller Sass-_stilark_ (for eksempel `@fremtind/jkl-core/core`)
-   Ikke bruker CSS-variabler fra JÃ¸kul i egen kode
-   Ikke bruker CSS-animasjoner fra JÃ¸kul i egen kode

sÃ¥ er det _ingen breaking change_ for deg og du kan bare oppgradere ğŸ¥³

## Alle mixins, variabler, og funksjoner tilgjengelige via `jkl`

Dette skal vÃ¦re alt du trenger fra nÃ¥ for Ã¥ bruke mixins, funksjoner og variabler fra JÃ¸kul:

```scss
@use "@fremtind/jkl-core/jkl";
```

Har du egne `@use` for mixins, funksjoner eller variabler sÃ¥ bÃ¸r disse fjernes. **Bare `@use "@fremtind/jkl-core/jkl";` er ansett som et stabilt API.**

**NB:** du mÃ¥ fremdeles hente _styles_ separat. Dette gjÃ¸r du typisk Ã©n gang der du bygger opp stylesheeten din med alle avhengigheter.

```scss
@use "@fremtind/jkl-core/core";
```

## Navneendringer

Om du ikke bruker `helper-` prefikset til egen kode bÃ¸r det holde med en _search & replace_ her. Ertsatt `helper-` med tom string:

```diff
-   @include jkl.helper-light-mode-variables {
+   @include jkl.light-mode-variables {
        /* ... */
    }

-   @include jkl.helper-dark-mode-variables {
+   @include jkl.dark-mode-variables {
        /* ... */
    }
```

Funksjonen `jkl-motion` har fÃ¥tt navnet `easing` for Ã¥ skille den fra `motion`-mixinen og unngÃ¥ "dobbel JÃ¸kul" i navnet ved bruk av ny modulsyntaks.

Funksjonen `jkl-timing` er nÃ¥ bare `timing` for Ã¥ unngÃ¥ "dobbel JÃ¸kul" i navnet ved bruk av ny modulsyntaks.

Hvis du har brukt `$jkl--timings` eller `$jkl--easings` direkte for Ã¥ hente verdier, bruk funksjonene over i stedet.

CSS-variabler som blir definert i JÃ¸kul har nÃ¥ alltid et `jkl-` prefix. Dette manglet en del steder (se commitene for fullstendig oversikt: [prefix](https://github.com/fremtind/jokul/pull/2868/commits/500ee0e1050de94d8cda07fb423c33837fbf2faa), [namespacing](https://github.com/fremtind/jokul/pull/2868/commits/83fea35f6076ba908378cbc3c834de559e83c1d5)), sÃ¥ hvis du har egen kode som leser eller overstyrer disse variablene mÃ¥ du legge til dette prefixet ogsÃ¥.

## Modulsyntaks

Med denne releasen tar JÃ¸kul i bruk Sass Modules (`@use` og `@forward`). Det **anbefales sterkt** at prosjektet ditt gÃ¥r over til den samme modulsyntaksen, men det vil fungere Ã¥ `@import`ere som fÃ¸r i en periode.

Den gamle `@import`-syntaksen til Sass "frigjÃ¸res" til Ã¥ bli en helt vanlig CSS-import. Med andre ord vil `@import` pÃ¥ sikt slutte Ã¥ fungere som fÃ¸r. Det er planlagt at [Sass sin stÃ¸tte for `@import` for Ã¥ importere Sass fjernes senest 1. oktober 2022](https://github.com/sass/sass/blob/main/accepted/module-system.md#timeline).

Grunnen til at den nye syntaksen ikke er en _drop-in replacement_ [kan du lese mer om i for eksempel denne bloggposten](https://www.oddbird.net/2019/10/02/sass-modules/). Kort fortalt:

-   alle importer blir eksplisitte â€“ vi fÃ¥r ikke lenger uventede variabler, mixins og funksjoner "med pÃ¥ kjÃ¸pet"
-   alle moduler namespaces, sÃ¥ vi unngÃ¥r navnekolisjoner
-   private variabler, funksjoner og mixins blir en feature stÃ¸ttet av selve rammeverket, ikke bare gjennom konvensjoner som `_`-prefix

Om du foretrekker video er [denne YouTube-gjennomgangen](https://www.youtube.com/watch?v=dOnYNEXv9BM) fin.

## Hvordan forenkle migreringen

Test om du kan bruke [sass-migrator](https://sass-lang.com/documentation/cli/migrator#module), `npx sass-migrator --migrate-deps module style.scss` hvor `style.scss` er "rot-stilarket" ditt. VerktÃ¸yet stÃ¸tter dessverre ikke custom importers, men gi det et forsÃ¸k og se hva som skjer.

Om du mÃ¥ manuelt til verks kan disse stegene hjelpe, basert pÃ¥ erfaringen med Ã¥ migrere internt i JÃ¸kul:

-   Begynn med Ã¥ fjerne alt av `@import` og erstatt med Ã©n `@use "@fremtind/jkl-core/jkl";`
-   Bruk _search and replace_ for alt det er verdt:
    -   ` rem(` erstattes av ` jkl.rem(`
    -   `#{rem` erstattes av `#{jkl.rem`
    -   `@include light-mode-variables` erstattes av `@include jkl.light-mode-variables`
    -   `@include dark-mode-variables` erstattes av `@include jkl.dark-mode-variables`
    -   `@include motion` erstattes av `@include jkl.motion`
    -   `@include text-style` erstattes av `@include jkl.text-style`
    -   `@include screenreader-only` erstattes av `@include jkl.screenreader-only`
    -   `@include no-grow-bold` erstattes av `@include jkl.no-grow-bold`
    -   `@include small-device` erstattes av `@include jkl.small-device`
    -   `@include medium-device` erstattes av `@include jkl.medium-device`
    -   `@include from-medium-device` erstattes av `@include jkl.from-medium-device`
    -   `@include large-device` erstattes av `@include jkl.large-device`
    -   `@include from-large-device` erstattes av `@include jkl.from-large-device`
    -   `@include xl-device` erstattes av `@include jkl.xl-device`
    -   `@include reset-outline` erstattes av `@include jkl.reset-outline`
    -   `@include keyboard-navigation` erstattes av `@include jkl.keyboard-navigation`

**NB**: Det at Sass kompilerer betyr _ikke_ at alt er i orden. SÃ¦rlig funksjonskall som `rem()` kan behandles som _strings_ hvis funksjonen ikke blir funnet. Da ender du opp med CSS som ser ut som `font-size: rem(20px);` sendt rett til nettleseren, som ikke funker. VÃ¦r ekstra nÃ¸ye med funksjoner, og test i en nettleser.

## SassDoc

Funksjoner, mixins, og en del variabler i `core` er dokumentert med [SassDoc](http://sassdoc.com/annotations/). Hvis du bruker extensionen [Some Sass](https://marketplace.visualstudio.com/items?itemName=SomewhatStationery.some-sass) (erstatter SCSS IntelliSense) kan du fÃ¥ denne dokumentasjonen opp i editoren.

<PortalImage
    loading="lazy"
    src="/assets/blog/updates/core-10/core-10-sassdoc-demo.gif"
    caption="Her er et eksempel pÃ¥ hvordan det kan se ut med SassDoc i Visual Studio Code."
/>
