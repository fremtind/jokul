"use strict";(self.webpackChunk_fremtind_portal=self.webpackChunk_fremtind_portal||[]).push([[1306],{95576:function(e,t,n){n.r(t),n.d(t,{DocPageLayout:function(){return V},Head:function(){return L},default:function(){return F}});var r=n(75615),l=n(70079),a=n(59356),s=n(53730),i=n(72735),o=n(68705),m=n(76666),d=n(68921),c=n(25316),p=n(13230),k=n(52591),u=n(27450),g=n(84550);const f=[{prop:"Radioknapper",defaultValue:!0},{prop:"Tekstfelt",defaultValue:!0},{prop:"Datovelgere",defaultValue:!1},{prop:"Nedtrekksfelt",defaultValue:!0},{prop:"Avmerkingsbokser",defaultValue:!0}],v=e=>{var t,n,r,f,v,j;let{boolValues:E}=e;const b=null==E?void 0:E.Radioknapper,h=null==E?void 0:E.Tekstfelt,_=null==E?void 0:E.Datovelgere,y=null==E?void 0:E.Avmerkingsbokser,N=null==E?void 0:E.Nedtrekksfelt,{formState:w,handleSubmit:D,register:x,watch:S}=(0,g.cI)(),L=S();return console.table(L),l.createElement("form",{className:"jkl-spacing-40--left",onSubmit:D((e=>console.table(e)))},l.createElement("p",{className:"jkl-heading-4 jkl-spacing-16--bottom"},"Hvem er eier av forsikringen?"),b&&l.createElement(p.S,{className:"jkl-spacing-24--bottom",labelProps:{variant:"small"},legend:"Kjønn",errorLabel:null===(t=w.errors.kjonn)||void 0===t?void 0:t.message},l.createElement(k.E,Object.assign({},x("kjonn",{required:"Du må oppgi kjønn på eieren av forsikringen"}),{label:"Kvinne",value:"kvinne"})),l.createElement(k.E,Object.assign({},x("kjonn",{required:"Du må oppgi kjønn på eieren av forsikringen"}),{label:"Mann",value:"mann"}))),h&&l.createElement(l.Fragment,null,l.createElement(a.o,Object.assign({},x("fodselsnummer",{required:"Du må fylle ut eierens fødselsnummer",pattern:{value:/^\d{11}$/,message:"Fødselsnummeret må bestå av 11 siffer"}}),{className:"jkl-spacing-24--bottom",label:"Fødselsnummer",errorLabel:null===(n=w.errors.fodselsnummer)||void 0===n?void 0:n.message})),l.createElement(a.o,Object.assign({},x("navn",{required:"Du må fylle ut eierens for- og etternavn"}),{className:"jkl-spacing-24--bottom",label:"For- og etternavn",errorLabel:null===(r=w.errors.navn)||void 0===r?void 0:r.message}))),_&&l.createElement(i.M,Object.assign({className:"jkl-spacing-24--bottom",disableAfterDate:(0,o.Bb)(new Date),errorLabel:null===(f=w.errors.fodselsdato)||void 0===f?void 0:f.message,label:"Fødselsdato"},x("fodselsdato",{required:"Du må fylle ut fødselsdato",validate:{isCorrectFormat:e=>(0,m.R0)(e)||"Datoen må være skrevet i formen "+(0,c.p)(new Date)+" eller kortformat",withinUpperBound:e=>(0,m.Xc)(e,new Date)||"Datoen må være før "+(0,c.p)(new Date)}}))),N&&l.createElement(u.P,Object.assign({},x("stilling",{required:"Du må oppgi eierens stilling"}),{className:"jkl-spacing-40--bottom",errorLabel:null===(v=w.errors.stilling)||void 0===v?void 0:v.message,items:["Designer","Utvikler","Tester","Leder","Annet"],label:"Stilling",width:"14rem"})),y&&l.createElement(d.N,{legend:"Er klient",labelProps:{variant:"small"},errorLabel:null===(j=w.errors.klient)||void 0===j?void 0:j.message},l.createElement(s.X,Object.assign({},x("klient"),{value:"ja"}),"Ja")))};var j=n(1665),E=n(55154),b=n(20524);const h=()=>l.createElement("div",{className:"jkl-spacing-64--bottom"},l.createElement("section",{className:"jkl-portal-component-example"},l.createElement("div",{className:"jkl-portal-component-example__example-wrapper"},l.createElement("form",{className:"jkl-portal-form-field-anatomy jkl-spacing-40--left",onSubmit:e=>e.preventDefault()},l.createElement("span",{className:"jkl-portal-form-field-anatomy__indicator jkl-portal-form-field-anatomy__indicator--heading","aria-hidden":"true"},l.createElement("span",{className:"jkl-portal-form-field-anatomy__indicator-number"},"1")),l.createElement("p",{className:"jkl-heading-4 jkl-spacing-16--bottom"},"Forsikringseier"),l.createElement("span",{className:"jkl-portal-form-field-anatomy__indicator jkl-portal-form-field-anatomy__indicator--label","aria-hidden":"true"},l.createElement("span",{className:"jkl-portal-form-field-anatomy__indicator-number"},"2")),l.createElement("span",{className:"jkl-portal-form-field-anatomy__indicator jkl-portal-form-field-anatomy__indicator--input","aria-hidden":"true"},l.createElement("span",{className:"jkl-portal-form-field-anatomy__indicator-number"},"3")),l.createElement("span",{className:"jkl-portal-form-field-anatomy__indicator jkl-portal-form-field-anatomy__indicator--support-label","aria-hidden":"true"},l.createElement("span",{className:"jkl-portal-form-field-anatomy__indicator-number"},"4")),l.createElement(a.o,{className:"jkl-spacing-24--bottom",name:"fodselsnummer",label:"Fødselsnummer",defaultValue:"Input",helpLabel:"Hjelpetekst eller feilmeldingstekst"}),l.createElement("span",{className:"jkl-portal-form-field-anatomy__indicator jkl-portal-form-field-anatomy__indicator--input-with-icon","aria-hidden":"true"},l.createElement("span",{className:"jkl-portal-form-field-anatomy__indicator-number"},"5")),l.createElement(b.p,{placeholder:"Placeholder",items:["Designer","Utvikler","Tester","Leder","Annet"],label:"Stilling",width:"14rem"}))),l.createElement("aside",{className:"jkl-portal-component-example__example-options"},l.createElement(j.GS,null,l.createElement(E.HC,null,"Ledetekst"),l.createElement(E.HC,null,"Overskrift"),l.createElement(E.HC,null,"Inputfelt"),l.createElement(E.HC,null,"Hjelpetekst"),l.createElement(E.HC,null,"Inputfelt med ikon")))));function _(e){const t=Object.assign({h1:"h1",p:"p",h2:"h2",h3:"h3",em:"em",a:"a",ul:"ul",li:"li"},(0,r.ah)(),e.components),{Ingress:n,ComponentExample:s,PortalImage:i,Grid:o,DoDontExample:m}=t;return s||N("ComponentExample",!0),m||N("DoDontExample",!0),o||N("Grid",!0),n||N("Ingress",!0),i||N("PortalImage",!0),l.createElement(l.Fragment,null,l.createElement(t.h1,null,"Skjemadesign"),"\n",l.createElement(n,null,l.createElement(t.p,null,"Skjemaer er viktige i Fremtinds løsninger og vi ønsker at de skal være konsekvente. Her finner du noen regler for\nskjemaoppsett og hvordan vi bruker skjemakomponentene.")),"\n",l.createElement(t.h2,null,"Skjemaseksjoner"),"\n",l.createElement(t.p,null,"I Jøkul har vi flere skjemakomponenter. En eller flere skjemakomponenter sammen, utgjør en skjemaseksjon, og et skjema kan bestå av en eller flere seksjoner."),"\n",l.createElement(s,{title:"",component:v,knobs:{boolProps:f}}),"\n",l.createElement(t.p,null,"Hver skjemakomponent har en ledetekst. Det kan være en overskrift med et spørsmål, et ord eller en setning, som sier noe om hva vi ønsker at brukeren skal oppgi eller gjøre. Deretter er det selve komponenten som brukeren skal gjøre noe med, og eventuelt en hjelpetekst eller melding."),"\n",l.createElement(h),"\n",l.createElement(t.p,null,"Vi avgrenser seksjoner tydelig fra hverandre. Hvis seksjonene ligger på en felles bakgrunn, bruker vi luft til å vise dette skillet. Ellers kan vi ramme dem inn i egne kort. Hvis det er nødvendig, kan vi ha en overskrift på hver seksjon."),"\n",l.createElement(i,{className:"jkl-spacing-40--bottom",src:"/assets/documentation/skjemadesign/skjemadesign_hund.png",alt:"Skjermbilde av et skjemadesign fra kjøpsflyten for hundeforsikring"}),"\n",l.createElement(t.p,null,"De interne løsningene vi lager, kan ha mer kompakte skjemakomponenter. Det kan være nyttig hvis det er viktig å komprimere informasjonen vi gir i et skjermbilde, men hovedregelen er at vi skal følge prinsippene for skjemaoppsett."),"\n",l.createElement(t.h3,null,"Hvilken størrelse skal ledetekstene ha i et dynamisk skjema?"),"\n",l.createElement(t.p,null,"I et dynamisk skjema kommer underordnede spørsmål frem når brukeren har tatt stilling til ett eller flere steg i skjemaet. Velg størrelse på ledeteksten ut fra det brukeren ser i standardmodus. Det vil si at hvis en seksjon starter med bare ett spørsmål, velger du stor ledetekst, mens spørsmålene som dukker opp når du har svart på dette ene spørsmålet, får normal ledetekst. Svar på ett spørsmål kan også starte en ny skjemaseksjon."),"\n",l.createElement(t.h2,null,"Skjemavalidering"),"\n",l.createElement(t.p,null,"Det er vanskelig å komme med en ferdig mal for validering som fungerer for alle skjema i alle sammenhenger. Det som beskrives her er en ",l.createElement(t.em,null,"anbefaling")," og et godt utgangspunkt. Om du opplever at deler av anbefalingen ikke fungerer godt for deg er det helt lov å gjøre noe annet."),"\n",l.createElement(t.p,null,"Som hovedregel følger vi i stor grad det funksjonelle i ",l.createElement(t.a,{href:"https://www.uutilsynet.no/wcag-standarden/skjema/38#formidle_feil_i_skjema_1"},"uutilsynets løsningsforslag for skjema"),". Vi beskriver noen av disse temaene i vår egen ",l.createElement(t.a,{href:"/universell-utforming/guide"},"oppslagsguide for universell utforming")," også."),"\n",l.createElement(t.p,null,"Kort fortalt:"),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"Vi validerer skjemaet for første gang når brukeren prøver å sende inn skjemaet eller det gjeldende steget"),"\n",l.createElement(t.li,null,"Hvert skjemafelt merkes med ",l.createElement(t.a,{href:"/profil/farger"},"statusfargen vår for feil")," og får en beskrivende feilmelding"),"\n",l.createElement(t.li,null,"Vi lister også alle feilmeldingene i skjemaet i en ",l.createElement(t.a,{href:"/komponenter/messagebox"},"FormErrorMessageBox")," i starten av skjemaet"),"\n",l.createElement(t.li,null,"Vi scroller opp til denne listen automatisk og flytter tastaturfokus til første skjemafelt"),"\n",l.createElement(t.li,null,"Når brukeren retter feilen skjuler vi feilmeldingen med én gang begge steder, og går tilbake til standard farge"),"\n",l.createElement(t.li,null,"Når alle feil er rettet fjerner vi oppsummeringen fra starten av skjemaet"),"\n"),"\n",l.createElement(t.h3,null,"Valider skjemaet ved forsøk på innsending"),"\n",l.createElement(t.p,null,"Mange skjemaer er delt inn i flere sider eller steg, mens andre er korte nok til at alt er på samme side. Om et skjema har flere steg skal hvert steg valideres for seg selv. Et steg må være uten feil for at brukeren skal kunne gå videre til neste steg."),"\n",l.createElement(t.p,null,"Vi viser ingen valideringsfeil før brukeren har prøvd å trykke seg videre i skjemaet."),"\n",l.createElement(t.p,null,"Et unntak gjøres dersom et valg gjort i skjemaet gjør at vi vet at brukeren ikke får lov til å gå videre i flyten. I disse tilfellene viser vi en ",l.createElement(t.a,{href:"/komponenter/messagebox"},"InfoMessageBox")," under skjemafeltet som forklarer hvorfor brukeren ikke trenger fortsette med utfyllingen av skjemaet, og hva neste steg er for dem. Beskjeden dukker opp med en gang valget er gjort så brukeren slipper fylle ut unødvendig informasjon."),"\n",l.createElement(i,{className:"jkl-spacing-40--bottom",src:"/assets/documentation/skjemadesign/skjemavalidering_blocker.png",alt:"Skjermbilde av et skjema hvor vi informerer brukeren om riktig vei videre i en InfoMessageBox"}),"\n",l.createElement(t.h3,null,"Liste med feilene i skjemaet"),"\n",l.createElement(t.p,null,"Et skjema kan ofte ha flere feil, og noen ganger feil som er knyttet til hverandre, gjerne kalt kryssvalidering. For å gi brukeren en oversikt over feilene lister vi opp samtlige feil i en ",l.createElement(t.a,{href:"/komponenter/messagebox"},"ErrorMessageBox")," som vises over skjemaet (se ",l.createElement(t.a,{href:"/komponenter/messagebox#i-skjema"},"FormErrorMessageBox")," for en variant med ferdige animasjoner)."),"\n",l.createElement(t.p,null,"Innholdet i denne meldingsboksen skal være ",l.createElement(t.em,null,"selve feilmeldingene"),". Det holder ikke å liste ",l.createElement(t.em,null,"ledeteksten")," til skjemafeltene det gjelder. Innholdet blir lest opp av skjermlesere."),"\n",l.createElement(t.p,null,"Vi scroller automatisk opp så toppen av meldingsboksen er synlig for brukeren. Første inputfelt under oppsummeringen får tastaturfokus, sånn at tastaturbrukere enklere kan komme i gang med rettingen av feil."),"\n",l.createElement(i,{className:"jkl-spacing-40--bottom",src:"/assets/documentation/skjemadesign/skjemavalidering_error_summary.png",alt:"Skjermbilde av en oppsummering av fire valideringsfeil vist i en ErrorMessageBox"}),"\n",l.createElement(t.h3,null,"Feilmeldinger under skjemafelt"),"\n",l.createElement(t.p,null,"Om et skjemafelt har feil viser vi en feilmeldingstekst under feltet. Vi har valgt at valideringsteksten skal erstatte hjelpeteksten. Derfor er det veldig viktig at feilmeldingen også tar med seg informasjonen fra hjelpeteksten, i tillegg til å forklare hva som er feil."),"\n",l.createElement(o,null,l.createElement(m,{type:"do",description:"Feilmeldingen inkluderer hjelpeteksten.",content:l.createElement(a.o,{label:"Fødselsnummer",errorLabel:"Du må fylle ut fødselsnummer, 11 siffer",defaultValue:"Input"})}),l.createElement(m,{type:"dont",description:"Feilmeldingen mangler hjelpeteksten.",content:l.createElement(a.o,{label:"Fødselsnummer",errorLabel:"Fødselsnummeret er feil",defaultValue:"Input"})})),"\n",l.createElement(t.h3,null,"Retting av feil"),"\n",l.createElement(t.p,null,"Feilmeldingene forsvinner og skjemaet går tilbake til vanlig farge med én gang feilen er rettet. Brukeren skal ikke trenge å gå videre til neste skjemafelt for at statusen skal oppdateres."),"\n",l.createElement(t.p,null,"Vi fjerner feilmeldingen fra oppsummeringen på samme måte som for skjemafeltet. Den forsvinner med én gang feilen er rettet. Når siste feil er rettet skjuler vi selve meldingsboksen."),"\n",l.createElement(t.h3,null,"Vertikal bevegelse"),"\n",l.createElement(t.p,null,"Siden høyden på oppsummeringen av feil endrer seg underveis er det en fare for at scrollposisjonen til brukeren endres."),"\n",l.createElement(t.p,null,"Moderne nettlesere har støtte for ",l.createElement(t.a,{href:"https://drafts.csswg.org/css-scroll-anchoring"},"CSS Scroll Anchoring")," uten at vi trenger å foreta oss noe, ",l.createElement(t.a,{href:"https://caniuse.com/css-overflow-anchor"},"med unntak av Safari")," som ikke har støtte i skrivende stund. Dette er en del av CSS-spesifikasjonen, så Safari kommer til å få støtte på sikt."),"\n",l.createElement(t.p,null,"Det vil uansett kunne bli noe vertikal bevegelse når vi fjerner feilmeldingene fra skjemafeltene, dersom det ikke er noen hjelpetekst til vanlig."),"\n",l.createElement(t.h3,null,"Eksempel på skjemavalidering"),"\n",l.createElement(t.p,null,"Det er mange detaljer her, og mye å sette seg inn i. Et bilde sier mer enn tusen ord, og et interaktivt eksempel sier enda mer enn det!"),"\n",l.createElement("a",{href:"/eksempler/skjemavalidering",className:"jkl-spacing-24--top jkl-spacing-64--bottom jkl-button jkl-button--primary"},l.createElement(t.p,null,"Gå til eksempelet")))}var y=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,r.ah)(),e.components);return t?l.createElement(t,e,l.createElement(_,e)):_(e)};function N(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}var w=n(71111),D=n(16569),x=n(72892),S=n(479);const L=e=>{let{pageContext:t}=e;return l.createElement(D.p,{title:t.title})},V=e=>{let{location:t,data:n,pageContext:r,children:a}=e;const{frontmatter:s}=n.page,{types:i}=r;return l.createElement(S.M,{className:"/profil/bildebruk"===t.pathname?"jkl-portal__main--no-margin":void 0},l.createElement(x.M1,Object.assign({},s,{versions:r.versions})),l.createElement(x.w5,s),a,i&&l.createElement(w.l,{types:i}))};function F(e){return l.createElement(V,e,l.createElement(y,e))}},71111:function(e,t,n){n.d(t,{l:function(){return k}});var r=n(57986),l=n(80252),a=n(50601),s=n(70079);const i=e=>s.createElement("code",{className:"jkl-portal-inline-code"},e),o=e=>{var t;return null===(t=e.declarations)||void 0===t?void 0:t.some((e=>e.fileName.includes("node_modules")))},m=e=>{var t;return null===(t=e.declarations)||void 0===t?void 0:t.some((t=>"children"===e.name||!t.fileName.includes("node_modules")))},d=(e,t)=>{const{scrollLeft:n,scrollWidth:r}=e,{clientWidth:l}=t,a=n>0,s=r-n>l;t.classList.toggle("left-shadow",a),t.classList.toggle("right-shadow",s)},c=e=>{const t=e.target,n=t.parentElement;d(t,n)},p=e=>{let{props:t}=e;const n=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=n.current;if(e&&window.MutationObserver){const t=new window.MutationObserver((t=>{t.forEach((t=>{if("attributes"===t.type&&"hidden"===t.attributeName){const t=e.querySelector(".jkl-portal-api-docs-table__table");t&&d(t,e)}}))})),r=n.current.parentElement.parentElement;t.observe(r,{attributes:!0,attributeFilter:["hidden"]})}}),[]),s.createElement("div",{ref:n,className:"jkl-portal-api-docs-table"},s.createElement("div",{onScroll:c,className:"jkl-portal-api-docs-table__wrapper"},s.createElement(a.w,{className:"jkl-portal-api-docs-table__table",verticalAlign:"top",columns:["Prop","Beskrivelse","Standardverdi","Påkrevd","Type"],rows:(r=t,r.map((e=>{var t,n;return[e.name?i(e.name):"",e.description,null!==(t=e.defaultValue)&&void 0!==t&&t.value?i(e.defaultValue.value):"ingen",e.required?"Påkrevd":"Ikke påkrevd",null!==(n=e.type)&&void 0!==n&&n.name?i(e.type.name):""]})))})));var r},k=e=>{let{types:t}=e;return s.createElement("section",{className:"jkl-spacing-104--bottom jkl-portal-paragraph"},s.createElement("h2",{className:"jkl-heading-1 jkl-spacing-104--top"},"React API"),s.createElement("p",{className:"jkl-body jkl-spacing-16--top"},"Her finner du en oversikt over props på komponentene i pakken."),s.createElement(r.U,{className:"jkl-spacing-40--top jkl-portal-api-docs"},Object.entries(t).map((e=>{let[t,n]=e;const r=n.props?Object.values(n.props).filter(m):[],a=n.props?Object.values(n.props).filter(o):[];return s.createElement(l.Q,{title:t,key:t,className:"jkl-portal-api-docs__item"},r.length>0&&s.createElement(p,{props:r}),a.length>0&&s.createElement(s.Fragment,null,s.createElement("p",{className:"jkl-portal-api-docs__external-props-header"},"Arvede props"),s.createElement(p,{props:a})))}))))}},57986:function(e,t,n){n.d(t,{U:function(){return s}});var r=n(26372),l=n.n(r),a=n(70079);const s=e=>{let{className:t,density:n,...r}=e;return a.createElement("div",{"data-testid":"jkl-accordion",className:l()("jkl-accordion",t),"data-density":n,...r})}},80252:function(e,t,n){n.d(t,{Q:function(){return m}});var r=n(14092),l=n(89292),a=n(26372),s=n.n(a),i=n(70079);const o=e=>{let{expanded:t=!1,className:n}=e;return i.createElement("span",{className:s()("jkl-accordion-item__arrow",n,{"jkl-accordion-item__arrow--expanded":t})},i.createElement("svg",{className:"jkl-accordion-item__arrow-down",viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M11.15 8.51998L10.35 7.73998L6.54999 11.58L6.55 0.699982L5.43 0.699982L5.43 11.56L1.67 7.73998L0.869995 8.51998L6.01 13.54L11.15 8.51998Z",fill:"currentColor"})),i.createElement("svg",{className:"jkl-accordion-item__arrow-up",viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M0.940002 5.71998L1.74 6.49998L5.54 2.65998V13.54H6.66V2.67998L10.42 6.49998L11.22 5.71998L6.08 0.699982L0.940002 5.71998Z",fill:"currentColor"})))},m=e=>{let{children:t,title:n,className:a,startExpanded:m=!1,onClick:d,...c}=e;const p=(0,r.M)("title"),k=(0,r.M)("content"),{0:u,1:g}=(0,i.useState)(m),[f]=(0,l.v)(u,{easing:"exit",timing:"expressive"});return i.createElement("div",{"data-testid":"jkl-accordion-item",...c,className:s()("jkl-accordion-item",a,{"jkl-accordion-item--expanded":u})},i.createElement("button",{id:p,className:"jkl-accordion-item__title",type:"button","aria-expanded":u,"aria-controls":k,onClick:e=>{const t=!u;g(t),d&&d(e,t)}},n,i.createElement(o,{expanded:u})),i.createElement("div",{id:k,ref:f,"data-testid":"jkl-accordion-item__content-wrapper",className:"jkl-accordion-item__content-wrapper",role:"group","aria-labelledby":p,hidden:!u},i.createElement("div",{className:"jkl-accordion-item__content"},t)))}},50601:function(e,t,n){n.d(t,{w:function(){return c}});var r=n(70079),l=n(64327),a=n(1807),s=n(11348),i=n(12675),o=n(14687),m=n(61211),d=n(39666);const c=(0,r.forwardRef)(((e,t)=>{let{caption:n,columns:c,emptyTableText:p,rows:k,verticalAlign:u,...g}=e;return r.createElement(l.i,{fullWidth:!0,...g,ref:t},n&&r.createElement(s.R,{srOnly:!0},n),r.createElement(o.s,null,r.createElement(d.S,null,c.map(((e,t)=>r.createElement(m.x,{key:t,density:"compact",bold:!0},e))))),r.createElement(a.R,null,0===k.length&&p&&r.createElement(d.S,null,r.createElement(i.p,{colSpan:c.length},p)),k.map(((e,t)=>r.createElement(d.S,{key:t},e.map(((e,t)=>r.createElement(i.p,{key:t,"data-th":c[t],verticalAlign:u},e))))))))}));c.displayName="DataTable"}}]);