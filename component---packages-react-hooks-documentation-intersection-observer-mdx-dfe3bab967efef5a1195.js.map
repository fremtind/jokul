{"version":3,"sources":["webpack:///../packages/react-hooks/documentation/IntersectionObserverExample.tsx","webpack:///../packages/react-hooks/documentation/intersectionObserver.mdx","webpack:///../packages/react-hooks/src/useIntersectionObserver/useIntersectionObserver.ts"],"names":["IntersectionObserverExample","useState","isInViewport","setIsInViewport","targetRef","useRef","useIntersectionObserver","entires","some","entry","isIntersecting","console","log","rootMargin","threshold","className","style","height","ref","_frontmatter","makeShortcode","name","props","warn","Ingress","ComponentExample","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","component","isMDXComponent","hasWindowWithIntersectionObserver","window","IntersectionObserver","onIntersect","fallback","options","observerRef","useEffect","observer","current","target","disconnect","observe"],"mappings":"wRAgCeA,G,UA5BqB,WAAM,MACEC,oBAAS,GAA1CC,EAD+B,KACjBC,EADiB,KAEhCC,EAAYC,iBAAO,MAUzB,OAFAC,YAAwBF,GANJ,SAACG,GACjBJ,EAAgBI,EAAQC,MAAK,SAACC,GAAD,OAAWA,EAAMC,sBAEjC,kBAAMC,QAAQC,IAAI,wCACnB,CAAEC,WAAY,MAAOC,UAAW,CAAC,EAAK,KAKlD,yBACIC,UAAS,6BACLb,EAAe,oCAAsC,0CAGzD,uBAAGa,UAAU,8BAA8BC,MAAO,CAAEC,OAAQ,UAA5D,4BAGA,uBAAGF,UAAU,8BAA8BG,IAAKd,GAAhD,gDClBCe,EAAe,GAEtBC,EAAgB,SAAAC,GAAI,OAAI,SAA6BC,GAEzD,OADAX,QAAQY,KAAK,aAAeF,EAAO,2EAC5B,kBAASC,KAGZE,EAAUJ,EAAc,WACxBK,EAAmBL,EAAc,oBACjCM,EAAc,CAClBP,gBAEIQ,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGR,EACF,8BACD,OAAO,YAACK,EAAD,iBAAeD,EAAiBJ,EAAhC,CAAuCQ,WAAYA,EAAYC,QAAQ,cAI5E,YAACP,EAAD,CAASO,QAAQ,WAAjB,oRAKA,YAACN,EAAD,CAAkBO,UAAWhC,EAA6B+B,QAAQ,sBAKtEF,EAAWI,gBAAiB,G,kCCtC5B,kDAEMC,EAAoC,iBACpB,oBAAXC,QAA0D,oBAAzBC,sBAE/B9B,EAA0B,SACnCF,EACAiC,EACAC,EACAC,GAEA,IAAMC,EAAcnC,iBAA6B,MAEjDoC,qBAAU,WACN,IAAIC,EAAWF,EAAYG,QAC3B,GAAIT,IAAqC,CACrC,IAAMU,EAASxC,EAAUuC,QAErBD,GACAA,EAASG,aAGbH,EAAW,IAAIN,qBAAqBC,EAAaE,GAE7CK,GACAF,EAASI,QAAQF,QAGrBN,IAEJ,OAAO,WACCJ,KAAuCQ,GACvCA,EAASG,gBAGlB,CAACzC,EAAWiC,EAAaC,EAAUC","file":"component---packages-react-hooks-documentation-intersection-observer-mdx-dfe3bab967efef5a1195.js","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { useIntersectionObserver } from \"../src/useIntersectionObserver/useIntersectionObserver\";\nimport \"./index.scss\";\n\nconst IntersectionObserverExample = () => {\n    const [isInViewport, setIsInViewport] = useState(false);\n    const targetRef = useRef(null);\n\n    const onIntersect = (entires: IntersectionObserverEntry[]) => {\n        setIsInViewport(entires.some((entry) => entry.isIntersecting));\n    };\n    const fallback = () => console.log(\"IntersectionObserver not supported\");\n    const options = { rootMargin: \"0px\", threshold: [0.0, 1.0] };\n\n    useIntersectionObserver(targetRef, onIntersect, fallback, options);\n\n    return (\n        <div\n            className={`jlk-intersection-example ${\n                isInViewport ? \"jlk-intersection-example--visible\" : \"jlk-intersection-example--not-visible\"\n            }`}\n        >\n            <p className=\"jkl-body jkl-spacing--all-2\" style={{ height: \"100vh\" }}>\n                Scroll for å endre farge\n            </p>\n            <p className=\"jkl-body jkl-spacing--all-2\" ref={targetRef}>\n                Scroll tilbake for å endre fargen tilbake\n            </p>\n        </div>\n    );\n};\n\nexport default IntersectionObserverExample;\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/jokul/jokul/portal/src/components/Layout/DocPageLayout.tsx\";\nimport IntersectionObserverExample from \"./IntersectionObserverExample\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Ingress = makeShortcode(\"Ingress\");\nconst ComponentExample = makeShortcode(\"ComponentExample\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <Ingress mdxType=\"Ingress\">\n    useIntersectionObserver lar deg lytte på om et element er synlig eller ikke. Det gjør det mulig å animere innhold\n    inn, eller prelaste innhold som er rett uten for viewporten. I eksemplet brukes det til å bytte bakgrunnsfarge når\n    andre paragrafen kommer helt inn i visning.\n    </Ingress>\n    <ComponentExample component={IntersectionObserverExample} mdxType=\"ComponentExample\" />\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import { useEffect, useRef, RefObject } from \"react\";\n\nconst hasWindowWithIntersectionObserver = () =>\n    typeof window !== \"undefined\" && typeof IntersectionObserver !== \"undefined\";\n\nexport const useIntersectionObserver = (\n    targetRef: RefObject<HTMLElement | SVGElement>,\n    onIntersect: IntersectionObserverCallback,\n    fallback: VoidFunction,\n    options?: Partial<IntersectionObserverInit>,\n) => {\n    const observerRef = useRef<IntersectionObserver>(null);\n\n    useEffect(() => {\n        let observer = observerRef.current;\n        if (hasWindowWithIntersectionObserver()) {\n            const target = targetRef.current;\n\n            if (observer) {\n                observer.disconnect();\n            }\n\n            observer = new IntersectionObserver(onIntersect, options);\n\n            if (target) {\n                observer.observe(target);\n            }\n        } else {\n            fallback();\n        }\n        return () => {\n            if (hasWindowWithIntersectionObserver() && observer) {\n                observer.disconnect();\n            }\n        };\n    }, [targetRef, onIntersect, fallback, options]);\n};\n"],"sourceRoot":""}